[Script Info]
; Script generated by Aegisub 3.1.2
; http://www.aegisub.org/
Title: Default Aegisub file
ScriptType: v4.00+
WrapStyle: 0
ScaledBorderAndShadow: yes
YCbCr Matrix: None
Last Style Storage: Default
Aegisub Scroll Position: 0
Aegisub Active Line: 2
Aegisub Video Zoom Percent: 1.000000

[V4+ Styles]
Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding
Style: yin,冬青黑体简体中文 W3,20,&H00FFFFFF,&HF0000000,&H00000000,&H32000000,0,0,0,0,100,100,0,0,1,1,0,2,5,5,5,134

[Events]
Format: Layer, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text
Dialogue: 0,0:00:05.25,0:00:07.43,yin,,0,0,0,, 斯坦福大学 \N{\fs12}Stanford University.
Dialogue: 0,0:00:08.81,0:00:14.91,yin,,0,0,0,, 欢迎来到 2013/14 学年秋季 CS193P 课程第三讲 \N{\fs12}Okay, well welcome to Lecture number 3 of CS193p for fall of 2013/14.
Dialogue: 0,0:00:14.91,0:00:18.67,yin,,0,0,0,, 今天我将直接跳到一个 demo\N{\fs12}Today I’m going to jump right into a demo and then
Dialogue: 0,0:00:18.67,0:00:20.92,yin,,0,0,0,, 然后我有一些幻灯片 \N{\fs12}after that I have some slides, time permitting,
Dialogue: 0,0:00:20.92,0:00:25.89,yin,,0,0,0,, 假设 demo 不需要整堂课时间 \N{\fs12}assuming the demo doesn’t take the whole time here,
Dialogue: 0,0:00:25.89,0:00:28.19,yin,,0,0,0,,demo 要做的是 \N{\fs12}and after, the demo I’m going to do is I’m going
Dialogue: 0,0:00:28.19,0:00:33.99,yin,,0,0,0,, 将上周我们做的纸牌工作用到真正的纸牌匹配游戏 \N{\fs12}to take the little card thing we did last week and turn it into a real card matching game
Dialogue: 0,0:00:33.99,0:00:37.71,yin,,0,0,0,, 我们将真正开始匹配 而不只是翻来翻去 \N{\fs12}where we’re actually matching cards, okay, rather than just flipping them over.
Dialogue: 0,0:00:37.71,0:00:39.64,yin,,0,0,0,, 如果时间允许 \N{\fs12}And, like I say, if I have the time
Dialogue: 0,0:00:39.64,0:00:42.64,yin,,0,0,0,, 我还会进一步讲 Objective-C\N{\fs12}I’ll talk a little bit more about objective-C and we’re really going to go
Dialogue: 0,0:00:42.64,0:00:46.05,yin,,0,0,0,, 周三我将非常详细地讲到 Objective-C\N{\fs12}into objective-C on Wednesday in quite a bit of detail.
Dialogue: 0,0:00:46.05,0:00:50.83,yin,,0,0,0,, 我还附上了一些复习幻灯片在最后 \N{\fs12}I also included on the stuff I posted some review slides at the end just kind
Dialogue: 0,0:00:50.83,0:00:54.18,yin,,0,0,0,, 复习前三讲我们所学的内容 \N{\fs12}of reviewing what we will have learned in the first three lectures,
Dialogue: 0,0:00:54.18,0:00:56.74,yin,,0,0,0,, 让你们能够快速回顾 并问自己是否理解 \N{\fs12}just so you can kind of look through it real quick and say oh yeah, do I know that?
Dialogue: 0,0:00:56.74,0:00:57.86,yin,,0,0,0,, 让你们能够快速回顾 并问自己是否理解 \N{\fs12}Yeah I do,
Dialogue: 0,0:00:57.86,0:01:02.64,yin,,0,0,0,, 如果不记得 你显然需要发帖向我们提问 \N{\fs12}and if not, then you can obviously post and ask us questions about it.
Dialogue: 0,0:01:02.64,0:01:07.33,yin,,0,0,0,, 好 我们来做这个 demo\N{\fs12}OK. So, let’s do this demo.
Dialogue: 0,0:01:07.33,0:01:08.95,yin,,0,0,0,,demo 是这样的 \N{\fs12}So for the demo,
Dialogue: 0,0:01:08.95,0:01:12.82,yin,,0,0,0,, 实际上 在 demo 最开始 \N{\fs12}I’m going to start this demo actually
Dialogue: 0,0:01:12.82,0:01:17.16,yin,,0,0,0,, 我将公布作业的答案 \N{\fs12}by giving you the solution to the homework,
Dialogue: 0,0:01:17.16,0:01:20.54,yin,,0,0,0,, 我讲过我要做这个的 本学期只有一次我会这样做 \N{\fs12}I told you I was going to do this, this is the only time
Dialogue: 0,0:01:20.54,0:01:23.35,yin,,0,0,0,, 我讲过我要做这个的 本学期只有一次我会这样做 \N{\fs12}that I’m going to do this this quarter.
Dialogue: 0,0:01:23.35,0:01:25.60,yin,,0,0,0,, 一般我不会讲答案 \N{\fs12}Normally I don’t go over the solution,
Dialogue: 0,0:01:25.60,0:01:29.50,yin,,0,0,0,, 但这里答案很简单 而且需要知道这些答案 \N{\fs12}but the solution’s so simple and because obviously we need the solution of this
Dialogue: 0,0:01:29.50,0:01:32.92,yin,,0,0,0,, 我们才能继续今天后面的内容 \N{\fs12}to move on to what I’m going to do today.
Dialogue: 0,0:01:32.92,0:01:34.70,yin,,0,0,0,, 所以先看答案 \N{\fs12}We’ll do the solution first.
Dialogue: 0,0:01:34.70,0:01:36.71,yin,,0,0,0,, 这里我启动了 XCode\N{\fs12}So here I’m just launching XCode, you can see now
Dialogue: 0,0:01:36.71,0:01:40.63,yin,,0,0,0,, 最近文件中有上次编辑的 Machismo\N{\fs12}in my recents I have this machismo from last time.
Dialogue: 0,0:01:40.63,0:01:43.54,yin,,0,0,0,, 打开这个 \N{\fs12}So, we’ll bring that up.
Dialogue: 0,0:01:43.54,0:01:45.92,yin,,0,0,0,, 好了 确保我们使用了 \N{\fs12}There it is. Make sure that we’re using
Dialogue: 0,0:01:45.92,0:01:49.13,yin,,0,0,0,, 尽量多的屏幕空间 \N{\fs12}as much screen real estate as we can here.
Dialogue: 0,0:01:49.13,0:01:52.93,yin,,0,0,0,, 把这些线挪开 \N{\fs12}Get these wires out of my way.
Dialogue: 0,0:01:52.93,0:01:59.70,yin,,0,0,0,, 好 从上次结束的地方开始 你们做过作业 应该记得 \N{\fs12}Okay. So, from where we left off, hopefully you remember because you did your homework.
Dialogue: 0,0:01:59.70,0:02:02.07,yin,,0,0,0,, 我们有这一张牌 \N{\fs12}We just have this single, this card, single card,
Dialogue: 0,0:02:02.07,0:02:04.64,yin,,0,0,0,, 它在梅花 A 和反面间来回翻动 \N{\fs12}and it flips back and forth between the ace and the clubs,
Dialogue: 0,0:02:04.64,0:02:08.70,yin,,0,0,0,, 你们的作业是在课上模型的基础上 \N{\fs12}and your homework was to use the model that we worked on in lecture
Dialogue: 0,0:02:08.70,0:02:11.81,yin,,0,0,0,, 让它从整个牌堆中抽牌翻转 \N{\fs12}to make it flip through an entire deck.
Dialogue: 0,0:02:11.81,0:02:15.20,yin,,0,0,0,, 这个答案非常简单 \N{\fs12}So, the solution to that is quite straightforward.
Dialogue: 0,0:02:15.20,0:02:18.34,yin,,0,0,0,, 我们显然需要牌堆 \N{\fs12}We obviously need a deck so I’m just going
Dialogue: 0,0:02:18.34,0:02:22.51,yin,,0,0,0,, 我将添加一个属性 强属性 必须是强的 \N{\fs12}to add a property here, strong property, should be strong
Dialogue: 0,0:02:22.51,0:02:25.39,yin,,0,0,0,, 因为我们需要牌堆一直存在 \N{\fs12}because we need that deck to, to stay around, and it’s going
Dialogue: 0,0:02:25.39,0:02:27.84,yin,,0,0,0,, 它是牌堆 取名 deck\N{\fs12}to be a deck and I’m going to call it deck.
Dialogue: 0,0:02:27.84,0:02:31.28,yin,,0,0,0,, 因为 deck 这里有个错误 \N{\fs12}Now we have an error here because of deck,
Dialogue: 0,0:02:31.28,0:02:34.68,yin,,0,0,0,, 所以我们需要到上面这里 导入 Deck\N{\fs12}so we have to go up here and import deck.
Dialogue: 0,0:02:34.68,0:02:36.51,yin,,0,0,0,, 这样错误就没有了 \N{\fs12}Alright? To make that error go away.
Dialogue: 0,0:02:36.51,0:02:39.44,yin,,0,0,0,, 现在我们有了这个属性 这很酷 \N{\fs12}So now we got this property that’s cool,
Dialogue: 0,0:02:39.44,0:02:43.82,yin,,0,0,0,, 显然 我们希望使用惰性实例化来实例化这一属性 \N{\fs12}obviously we want to use lazy instantiation to instantiate that property,
Dialogue: 0,0:02:43.82,0:02:46.70,yin,,0,0,0,, 所以我在这里输入 (Deck *)deck\N{\fs12}so I’m going to do that, that’s a deck star deck,
Dialogue: 0,0:02:46.71,0:02:51.18,yin,,0,0,0,, 我要看我的实例变量是否为 nil\N{\fs12}and I’m just going to see if my instance variable is null
Dialogue: 0,0:02:51.18,0:02:54.14,yin,,0,0,0,, 基本上也就是 是否为 0\N{\fs12}or nil, rather, the 0, basically.
Dialogue: 0,0:02:54.14,0:02:59.81,yin,,0,0,0,, 然后是_deck =\N{\fs12}Then I’m going to say, sorry, underbar, underbar deck, equals,
Dialogue: 0,0:02:59.81,0:03:03.15,yin,,0,0,0,, 我将使用另一个方法来创建 deck\N{\fs12}and I’m actually going to create deck using another method here,
Dialogue: 0,0:03:03.15,0:03:07.62,yin,,0,0,0,, 等下你们就知道为什么了 然后返回_deck\N{\fs12}you’ll see why in a second and then I’m going to return underbar deck.
Dialogue: 0,0:03:07.62,0:03:12.92,yin,,0,0,0,,createDeck 将会创建一个牌堆 \N{\fs12}And create deck is just going to create a deck.
Dialogue: 0,0:03:12.92,0:03:16.68,yin,,0,0,0,,createDeck 我将创建一个扑克牌堆 \N{\fs12}Create deck and I’m going to create a playing card deck,
Dialogue: 0,0:03:16.68,0:03:19.45,yin,,0,0,0,, 因为这就是我要求你们做的 \N{\fs12}because that’s what you were asked to do
Dialogue: 0,0:03:19.45,0:03:22.30,yin,,0,0,0,, 这里用 alloc init 来做这个 \N{\fs12}so I’m just going to do alloc init to do that.
Dialogue: 0,0:03:22.30,0:03:26.28,yin,,0,0,0,, 这里有个错误 因为只导入 Deck 是不行的 \N{\fs12}I got an error because not only do I need to import deck,
Dialogue: 0,0:03:26.28,0:03:28.41,yin,,0,0,0,, 我们需要导入 PlayingCardDeck\N{\fs12}but playing card deck, and it’s actually kind
Dialogue: 0,0:03:28.41,0:03:33.42,yin,,0,0,0,, 很不幸的是 这里我要创建一个通用的纸牌游戏 \N{\fs12}of unfortunate here that in this nice, generic card game that I’m building,
Dialogue: 0,0:03:33.42,0:03:36.31,yin,,0,0,0,, 结果却要导入扑克牌堆 \N{\fs12}that I’m importing a playing card deck.
Dialogue: 0,0:03:36.31,0:03:38.06,yin,,0,0,0,, 为什么说这很不幸呢 \N{\fs12}Why is that unfortunate?
Dialogue: 0,0:03:38.06,0:03:40.85,yin,,0,0,0,, 这里我要尝试创建一个纸牌游戏 \N{\fs12}Well, I’m going to try and build a card game here
Dialogue: 0,0:03:40.85,0:03:43.38,yin,,0,0,0,, 它同扑克牌没有任何关系 \N{\fs12}that has nothing to do with playing cards.
Dialogue: 0,0:03:43.38,0:03:44.86,yin,,0,0,0,, 它是通用的 \N{\fs12}It’s going to be a generic,
Dialogue: 0,0:03:44.86,0:03:48.01,yin,,0,0,0,, 应该对任何牌堆都适用 \N{\fs12}should work with any kind of deck, okay, a deck of any kind
Dialogue: 0,0:03:48.01,0:03:50.76,yin,,0,0,0,, 实际上 在你们的作业中 \N{\fs12}of cards and, in fact, in your homework, you’re going
Dialogue: 0,0:03:50.76,0:03:55.98,yin,,0,0,0,, 你们下周会被要求考虑不同牌堆 来增强游戏 \N{\fs12}to be asked to enhanced the game next week to play a different deck.
Dialogue: 0,0:03:55.98,0:03:59.66,yin,,0,0,0,, 所以说 这里需要这样做是很不幸的 \N{\fs12}So it’s unfortunate that I have to do this and in lecture,
Dialogue: 0,0:03:59.66,0:04:05.02,yin,,0,0,0,, 在周三或周一 我将讨论如何把这个除掉 \N{\fs12}either on Wednesday or probably on Monday, we will talk about how we can get rid of this.
Dialogue: 0,0:04:05.02,0:04:07.34,yin,,0,0,0,, 不再导入 PlayingCardDeck\N{\fs12}Okay, get this import playing card deck
Dialogue: 0,0:04:07.34,0:04:11.99,yin,,0,0,0,, 让这个 createDeck 方法更具通用性 \N{\fs12}and this create deck method to be more generic, okay,
Dialogue: 0,0:04:11.99,0:04:15.67,yin,,0,0,0,, 而不仅仅适用于扑克牌 \N{\fs12}not be so specific to playing cards.
Dialogue: 0,0:04:15.67,0:04:18.66,yin,,0,0,0,, 无论如何 这里我有了这个 deck\N{\fs12}But anyway, so now I have this deck
Dialogue: 0,0:04:18.66,0:04:21.56,yin,,0,0,0,, 它是惰性实例化的 有了 deck 后 \N{\fs12}and it’s lazily instantiated so now that I have a deck,
Dialogue: 0,0:04:21.56,0:04:27.62,yin,,0,0,0,, 我就可以用它来替换这个梅花 A 了 \N{\fs12}I can use it to get rid of this little ace of clubs thing right here.
Dialogue: 0,0:04:27.62,0:04:34.16,yin,,0,0,0,, 我可以这样做 这里加入 Card *card\N{\fs12}And, I’m going to do that by saying here card star card
Dialogue: 0,0:04:34.16,0:04:37.74,yin,,0,0,0,,= [self.deck drawRandomCard]\N{\fs12}equals self dot deck, draw random card.
Dialogue: 0,0:04:37.74,0:04:40.34,yin,,0,0,0,, 我将从牌堆中随机抽取一张牌 \N{\fs12}So I’m going to draw a random card out of the deck
Dialogue: 0,0:04:40.34,0:04:42.32,yin,,0,0,0,, 然后这里不再是梅花 A\N{\fs12}and then instead of putting ace of clubs here,
Dialogue: 0,0:04:42.32,0:04:45.20,yin,,0,0,0,, 将它改为纸牌内容 \N{\fs12}I’m going to put the cards contents.
Dialogue: 0,0:04:45.20,0:04:49.44,yin,,0,0,0,, 这就是你们所有的作业内容 \N{\fs12}And that’s really your entire homework assignment,
Dialogue: 0,0:04:49.44,0:04:54.58,yin,,0,0,0,, 这里我还要做两个小的改动 \N{\fs12}there’s one other minor thing that I’m going to do here, actually two minor things.
Dialogue: 0,0:04:54.58,0:04:57.47,yin,,0,0,0,, 因为我们的答案不是能够工作就行 \N{\fs12}Because we don’t want just a solution that works,
Dialogue: 0,0:04:57.47,0:05:00.40,yin,,0,0,0,, 运行这个确实能够工作 \N{\fs12}this will work if we run this.
Dialogue: 0,0:05:00.42,0:05:03.78,yin,,0,0,0,, 能够工作 但并不优雅 \N{\fs12}We’re going to see it work, but it’s kind of not very elegant
Dialogue: 0,0:05:03.78,0:05:07.17,yin,,0,0,0,, 这不能算一个很好的答案 \N{\fs12}and not really, it’s not really a really very good solution
Dialogue: 0,0:05:07.17,0:05:09.99,yin,,0,0,0,, 虽然它能够达到目的 \N{\fs12}to the problem, even though it functions, you see, it’s,
Dialogue: 0,0:05:09.99,0:05:12.61,yin,,0,0,0,, 可以看到 它会随机出牌 \N{\fs12}it’s going through the random cards here.
Dialogue: 0,0:05:12.61,0:05:15.27,yin,,0,0,0,, 但有几点比较让人不爽 \N{\fs12}But it was kind of annoying, a couple of things.
Dialogue: 0,0:05:15.27,0:05:18.82,yin,,0,0,0,, 一是它会从梅花 A 开始 这很毛糙 \N{\fs12}One, it started out with the ace of clubs, that was kind of gross,
Dialogue: 0,0:05:18.82,0:05:20.64,yin,,0,0,0,, 因为一直点击这里 \N{\fs12}okay, because if I keep clicking here,
Dialogue: 0,0:05:20.64,0:05:24.36,yin,,0,0,0,, 最终我会重新得到梅花 A 这就是了 \N{\fs12}eventually I’m going to get the ace of clubs, there it was, back again,
Dialogue: 0,0:05:24.36,0:05:26.29,yin,,0,0,0,, 这很糟糕 \N{\fs12}so that’s kind of bad.
Dialogue: 0,0:05:26.29,0:05:28.86,yin,,0,0,0,, 另一点是 当牌堆为空时 \N{\fs12}The other thing is when this deck is empty,
Dialogue: 0,0:05:28.86,0:05:34.24,yin,,0,0,0,, 这个将没法善终 \N{\fs12}this is not going to particularly elegantly, you know, finish off,
Dialogue: 0,0:05:34.24,0:05:36.49,yin,,0,0,0,, 我们需要优雅的答案 \N{\fs12}and we want to have some elegant solution and I said
Dialogue: 0,0:05:36.49,0:05:38.87,yin,,0,0,0,, 提示中就涉及到过 \N{\fs12}in the hints come up with an elegant solution.
Dialogue: 0,0:05:38.87,0:05:43.17,yin,,0,0,0,, 然后是翻转计数 纸牌用完后 它还会持续计数 \N{\fs12}Also, this flips thing here, once I flip through the whole deck, it’s going to keep flipping.
Dialogue: 0,0:05:43.17,0:05:47.82,yin,,0,0,0,, 它会增加到 102 103 104 105 这不很优雅 \N{\fs12}You know, it’s going to be 102, 103, 104, 105, that’s not very elegant either.
Dialogue: 0,0:05:47.82,0:05:52.48,yin,,0,0,0,, 让我们来修正上述三点 得到简单优雅的答案 \N{\fs12}So let’s fix all three of those things with simple, elegant solutions.
Dialogue: 0,0:05:52.48,0:05:55.40,yin,,0,0,0,, 对于梅花 A 我的简单优雅答案 \N{\fs12}So my simple, elegant solution to the ace of clubs
Dialogue: 0,0:05:55.40,0:06:00.34,yin,,0,0,0,, 是从反面开始 这个我其实提示过 \N{\fs12}which I hinted at for you is simply to start it face down.
Dialogue: 0,0:06:00.34,0:06:03.73,yin,,0,0,0,, 我将用到 cardback 除掉梅花 A\N{\fs12}So I’m going to get the card back here, get rid of the ace of clubs,
Dialogue: 0,0:06:03.73,0:06:05.72,yin,,0,0,0,, 这时就是从反面开始了 \N{\fs12}and now this card starts out facedown.
Dialogue: 0,0:06:05.72,0:06:08.81,yin,,0,0,0,, 我根本都不需要写任何代码 \N{\fs12}So I didn’t have to write any code and I just use my brain
Dialogue: 0,0:06:08.81,0:06:13.45,yin,,0,0,0,, 直接在这里点几下就行了 \N{\fs12}over my brawn to make sure that this works, right?
Dialogue: 0,0:06:13.45,0:06:17.00,yin,,0,0,0,, 这是解决那一问题的优雅方式 \N{\fs12}So, that’s kind of the elegant way of thinking about solving that problem.
Dialogue: 0,0:06:17.00,0:06:18.69,yin,,0,0,0,, 我们将从正面朝下开始 \N{\fs12}So we’ll just start it face down, there
Dialogue: 0,0:06:18.69,0:06:21.99,yin,,0,0,0,, 没有人要求一定要梅花 A 正面朝上 \N{\fs12}was no required task that said you had to start with the ace of clubs face up,
Dialogue: 0,0:06:21.99,0:06:24.31,yin,,0,0,0,, 这是很好的解决办法 \N{\fs12}so that’s a good solution.
Dialogue: 0,0:06:24.31,0:06:26.81,yin,,0,0,0,, 而对于纸牌用完的情况 \N{\fs12}When it comes to running out of cards,
Dialogue: 0,0:06:26.81,0:06:31.16,yin,,0,0,0,, 我认为最优雅的解决办法是 这时就停止翻动 \N{\fs12}I think an elegant solution is it just will stop flipping at that point.
Dialogue: 0,0:06:31.16,0:06:34.30,yin,,0,0,0,, 你当然也可以再加载一副牌 \N{\fs12}I mean, you could make arguments, load up another deck,
Dialogue: 0,0:06:34.30,0:06:37.59,yin,,0,0,0,, 不过我认为最简单的解决办法是 \N{\fs12}other stuff, but I think a simple solution is just once you
Dialogue: 0,0:06:37.59,0:06:40.27,yin,,0,0,0,, 牌用完时 再点就不翻了 \N{\fs12}run out of cards, you keep clicking, and it stops flipping.
Dialogue: 0,0:06:40.27,0:06:42.33,yin,,0,0,0,, 这怎么做到呢 \N{\fs12}So how are we going to do that?
Dialogue: 0,0:06:42.33,0:06:44.87,yin,,0,0,0,, 我知道你们有些人会说 \N{\fs12}Well, I know some of you are going to say something like,
Dialogue: 0,0:06:44.87,0:06:48.54,yin,,0,0,0,, 如果翻转次数为 102 那么停止翻动 \N{\fs12}if number of flips equals 102, then stop flipping,
Dialogue: 0,0:06:48.54,0:06:50.21,yin,,0,0,0,, 这非常糟糕 \N{\fs12}and that’s really, really bad.
Dialogue: 0,0:06:50.21,0:06:52.06,yin,,0,0,0,, 这是非常糟糕的设计 \N{\fs12}That’s a very bad design,
Dialogue: 0,0:06:52.06,0:06:56.01,yin,,0,0,0,, 因为 102 就像一个你加入到程序中的神奇数字 \N{\fs12}because that 102 is like a magic number you just put into your program
Dialogue: 0,0:06:56.01,0:06:59.15,yin,,0,0,0,, 而且这种糟糕设计完全没有理由 \N{\fs12}and there’s completely no reason for that bad design either.
Dialogue: 0,0:06:59.15,0:07:02.75,yin,,0,0,0,, 你只需要说 if (card)\N{\fs12}All you need to do is just say if card,
Dialogue: 0,0:07:02.75,0:07:05.64,yin,,0,0,0,, 那么翻转 \N{\fs12}then flip it,
Dialogue: 0,0:07:05.64,0:07:08.47,yin,,0,0,0,, 这些表示翻转 \N{\fs12}okay, so I’m going to flip it here,
Dialogue: 0,0:07:08.47,0:07:11.65,yin,,0,0,0,, 空出一点空间 这样更清楚一些 \N{\fs12}I’ll make some more space so you can see.
Dialogue: 0,0:07:11.65,0:07:14.75,yin,,0,0,0,, 否则 牌就不会翻动 \N{\fs12}Otherwise, I’m not going to flip it.
Dialogue: 0,0:07:14.75,0:07:19.22,yin,,0,0,0,, 这是超级优雅的解决办法 \N{\fs12}So I’m just, this is a super elegant solution to,
Dialogue: 0,0:07:19.22,0:07:23.54,yin,,0,0,0,, 牌堆中牌用完时 这里就将不再翻动 \N{\fs12}you know, not continuing to flip this thing over when the deck runs out,
Dialogue: 0,0:07:23.54,0:07:26.87,yin,,0,0,0,, 我们知道 drawRandomCard 会返回 nil\N{\fs12}and we know that draw random card returns nil,
Dialogue: 0,0:07:26.87,0:07:30.36,yin,,0,0,0,, 根据实现 它在 deck 为空时会返回 nil\N{\fs12}if you remember from our implementation it returns nil when the deck is empty,
Dialogue: 0,0:07:30.36,0:07:31.44,yin,,0,0,0,, 很完美 \N{\fs12}so, perfect!
Dialogue: 0,0:07:31.44,0:07:35.18,yin,,0,0,0,, 为 nil 时 牌就不会翻到有内容的那一面了 \N{\fs12}Once it’s nil, it’s just not going to flip back over to the contents sides,
Dialogue: 0,0:07:35.18,0:07:36.77,yin,,0,0,0,, 它会维持在反面 \N{\fs12}it’s going to always stay on the backside.
Dialogue: 0,0:07:36.77,0:07:37.58,yin,,0,0,0,, 有问题吗 \N{\fs12}Question?
Dialogue: 0,0:07:39.27,0:07:43.10,yin,,0,0,0,, 翻牌计数是不大优雅的第三个内容 如何修正呢 \N{\fs12}And flip count is the third thing that was kind of not very elegant, so how can we fix that?
Dialogue: 0,0:07:43.10,0:07:45.60,yin,,0,0,0,, 这方面可以有多种解决办法 \N{\fs12}Well, you know, there’s a number of ways to go at that,
Dialogue: 0,0:07:45.60,0:07:48.36,yin,,0,0,0,, 不过我认为最简单的是 \N{\fs12}but I think a simple way is to only
Dialogue: 0,0:07:48.36,0:07:55.58,yin,,0,0,0,, 仅在真正翻动时才计数 \N{\fs12}flip, sorry, when we actually do the flipping over.
Dialogue: 0,0:07:55.58,0:07:58.24,yin,,0,0,0,, 这其实并不是很棒的解决办法 \N{\fs12}Now, this is kind of not a great solution
Dialogue: 0,0:07:58.24,0:08:01.87,yin,,0,0,0,, 因为这里 我们并没有实际翻牌 \N{\fs12}because here we’re not actually flipping over, you know, if,
Dialogue: 0,0:08:01.87,0:08:06.02,yin,,0,0,0,, 如果我们在反面 那么这里我们要翻牌 \N{\fs12}if we’re on the card back, then we’re flipping over here,
Dialogue: 0,0:08:06.02,0:08:10.84,yin,,0,0,0,, 这个不算很好 因为我们是在…\N{\fs12}so this one’s kind of not so good, because we kind of gonna,
Dialogue: 0,0:08:10.84,0:08:17.46,yin,,0,0,0,, 一旦翻到反面 我们没有问题 因为我们开始…\N{\fs12}once we flip over to the back, we’ll be okay because when we start to do,
Dialogue: 0,0:08:17.46,0:08:19.72,yin,,0,0,0,, 我们将反复执行这段代码 \N{\fs12}we’ll be executing this code over and over right here
Dialogue: 0,0:08:19.72,0:08:21.60,yin,,0,0,0,, 因为我们总在背面 \N{\fs12}because we’ll always be on the back.
Dialogue: 0,0:08:21.60,0:08:24.92,yin,,0,0,0,, 我认为这样能行 这是好的解决办法吗 \N{\fs12}So I think this’ll work, right? Is that a good solution?
Dialogue: 0,0:08:24.92,0:08:27.40,yin,,0,0,0,, 我不喜欢它的原因在于 \N{\fs12}The reason I don’t like it is I don’t like having this line
Dialogue: 0,0:08:27.40,0:08:29.74,yin,,0,0,0,, 一段代码同时出现在两处 \N{\fs12}of code in two different places, kind of eh.
Dialogue: 0,0:08:29.74,0:08:32.57,yin,,0,0,0,, 我们还可以做很多别的事 \N{\fs12}I could have done a lot of other things here,
Dialogue: 0,0:08:32.57,0:08:37.86,yin,,0,0,0,, 我们可以将图像和字符串提出到单独局部变量 \N{\fs12}we could have factored out the image and the string into separate local variables
Dialogue: 0,0:08:37.86,0:08:40.60,yin,,0,0,0,, 用 if 应用这些 等等 \N{\fs12}and had our if, apply those, and stuff like that.
Dialogue: 0,0:08:40.60,0:08:44.81,yin,,0,0,0,, 不过这些就有点过头了 \N{\fs12}I think all of that would have been a little bit of overkill.
Dialogue: 0,0:08:44.81,0:08:47.44,yin,,0,0,0,, 我们来看看这能否奏效 \N{\fs12}So, let’s see if this works.
Dialogue: 0,0:08:47.44,0:08:50.37,yin,,0,0,0,, 程序开始时 牌是朝下的 \N{\fs12}So here’s our thing here, so it started facedown.
Dialogue: 0,0:08:50.37,0:08:52.37,yin,,0,0,0,, 点完整副牌 \N{\fs12}Let’s click through the deck here,
Dialogue: 0,0:08:52.37,0:08:54.05,yin,,0,0,0,, 快速点它 \N{\fs12}I’ll click through it quickly.
Dialogue: 0,0:08:54.05,0:08:56.60,yin,,0,0,0,, 可以看到 我点得很快 \N{\fs12}So I’m clicking so quickly through, you’ll notice
Dialogue: 0,0:08:56.60,0:09:01.24,yin,,0,0,0,, 以致于动画都不能完全展示出来 \N{\fs12}that I’m not giving time for the thing to finish animating.
Dialogue: 0,0:09:01.24,0:09:04.59,yin,,0,0,0,, 下下周我们会开始讨论动画 \N{\fs12}And we’re going to start talking about animation in the week after next.
Dialogue: 0,0:09:04.59,0:09:08.65,yin,,0,0,0,, 动画中可能发生的一个情况就是 \N{\fs12}And one thing about animation is
Dialogue: 0,0:09:08.65,0:09:13.37,yin,,0,0,0,, 它会同实际发生的情况有些不同步 \N{\fs12}it’s going to happen a little bit out of band with what’s actually happening.
Dialogue: 0,0:09:13.37,0:09:16.58,yin,,0,0,0,, 这里我在快速翻牌 \N{\fs12}So I am actually flipping here and all that flipping is happening,
Dialogue: 0,0:09:16.58,0:09:19.89,yin,,0,0,0,, 但动画却慢半拍 动画有些滞后 \N{\fs12}but the animation is kind of slow and it’s staying behind,
Dialogue: 0,0:09:19.89,0:09:21.74,yin,,0,0,0,, 很不幸 它就是这样 \N{\fs12}and that’s kind of just, unfortunately, the way it is,
Dialogue: 0,0:09:21.74,0:09:23.78,yin,,0,0,0,, 动画最终会赶上 \N{\fs12}the animation will eventually catch up,
Dialogue: 0,0:09:23.78,0:09:25.93,yin,,0,0,0,, 这里我们到了最后一张牌 \N{\fs12}but here we go to our last card,
Dialogue: 0,0:09:25.93,0:09:29.71,yin,,0,0,0,, 然后正面朝下 再点就没反应了 \N{\fs12}then we get facedown, and now we click, and it’s not clicking over
Dialogue: 0,0:09:29.71,0:09:32.34,yin,,0,0,0,, 停在 104\N{\fs12}and it’s stopped at 104.
Dialogue: 0,0:09:32.34,0:09:35.75,yin,,0,0,0,, 关于这个解决方案有任何问题吗 \N{\fs12}Any questions about this solution?
Dialogue: 0,0:09:37.45,0:09:38.70,yin,,0,0,0,, 很简单 \N{\fs12}Pretty straightforward.
Dialogue: 0,0:09:38.70,0:09:42.64,yin,,0,0,0,, 优雅性 简洁性 这是你们在作业中要追求的 \N{\fs12}Again, elegance, simplicity, that’s what you’re shooting for in your homework.
Dialogue: 0,0:09:42.64,0:09:46.56,yin,,0,0,0,, 加入很多 API 的复杂解决方案我们不推崇 \N{\fs12}Big, overwrought solutions where you’re adding a bunch of API and checking
Dialogue: 0,0:09:46.56,0:09:50.43,yin,,0,0,0,, 我们推崇更简介优雅的解决方案 \N{\fs12}a lot of things are generally not preferred over more simple solutions,
Dialogue: 0,0:09:50.43,0:09:53.17,yin,,0,0,0,, 就算像这样有两行做相同事情的代码 \N{\fs12}so like this, even if you have something where you kinda have these
Dialogue: 0,0:09:53.17,0:09:55.38,yin,,0,0,0,, 都显得有些不够优雅 \N{\fs12}2 lines of code that are doing the same thing,
Dialogue: 0,0:09:55.38,0:09:58.52,yin,,0,0,0,, 也许你不应该像这样复制 \N{\fs12}maybe shouldn’t be replicated like this,
Dialogue: 0,0:09:58.52,0:10:01.35,yin,,0,0,0,, 这只能勉强算优雅 \N{\fs12}it’s a close call as to the really perfect elegance,
Dialogue: 0,0:10:01.36,0:10:03.26,yin,,0,0,0,, 不过这里还要考虑简单 \N{\fs12}but I was going for simplicity here too
Dialogue: 0,0:10:03.26,0:10:06.74,yin,,0,0,0,, 因为我只有这么多时间 \N{\fs12}because I only have so much time.
Dialogue: 0,0:10:06.74,0:10:07.61,yin,,0,0,0,, 好 \N{\fs12}Alright.
Dialogue: 0,0:10:07.61,0:10:13.99,yin,,0,0,0,, 下面 我们将要进入纸牌匹配游戏的下一阶段 \N{\fs12}So now, we’re going to go into doing the next phase of our card matching game,
Dialogue: 0,0:10:13.99,0:10:16.79,yin,,0,0,0,, 也就是实际进行游戏 \N{\fs12}which is to make the game actually play.
Dialogue: 0,0:10:16.79,0:10:19.98,yin,,0,0,0,, 游戏的进行是我们模型的一部分 \N{\fs12}Now the playing of the game is part of our model.
Dialogue: 0,0:10:19.99,0:10:21.63,yin,,0,0,0,, 理解这个很重要 \N{\fs12}It’s really important to understand,
Dialogue: 0,0:10:21.63,0:10:25.13,yin,,0,0,0,, 它不是控制器的一部分 而是模型的一部分 \N{\fs12}it’s not part of our controller, its part of our model.
Dialogue: 0,0:10:25.13,0:10:28.66,yin,,0,0,0,, 因为我讲过 模型是关于游戏是什么 \N{\fs12}Because I told you that the model is the what your game is.
Dialogue: 0,0:10:28.66,0:10:30.08,yin,,0,0,0,, 这是什么 \N{\fs12}Well, what is this?
Dialogue: 0,0:10:30.08,0:10:33.17,yin,,0,0,0,, 这是一个纸牌匹配游戏 “什么”需要放在模型中 \N{\fs12}It’s a card matching game, so the what better be in the model.
Dialogue: 0,0:10:33.17,0:10:36.54,yin,,0,0,0,, 所以 我们将在模型中创建一个类 \N{\fs12}So we’re going to create a class in our model
Dialogue: 0,0:10:36.54,0:10:39.69,yin,,0,0,0,, 封装游戏进行的逻辑 \N{\fs12}that is going to encapsulate the logic of the game playing
Dialogue: 0,0:10:39.69,0:10:42.70,yin,,0,0,0,, 它将对用户界面一无所知 \N{\fs12}and it’s not going to know anything about user interface.
Dialogue: 0,0:10:42.70,0:10:46.28,yin,,0,0,0,, 它其中没有任何同用户界面相关的事物 \N{\fs12}It’s not going to have any things in it that have anything to do with user interface
Dialogue: 0,0:10:46.28,0:10:48.55,yin,,0,0,0,, 这是一个非常重要的区分 \N{\fs12}and that’s a really important distinction to make.
Dialogue: 0,0:10:48.55,0:10:50.92,yin,,0,0,0,, 我们来创建这个新类 \N{\fs12}So, let’s create that new class,
Dialogue: 0,0:10:50.92,0:10:55.50,yin,,0,0,0,, 创建新类的方式同今天作业中一样 \N{\fs12}remember that we always create new class the same way you did with your assignment today
Dialogue: 0,0:10:55.50,0:10:57.20,yin,,0,0,0,, 点击新文件 \N{\fs12}by saying new file.
Dialogue: 0,0:10:57.20,0:11:00.24,yin,,0,0,0,, 我们想要一个 Objective-C 类 \N{\fs12}And we want an objective-C class and I’m going
Dialogue: 0,0:11:00.24,0:11:04.50,yin,,0,0,0,, 命名为 CardMatchingGame\N{\fs12}to call it card matching game.
Dialogue: 0,0:11:04.50,0:11:11.30,yin,,0,0,0,, 它将继承自 NSObject 和所有基本类一样 \N{\fs12}And it’s going to inherit from NSObject as all of our kind of base classes do,
Dialogue: 0,0:11:11.30,0:11:16.13,yin,,0,0,0,, 我将把这个类同模型中其它类放到相同目录下 \N{\fs12}and I’m going to put this thing in the same directory as the rest of my model
Dialogue: 0,0:11:16.13,0:11:20.82,yin,,0,0,0,, 我还将用导航栏将它放到模型的同一个组中 \N{\fs12}and I’m also going to put it in the same group in the navigator as my model, as well.
Dialogue: 0,0:11:20.82,0:11:24.52,yin,,0,0,0,, 它和所有这些一起在这个组中 \N{\fs12}So it goes with all these guys and it goes in this group.
Dialogue: 0,0:11:24.52,0:11:27.84,yin,,0,0,0,, 记得这样做是很好的 \N{\fs12}It’s a nice thing to remember to do.
Dialogue: 0,0:11:27.84,0:11:29.42,yin,,0,0,0,, 好 我们创建了它 \N{\fs12}Alright? So we create it.
Dialogue: 0,0:11:29.42,0:11:30.84,yin,,0,0,0,, 这就是了 \N{\fs12}Here it is.
Dialogue: 0,0:11:30.84,0:11:34.61,yin,,0,0,0,, 这是它的头文件 \N{\fs12}Here’s its header file right here and I’m going
Dialogue: 0,0:11:34.61,0:11:39.97,yin,,0,0,0,, 我将使用这个自动对照 来显示实现 \N{\fs12}to use this counterparts, automatic counterparts, to show the implementation.
Dialogue: 0,0:11:39.97,0:11:43.45,yin,,0,0,0,, 这是头文件及实现 \N{\fs12}So there is its header file and its implementation,
Dialogue: 0,0:11:43.45,0:11:47.49,yin,,0,0,0,, 我在设计新类时 我总喜欢 \N{\fs12}and I always, when I design a new class, I always try
Dialogue: 0,0:11:47.49,0:11:51.21,yin,,0,0,0,, 首先处理公共 API\N{\fs12}to give my first crack at its public API first.
Dialogue: 0,0:11:51.21,0:11:53.75,yin,,0,0,0,, 稍后再考虑它的实现 \N{\fs12}I’ll go do its implementation later,
Dialogue: 0,0:11:53.75,0:11:57.92,yin,,0,0,0,, 我会先思考 人们会怎样使用我的类 \N{\fs12}but I want to kind of think of how are people going to use my class first?
Dialogue: 0,0:11:57.92,0:12:00.87,yin,,0,0,0,, 以此驱动我的总体设计 \N{\fs12}Just to drive my overall design.
Dialogue: 0,0:12:00.87,0:12:02.42,yin,,0,0,0,, 这里类很简单 \N{\fs12}And that’s for a simple class like this,
Dialogue: 0,0:12:02.42,0:12:04.18,yin,,0,0,0,, 如果类更复杂一些 \N{\fs12}if you get into a more complicated class,
Dialogue: 0,0:12:04.18,0:12:07.21,yin,,0,0,0,, 你可能需要同团队开意义重大的设计会议 \N{\fs12}you might be having significant design meetings which are teamed
Dialogue: 0,0:12:07.21,0:12:10.00,yin,,0,0,0,, 来理解这是什么对象 它如何融入到世界中 \N{\fs12}to understand what’s this object, how does it fit into the world,
Dialogue: 0,0:12:10.00,0:12:12.62,yin,,0,0,0,, 但如果只是一个简单直接的类 \N{\fs12}but if you’re just doing a simple straightforward class,
Dialogue: 0,0:12:12.62,0:12:14.70,yin,,0,0,0,, 特别是在初次编写时 \N{\fs12}especially if you’re doing its first iteration,
Dialogue: 0,0:12:14.70,0:12:18.42,yin,,0,0,0,, 有时 想想其 API 是什么就足够了 \N{\fs12}it sometimes nice to just think what is it’s API, we call it,
Dialogue: 0,0:12:18.42,0:12:24.16,yin,,0,0,0,,API 在这里也就是类的公共应用程序接口 \N{\fs12}okay, API is the Public Programming Interface for a class.
Dialogue: 0,0:12:24.16,0:12:28.00,yin,,0,0,0,, 我需要思考这个纸牌匹配游戏需要做什么 \N{\fs12}So, I need to think of what this card matching game needs to do.
Dialogue: 0,0:12:28.00,0:12:31.11,yin,,0,0,0,, 首先 我知道它需要一个初始化器 \N{\fs12}Well, one thing I know it needs is an initializer.
Dialogue: 0,0:12:31.11,0:12:32.81,yin,,0,0,0,, 一个 init\N{\fs12}An init.
Dialogue: 0,0:12:32.81,0:12:34.87,yin,,0,0,0,, 当我考虑我的纸牌匹配游戏时 \N{\fs12}But when I think about my card matching game,
Dialogue: 0,0:12:34.87,0:12:38.12,yin,,0,0,0,, 它有一些东西需要知道去初始化 \N{\fs12}there’s a couple of things it just has to know to initialize.
Dialogue: 0,0:12:38.12,0:12:41.57,yin,,0,0,0,, 它不能只像 PlayingCardDeck 那样初始化自身 \N{\fs12}It can’t just initialize itself like a playing card deck can.
Dialogue: 0,0:12:41.57,0:12:43.83,yin,,0,0,0,,PlayingCardDeck 在开始时知道 \N{\fs12}A playing card deck knows everything it needs to know about
Dialogue: 0,0:12:43.83,0:12:45.98,yin,,0,0,0,, 关于扑克牌堆它需要知道的一切 \N{\fs12}a playing card deck when it’s started,
Dialogue: 0,0:12:45.98,0:12:47.66,yin,,0,0,0,, 但这个不知道这些 \N{\fs12}but this doesn’t really know that, so,
Dialogue: 0,0:12:47.66,0:12:50.17,yin,,0,0,0,, 我需要一些东西 其中一个是 \N{\fs12}I need a couple of things. One thing I need is
Dialogue: 0,0:12:50.17,0:12:53.29,yin,,0,0,0,, 玩家玩的有多少张牌 \N{\fs12}how many cards are we playing with?
Dialogue: 0,0:12:53.29,0:12:57.01,yin,,0,0,0,, 玩家被允许总共匹配多少张纸牌 \N{\fs12}How many cards are, is the person allowed to match total?
Dialogue: 0,0:12:57.01,0:12:58.23,yin,,0,0,0,, 总共多少张 \N{\fs12}Right? What’s the total amount of cards?
Dialogue: 0,0:12:58.23,0:12:59.18,yin,,0,0,0,, 我们需要这个 \N{\fs12}So we need that.
Dialogue: 0,0:12:59.18,0:13:03.61,yin,,0,0,0,, 所以这里我说 initWithCardCount(初始化 带纸牌计数)\N{\fs12}So I’m going to say, init with card count,
Dialogue: 0,0:13:03.61,0:13:06.68,yin,,0,0,0,, 这里使用 NSUInteger\N{\fs12}and we’ll make an NSUInteger.
Dialogue: 0,0:13:06.68,0:13:11.49,yin,,0,0,0,, 实际上 计数至少需要是 2 你们应该能想到 \N{\fs12}Really, that count has got to be at least two, you would think,
Dialogue: 0,0:13:11.49,0:13:16.28,yin,,0,0,0,, 所以我在初始化器中 也许应该验证 确保它大于 1\N{\fs12}so I’d probably, in my initializer, should check to make sure it’s greater than one
Dialogue: 0,0:13:16.28,0:13:18.50,yin,,0,0,0,, 如若不然 我将从 self 返回 nil\N{\fs12}and if it’s not I’ll probably return nil from self.
Dialogue: 0,0:13:18.50,0:13:21.89,yin,,0,0,0,, 换言之 我将不初始化 我的 alloc init 会返回 nil\N{\fs12}In other words, I won’t initialize, my alloc init will return nil.
Dialogue: 0,0:13:21.89,0:13:25.50,yin,,0,0,0,, 确实 我们会选一种返回 nil 的方式 \N{\fs12}And we’ll, actually, we’ll pick one way where it does return nil,
Dialogue: 0,0:13:25.50,0:13:27.63,yin,,0,0,0,, 但我们也应该验证这个 \N{\fs12}but we should probably check that too.
Dialogue: 0,0:13:27.63,0:13:31.32,yin,,0,0,0,, 我需要的第二个东西是一个牌堆 \N{\fs12}The second thing that I need is a deck, a deck of cards,
Dialogue: 0,0:13:31.32,0:13:33.45,yin,,0,0,0,, 因为我要发这些牌 \N{\fs12}because I got to deal these cards out, right?
Dialogue: 0,0:13:33.45,0:13:38.48,yin,,0,0,0,, 我发牌后 你要选择一些来匹配 \N{\fs12}I’m going to deal them out and then you’re going to be able to pick some of them and do it.
Dialogue: 0,0:13:38.48,0:13:42.97,yin,,0,0,0,, 所以这里我说 usingDeck(使用牌堆)\N{\fs12}So, I’m going to say using deck.
Dialogue: 0,0:13:42.97,0:13:45.41,yin,,0,0,0,,(Deck *)deck\N{\fs12}Deck star deck.
Dialogue: 0,0:13:45.41,0:13:48.24,yin,,0,0,0,, 这里是初始化器 \N{\fs12}Okay, so there’s the initializer, and, of course,
Dialogue: 0,0:13:48.24,0:13:52.24,yin,,0,0,0,, 为了这个 我需要导入 Deck\N{\fs12}to do that I need to import deck, alright?
Dialogue: 0,0:13:52.24,0:13:54.25,yin,,0,0,0,, 这很好 \N{\fs12}So that’s pretty good.
Dialogue: 0,0:13:54.25,0:13:55.42,yin,,0,0,0,, 从这里开始 \N{\fs12}Start there.
Dialogue: 0,0:13:55.42,0:13:57.58,yin,,0,0,0,, 我的游戏还需要什么 \N{\fs12}What else do I need for my game?
Dialogue: 0,0:13:57.58,0:14:02.46,yin,,0,0,0,, 这是一个游戏 它当然应该有分数 \N{\fs12}Well it’s a game, so I think it should have a score.
Dialogue: 0,0:14:03.39,0:14:06.68,yin,,0,0,0,, 这里用 NSInteger 来表示分数 \N{\fs12}Eh, we’ll say NSInteger score.
Dialogue: 0,0:14:06.69,0:14:08.68,yin,,0,0,0,, 重申一次 使用 NSInteger NSUInteger\N{\fs12}And, again, NSInteger, NSUInteger
Dialogue: 0,0:14:08.69,0:14:10.96,yin,,0,0,0,, 而不用 unsigned int 只是风格问题 \N{\fs12}versus unsigned int is kind of a style thing,
Dialogue: 0,0:14:10.96,0:14:12.85,yin,,0,0,0,, 上面用了 NSUInteger\N{\fs12}I used NSUInteger above,
Dialogue: 0,0:14:12.85,0:14:16.39,yin,,0,0,0,, 这里我用 NSInteger 保持一致 \N{\fs12}I’m going to use NSInteger to be consistent here
Dialogue: 0,0:14:16.39,0:14:18.57,yin,,0,0,0,, 分数其实也可能为负 \N{\fs12}and my score can be negative possibly.
Dialogue: 0,0:14:18.57,0:14:21.28,yin,,0,0,0,, 所以不是 NSUInteger 它可以为负 \N{\fs12}So that’s why it’s not an NSUInteger, it can be negative.
Dialogue: 0,0:14:21.28,0:14:23.50,yin,,0,0,0,, 注意 这里我让该属性为只读 \N{\fs12}And notice I made this property read only.
Dialogue: 0,0:14:23.50,0:14:25.17,yin,,0,0,0,, 我们第一次看到这个 \N{\fs12}It’s the first time we’ve seen that.
Dialogue: 0,0:14:25.17,0:14:26.24,yin,,0,0,0,, 为什么呢 \N{\fs12}And why is that?
Dialogue: 0,0:14:26.24,0:14:28.38,yin,,0,0,0,, 这是因为 我是游戏逻辑 \N{\fs12}Well that’s because I’m the game logic,
Dialogue: 0,0:14:28.38,0:14:30.13,yin,,0,0,0,, 我需要决定分数是多少 \N{\fs12}I get to determine what the score is,
Dialogue: 0,0:14:30.13,0:14:33.53,yin,,0,0,0,, 没人能够设置分数 我会告诉你分数是什么 \N{\fs12}nobody can set the score, I tell you what the score is.
Dialogue: 0,0:14:33.53,0:14:36.56,yin,,0,0,0,, 因此 任何人都不能够设置该属性 \N{\fs12}Therefore, there should be no setter for this property.
Dialogue: 0,0:14:36.56,0:14:38.19,yin,,0,0,0,, 至少公共上 \N{\fs12}At least not publicly.
Dialogue: 0,0:14:38.19,0:14:41.88,yin,,0,0,0,, 等下你们会看到 私有上 我们可以改写它 \N{\fs12}You’re going to see in a moment, privately, we’re going to make this rewrite
Dialogue: 0,0:14:41.88,0:14:43.67,yin,,0,0,0,, 从而进行私有设置 \N{\fs12}so that we can set it privately, right?
Dialogue: 0,0:14:43.67,0:14:45.86,yin,,0,0,0,, 因为我们需要一直更新分数 \N{\fs12}Because we obviously need to be updating our score all the time
Dialogue: 0,0:14:45.86,0:14:50.48,yin,,0,0,0,, 用户翻牌并匹配正确后会得分 我们需要更新 \N{\fs12}as people flip these cards over and get matches, they get points, we need to update it.
Dialogue: 0,0:14:50.48,0:14:53.74,yin,,0,0,0,, 但公共上 我们希望它是只读的 \N{\fs12}But publicly, we want it to be a read only.
Dialogue: 0,0:14:55.72,0:14:58.11,yin,,0,0,0,, 剩下我还需要解决一件事 \N{\fs12}The only other thing I need to do is
Dialogue: 0,0:14:58.11,0:15:01.61,yin,,0,0,0,, 玩家需要点击这些牌 牌会翻面 \N{\fs12}someone’s going to be clicking on these cards; they’re going to be flipping over
Dialogue: 0,0:15:01.61,0:15:04.14,yin,,0,0,0,, 它们被选择 可能会匹配 \N{\fs12}and being chosen and possibly matching,
Dialogue: 0,0:15:04.14,0:15:07.80,yin,,0,0,0,, 所以我需要有某种方法 让玩家选择一张牌 \N{\fs12}so I need some sort of method to let somebody choose a card.
Dialogue: 0,0:15:07.80,0:15:15.99,yin,,0,0,0,, 这里我将其称作 chooseCardAtIndex(在某下标处选牌)\N{\fs12}So, I’m going to call this choose card at index,
Dialogue: 0,0:15:15.99,0:15:19.20,yin,,0,0,0,, 还是 NSUInteger 类型 index\N{\fs12}NSUInteger, again, index.
Dialogue: 0,0:15:19.20,0:15:24.20,yin,,0,0,0,,API 中有很多方式能让玩家选牌 \N{\fs12}So, there’s a lot of ways in API you could have for letting someone choose a card.
Dialogue: 0,0:15:24.20,0:15:27.70,yin,,0,0,0,, 创建这一纸牌匹配游戏的对象 例如控制器 \N{\fs12}The person who creates this card matching game, not the person,
Dialogue: 0,0:15:27.70,0:15:29.53,yin,,0,0,0,, 创建这一纸牌匹配游戏的对象 例如控制器 \N{\fs12}but the other object, like a controller
Dialogue: 0,0:15:29.53,0:15:32.85,yin,,0,0,0,, 创建这一模型类的对象 知道计数 \N{\fs12}that creates this model class, knows the count,
Dialogue: 0,0:15:32.85,0:15:35.42,yin,,0,0,0,, 因为它指定了牌的计数 \N{\fs12}because it specified the count of cards.
Dialogue: 0,0:15:35.42,0:15:39.42,yin,,0,0,0,, 所以 这样指定一个下标很合理 \N{\fs12}So, it’s pretty reasonable to have them specify an index,
Dialogue: 0,0:15:39.42,0:15:42.11,yin,,0,0,0,, 在 0 和这个 count-1 之间 \N{\fs12}between 0 and this count minus 1,
Dialogue: 0,0:15:42.11,0:15:44.17,yin,,0,0,0,, 只要玩家选择了一张牌 \N{\fs12}anytime someone chooses a card.
Dialogue: 0,0:15:44.17,0:15:49.36,yin,,0,0,0,, 这就是明确玩家选择哪张牌的一种简单方式 \N{\fs12}So this is just a simple way of specifying which card did the user choose?
Dialogue: 0,0:15:49.36,0:15:56.31,yin,,0,0,0,, 类似地 我需要能够返回一张给定下标处的牌 \N{\fs12}And similarly, I actually need to be able to return a card at a given index,
Dialogue: 0,0:15:56.31,0:15:58.36,yin,,0,0,0,, 为什么需要这样呢 \N{\fs12}and why do I need this?
Dialogue: 0,0:15:58.36,0:16:01.78,yin,,0,0,0,, 因为我需要弄清游戏状态 \N{\fs12}Well, I need to be able to find out the state of the game
Dialogue: 0,0:16:01.78,0:16:04.60,yin,,0,0,0,, 在任何时候 我需要知道 \N{\fs12}at any given time, I mean, how is my controller going
Dialogue: 0,0:16:04.60,0:16:08.48,yin,,0,0,0,, 我的控制器如何为该游戏显示一个 UI\N{\fs12}to display a UI for this game if it can’t, you know,
Dialogue: 0,0:16:08.48,0:16:12.00,yin,,0,0,0,, 如果它无法弄清纸牌状态是怎样的 那就麻烦了 \N{\fs12}if it can’t find out what the cards, what the state of the cards is,
Dialogue: 0,0:16:12.00,0:16:14.27,yin,,0,0,0,, 这里只是为了让它得到纸牌 \N{\fs12}so this is just a little way for it to get the cards,
Dialogue: 0,0:16:14.28,0:16:17.52,yin,,0,0,0,, 它可以遍历所有这些纸牌 获得全部 全部更新 \N{\fs12}and it could iterate through all the cards and get them all, and update them all,
Dialogue: 0,0:16:17.52,0:16:19.72,yin,,0,0,0,, 它也可以得到特定下标处的牌 \N{\fs12}or it can get one in a particular index
Dialogue: 0,0:16:19.72,0:16:24.95,yin,,0,0,0,, 做它所需要做的最合适的事情 \N{\fs12}and could kind of, whatever fits best to what we’re doing.
Dialogue: 0,0:16:24.95,0:16:27.19,yin,,0,0,0,, 好 这是我的公共 API\N{\fs12}Alright, so, that’s my public API.
Dialogue: 0,0:16:27.19,0:16:30.49,yin,,0,0,0,, 我在这里编写实现之前 \N{\fs12}Now before I go and do my implementation over here,
Dialogue: 0,0:16:30.49,0:16:33.35,yin,,0,0,0,, 你们可以看到这里有一条警告 它怎么说 \N{\fs12}you can see that I got this warning right here and what’s this warning saying,
Dialogue: 0,0:16:33.35,0:16:36.91,yin,,0,0,0,, 它说有三条 你可以点击这个 3 来展开 \N{\fs12}it’s saying there’s actually three of them, you can click on this little three by the way,
Dialogue: 0,0:16:36.91,0:16:40.18,yin,,0,0,0,, 它说 你没有实现这些 \N{\fs12}it’s saying you have not implemented these,
Dialogue: 0,0:16:40.18,0:16:43.91,yin,,0,0,0,, 你使之成为公共的三个方法 这个警告很好 \N{\fs12}these three methods that you made public, so that, that’s a good warning.
Dialogue: 0,0:16:43.91,0:16:45.34,yin,,0,0,0,, 我需要这样做 \N{\fs12}I need to go do that.
Dialogue: 0,0:16:45.34,0:16:49.59,yin,,0,0,0,, 但在这样做之前 我要先回到我的控制器 \N{\fs12}But before I do that, I’m going to go back to my controller,
Dialogue: 0,0:16:49.59,0:16:52.09,yin,,0,0,0,, 我要展示给你们 \N{\fs12}I want to show you
Dialogue: 0,0:16:52.09,0:16:55.46,yin,,0,0,0,, 这里我们需要有怎样的 UI\N{\fs12}how we’re going to, what kind of UI we’re going to have over here so that
Dialogue: 0,0:16:55.46,0:16:57.64,yin,,0,0,0,, 使得我们进行实现时 \N{\fs12}as we’re doing our implementation, you can kind
Dialogue: 0,0:16:57.64,0:16:59.61,yin,,0,0,0,, 你能想象它们如何一同工作 \N{\fs12}of imagine how they’re going to work together,
Dialogue: 0,0:16:59.61,0:17:01.40,yin,,0,0,0,, 但我不一定需要 \N{\fs12}but I actually wouldn’t necessarily have
Dialogue: 0,0:17:01.40,0:17:04.01,yin,,0,0,0,, 在 CardMatchingGame 之前做这个 UI\N{\fs12}to do the UI before I do the card matching game
Dialogue: 0,0:17:04.01,0:17:06.65,yin,,0,0,0,, 有人甚至认为 我应该先做 CardMatchingGame\N{\fs12}and one could argue I should do the card matching game first
Dialogue: 0,0:17:06.65,0:17:11.07,yin,,0,0,0,, 设计模型时不要受 UI 太大影响 \N{\fs12}and not be influenced by the UI so much when I’m designing my model.
Dialogue: 0,0:17:11.07,0:17:15.52,yin,,0,0,0,, 但是 要知道 这个模型将会同 UI 一同工作 \N{\fs12}But, you know, this model is going to be served by some UI
Dialogue: 0,0:17:15.52,0:17:19.70,yin,,0,0,0,, 所以我们将一同做 让你们能够更好地想象 \N{\fs12}so we’re going to do them at the same time so you can imagine it a little better.
Dialogue: 0,0:17:19.70,0:17:22.66,yin,,0,0,0,, 这个 UI 需要什么呢 \N{\fs12}So what do we need for this UI?
Dialogue: 0,0:17:22.66,0:17:25.11,yin,,0,0,0,, 一点就是 我们需要很多牌 \N{\fs12}Well one thing is we need a lot more cards, okay,
Dialogue: 0,0:17:25.11,0:17:27.55,yin,,0,0,0,, 这张牌无法和任何东西进行匹配 \N{\fs12}this one card, it can’t be matched against anything else,
Dialogue: 0,0:17:27.55,0:17:30.78,yin,,0,0,0,, 让我们弄更多牌 这很简单 \N{\fs12}so let’s make more cards, this is very easy to do.
Dialogue: 0,0:17:30.78,0:17:33.91,yin,,0,0,0,, 我只需要把这张牌移到角落里 \N{\fs12}I’m just going to move this card up into the corner here
Dialogue: 0,0:17:33.91,0:17:38.41,yin,,0,0,0,, 然后复制粘贴 选择它 复制粘贴 \N{\fs12}and I’m just going to copy and paste it, so I can select it and copy and paste.
Dialogue: 0,0:17:38.41,0:17:40.87,yin,,0,0,0,, 使用蓝色参考线来放置 \N{\fs12}Place it, use the nice blue guidelines there.
Dialogue: 0,0:17:40.87,0:17:43.89,yin,,0,0,0,, 我还可以复制两张并粘贴 \N{\fs12}I can even copy two and paste them.
Dialogue: 0,0:17:43.89,0:17:48.28,yin,,0,0,0,, 然后复制四张并粘贴 \N{\fs12}Or copy four, and paste them.
Dialogue: 0,0:17:48.28,0:17:52.58,yin,,0,0,0,, 我将有 12 张牌 这是很好的纸牌数量 \N{\fs12}So now I’m going to have 12 cards, that’s a good number of cards.
Dialogue: 0,0:17:52.58,0:17:55.42,yin,,0,0,0,, 实际上 我不再需要翻牌计数 \N{\fs12}I actually don’t need this flips thing anymore, I’m not going
Dialogue: 0,0:17:55.42,0:17:57.30,yin,,0,0,0,, 这里不再是翻牌 而是要匹配 \N{\fs12}to be just flipping cards, I’m going to be matching cards,
Dialogue: 0,0:17:57.30,0:18:00.63,yin,,0,0,0,, 也许我需要展示分数 但这是之后的事情 \N{\fs12}I’m probably going to need something for the score which we’ll do a little bit later.
Dialogue: 0,0:18:00.63,0:18:03.27,yin,,0,0,0,, 不过这就基本上是我的整个 UI 了 \N{\fs12}But that’s pretty much my entire UI, I’m just going
Dialogue: 0,0:18:03.27,0:18:06.45,yin,,0,0,0,, 我有这些牌 我将点击它们 \N{\fs12}to have these cards and I’m going to click on them,
Dialogue: 0,0:18:06.45,0:18:08.69,yin,,0,0,0,, 它会显示出一张牌 \N{\fs12}it’s going to show a card and then I’m going,
Dialogue: 0,0:18:08.69,0:18:12.74,yin,,0,0,0,, 然后我可以再点一下 让它正面朝下 取消选择 \N{\fs12}I could either click on it again to turn it back facedown, un-choose it,
Dialogue: 0,0:18:12.74,0:18:14.46,yin,,0,0,0,, 我也可以点另外一张牌 \N{\fs12}or I could click on another card
Dialogue: 0,0:18:14.46,0:18:16.37,yin,,0,0,0,, 如果匹配成功 我将得到一些分数 \N{\fs12}and if it matches I should get some points
Dialogue: 0,0:18:16.37,0:18:21.07,yin,,0,0,0,, 否则的话 我之前选的那张将会翻回去 正面朝下 \N{\fs12}and if it doesn’t match, the other one, the last one I had is going to flip facedown.
Dialogue: 0,0:18:21.07,0:18:25.83,yin,,0,0,0,, 这同你们所熟悉的 Concentration 游戏不同 \N{\fs12}Now those of you who are used to a game like Concentration, it’s a little different,
Dialogue: 0,0:18:25.83,0:18:28.44,yin,,0,0,0,, 通常你选一张牌 然后再选另一张 \N{\fs12}usually you pick a card, then you pick another card,
Dialogue: 0,0:18:28.44,0:18:29.97,yin,,0,0,0,, 相匹配你会得分 \N{\fs12}and if they match you get points,
Dialogue: 0,0:18:29.97,0:18:33.73,yin,,0,0,0,, 否则两者都会翻回去 \N{\fs12}if they don’t match they usually both turn back over.
Dialogue: 0,0:18:33.73,0:18:36.92,yin,,0,0,0,, 这是很酷的 UI 但我还没教你们怎么做动画 \N{\fs12}Which would be a cool UI, but I haven’t taught you how to do animation
Dialogue: 0,0:18:36.92,0:18:38.05,yin,,0,0,0,, 这是这里所必须的 \N{\fs12}and that’s what you would need there
Dialogue: 0,0:18:38.05,0:18:41.25,yin,,0,0,0,, 因为第二张牌需要正面朝上 在屏幕上显示一段时间 \N{\fs12}because that second card, when it comes up, would need to be on screen for a little bit
Dialogue: 0,0:18:41.25,0:18:42.57,yin,,0,0,0,, 然后两者才会同时翻回正面朝下 \N{\fs12}before they both went down
Dialogue: 0,0:18:42.57,0:18:44.38,yin,,0,0,0,, 因为这个你需要看一段时间 \N{\fs12}because you got to at least get to see this one.
Dialogue: 0,0:18:44.38,0:18:47.42,yin,,0,0,0,, 因为你们没学过动画 所以点击第二张牌时 \N{\fs12}So since you don’t have animation, when you click on that second one, it’s going
Dialogue: 0,0:18:47.42,0:18:50.43,yin,,0,0,0,, 如果不匹配 我们将让之前那张正面朝下 \N{\fs12}to facedown the previous one if they don’t match.
Dialogue: 0,0:18:50.43,0:18:52.61,yin,,0,0,0,, 然后你不断点击 \N{\fs12}And then you just keep clicking around trying
Dialogue: 0,0:18:52.61,0:18:56.33,yin,,0,0,0,, 找到相匹配的牌就能得分 我来展示下 \N{\fs12}to find matches and you get points, and we’ll show you,
Dialogue: 0,0:18:56.33,0:18:58.65,yin,,0,0,0,, 我要使用的分数系统 \N{\fs12}kind of the point system that I’m going to use.
Dialogue: 0,0:18:58.65,0:19:00.68,yin,,0,0,0,, 这就是我的整个 UI\N{\fs12}So this is my entire UI.
Dialogue: 0,0:19:00.68,0:19:03.43,yin,,0,0,0,, 这是一个非常以内容为中心的 UI\N{\fs12}Very, it’s a very content-central UI, right?
Dialogue: 0,0:19:03.43,0:19:06.89,yin,,0,0,0,,UI 集中在这些纸牌上 \N{\fs12}The UI is really focused on these cards, there’s not a lot
Dialogue: 0,0:19:06.89,0:19:09.24,yin,,0,0,0,, 周围没有很多装饰 \N{\fs12}of adornments and other stuff around it.
Dialogue: 0,0:19:09.24,0:19:11.67,yin,,0,0,0,, 实际上 也几乎没有别的东西了 \N{\fs12}And we’re really not going to have much other stuff except
Dialogue: 0,0:19:11.67,0:19:14.77,yin,,0,0,0,, 除了分数 你们还需要加一个重新发牌的按钮 \N{\fs12}for the score and you’re going to add like a redeal button
Dialogue: 0,0:19:14.77,0:19:20.28,yin,,0,0,0,, 也许还有一些关于状态的内容 这些是作业 \N{\fs12}and maybe a little bit of stuff about some status about what’s going on in your homework,
Dialogue: 0,0:19:20.28,0:19:23.81,yin,,0,0,0,, 不过 UI 的基础就是这些了 \N{\fs12}but this is the fundamental basis of the UI.
Dialogue: 0,0:19:23.81,0:19:27.60,yin,,0,0,0,, 下面回到我们的 CardMatchingGame\N{\fs12}So now let’s go back to our card matching game,
Dialogue: 0,0:19:27.60,0:19:32.62,yin,,0,0,0,, 我们来讲讲如何实现这个 \N{\fs12}and let’s talk about how we’re going to implement this thing.
Dialogue: 0,0:19:32.62,0:19:35.41,yin,,0,0,0,, 这里选择自动 \N{\fs12}I’m going to go back to automatic here.
Dialogue: 0,0:19:35.41,0:19:36.84,yin,,0,0,0,, 把这个弄回来 \N{\fs12}Get this thing back.
Dialogue: 0,0:19:36.84,0:19:39.63,yin,,0,0,0,, 为了让这更漂亮一些 我要这样 \N{\fs12}Just to make this look nicer, I’m going to go like that.
Dialogue: 0,0:19:39.63,0:19:43.97,yin,,0,0,0,, 我将把这个头文件留在这里 \N{\fs12}And I’m going to leave this header file up while we go
Dialogue: 0,0:19:43.97,0:19:46.43,yin,,0,0,0,, 同时来编写实现 \N{\fs12}and do the implementation so you can kind of see
Dialogue: 0,0:19:46.43,0:19:50.60,yin,,0,0,0,, 这样你们就能对照着看 我们要做什么 \N{\fs12}where we’re shooting, this is what we’re shooting for.
Dialogue: 0,0:19:50.60,0:19:57.74,yin,,0,0,0,, 首先我要让这个只在实现中为读写 \N{\fs12}So, the first thing I want to do is make this be readwrite in my implementation only.
Dialogue: 0,0:19:57.74,0:20:01.19,yin,,0,0,0,, 做法是通过这个私有接口 \N{\fs12}And I do that with this little, private interface,
Dialogue: 0,0:20:01.19,0:20:04.05,yin,,0,0,0,, 记得吧 这个我讲过 你可以使用 \N{\fs12}remember I showed you about this, that you can have one
Dialogue: 0,0:20:04.05,0:20:06.34,yin,,0,0,0,, 这种开闭括号表示 \N{\fs12}of these with the little open parentheses, close parentheses
Dialogue: 0,0:20:06.34,0:20:09.57,yin,,0,0,0,, 像这样 现在你可以声明你自己的东西 \N{\fs12}like that, and now you can declare your own things.
Dialogue: 0,0:20:09.57,0:20:11.93,yin,,0,0,0,, 我将重新声明这个 \N{\fs12}Well, I’m going to redeclare this thing
Dialogue: 0,0:20:11.93,0:20:17.38,yin,,0,0,0,, 为非原子 读写 NSInteger score\N{\fs12}to be nonatomic readwrite, NSInteger score.
Dialogue: 0,0:20:18.06,0:20:23.20,yin,,0,0,0,, 这个读写 我们不怎么使用 因为它是默认 \N{\fs12}Now this readwrite, we don’t use that very much because it’s the default, right?
Dialogue: 0,0:20:23.20,0:20:27.97,yin,,0,0,0,,isChosen 记得 Card 中的 chosen 和 matched 属性吗 \N{\fs12}Is chosen, remember the properties chosen and matched that are in card.
Dialogue: 0,0:20:27.97,0:20:30.91,yin,,0,0,0,, 它们没说是读写 但它们有 setter 和 getter\N{\fs12}Those didn’t say readwrite, but they had a setter and a getter.
Dialogue: 0,0:20:30.91,0:20:32.67,yin,,0,0,0,, 它们是读写的 \N{\fs12}They were readwrite.
Dialogue: 0,0:20:32.67,0:20:34.55,yin,,0,0,0,, 这个只使用在 \N{\fs12}We really only use this when we’re trying
Dialogue: 0,0:20:34.55,0:20:38.31,yin,,0,0,0,, 重新声明公共中的只读为私有中的读写时 \N{\fs12}to redeclare a readonly one from public to private,
Dialogue: 0,0:20:38.31,0:20:41.11,yin,,0,0,0,, 这是我们使用这个的唯一情况 \N{\fs12}this is about the only time we really use this.
Dialogue: 0,0:20:41.11,0:20:42.88,yin,,0,0,0,, 也有一些编程风格 \N{\fs12}There are probably programming styles
Dialogue: 0,0:20:42.88,0:20:45.08,yin,,0,0,0,, 有人喜欢一直加上读写 \N{\fs12}where people put readwrite all the time,
Dialogue: 0,0:20:45.08,0:20:48.10,yin,,0,0,0,, 虽然这是默认 有些人对强是这样做的 \N{\fs12}even though it’s the default, some people do that with strong
Dialogue: 0,0:20:48.10,0:20:49.83,yin,,0,0,0,, 强也是默认 \N{\fs12}since strong is the default.
Dialogue: 0,0:20:49.83,0:20:52.23,yin,,0,0,0,, 我就喜欢在任何地方都指明强 \N{\fs12}I like to specify strong everywhere just
Dialogue: 0,0:20:52.23,0:20:56.02,yin,,0,0,0,, 这样我脑袋里能更清楚知道发生了什么 \N{\fs12}so it’s really clear what’s going on in my mind.
Dialogue: 0,0:20:56.02,0:21:00.36,yin,,0,0,0,, 但读写一般都没必要特别指出 除了这里需要重新定义 \N{\fs12}But readwrite, not necessary for most things except for here where we’re redefining it.
Dialogue: 0,0:21:00.36,0:21:02.27,yin,,0,0,0,, 大家都理解这里我做了什么吗 \N{\fs12}So everyone understand what I’m doing here?
Dialogue: 0,0:21:02.27,0:21:04.89,yin,,0,0,0,, 这是 score 和前面完全一样的分数 \N{\fs12}This is score, this is exactly the same score,
Dialogue: 0,0:21:04.89,0:21:08.11,yin,,0,0,0,, 也就是说 这里将会有 setter\N{\fs12}it’s just that this says there’s going to be a setter,
Dialogue: 0,0:21:08.11,0:21:10.65,yin,,0,0,0,, 但我只能在私有条件下调用 setter\N{\fs12}but I’m only going to be able to call that setter, at least not
Dialogue: 0,0:21:10.65,0:21:13.78,yin,,0,0,0,, 至少在实现中编译器不会提出警告 \N{\fs12}without a compiler warning in my implementation.
Dialogue: 0,0:21:13.78,0:21:16.50,yin,,0,0,0,, 因为我这里声明了读写 \N{\fs12}Okay, because I declared the readwrite part here.
Dialogue: 0,0:21:16.50,0:21:20.19,yin,,0,0,0,, 没有公共理由能够设置这一分数 \N{\fs12}No public person is going to be able to set the score,
Dialogue: 0,0:21:20.19,0:21:23.80,yin,,0,0,0,, 调用 setScore 而不让编译器提出警告 \N{\fs12}call set score, without compiler giving a warning.
Dialogue: 0,0:21:25.31,0:21:26.88,yin,,0,0,0,, 下一步 我想考虑这个纸牌游戏的内部数据结构 \N{\fs12}So the next thing I want to do is
Dialogue: 0,0:21:26.88,0:21:29.79,yin,,0,0,0,, 下一步 我想考虑这个纸牌游戏的内部数据结构 \N{\fs12}I want to think about my internal data structure for my card game
Dialogue: 0,0:21:29.79,0:21:30.66,yin,,0,0,0,, 非常简单 \N{\fs12}really simple,
Dialogue: 0,0:21:30.66,0:21:32.61,yin,,0,0,0,, 不过是一个纸牌的数组 \N{\fs12}it’s just an array of cards.
Dialogue: 0,0:21:32.61,0:21:34.41,yin,,0,0,0,, 我将有一个纸牌的数组 \N{\fs12}I’m going to have an array of cards,
Dialogue: 0,0:21:34.41,0:21:37.71,yin,,0,0,0,, 它将有这么多张牌 我将从牌堆中抽出它们 \N{\fs12}it’s going to be this many cards, I’m going to pull them out of this deck,
Dialogue: 0,0:21:37.71,0:21:44.28,yin,,0,0,0,, 玩家将能选择这些牌 可以看这些牌 \N{\fs12}and, people are going to be able to choose those cards, someone can go look at the cards,
Dialogue: 0,0:21:44.28,0:21:47.88,yin,,0,0,0,, 我们会在玩家选择对牌时进行加分 \N{\fs12}and we’ll adjust the score as people choose the cards.
Dialogue: 0,0:21:47.88,0:21:50.50,yin,,0,0,0,, 我需要这种内部数据结构 这是内部的 \N{\fs12}So I need that internal data structure, it’s internal,
Dialogue: 0,0:21:50.50,0:21:53.64,yin,,0,0,0,, 所以这里我需要说 非原子 强 \N{\fs12}so I’m going to put it here, nonatomic, strong.
Dialogue: 0,0:21:53.64,0:21:57.55,yin,,0,0,0,, 它将是一个可变的 NSMutableArray\N{\fs12}It’s going to be an NSMutableArray.
Dialogue: 0,0:21:57.55,0:22:01.42,yin,,0,0,0,, 这同我们在 Deck 中看到的情况类似 \N{\fs12}And this is similar to what we had in deck.
Dialogue: 0,0:22:01.42,0:22:06.52,yin,,0,0,0,, 这里我总喜欢注释一下 说是 Card 的 \N{\fs12}Alright? And I always like to put of card just to say what’s
Dialogue: 0,0:22:06.52,0:22:07.88,yin,,0,0,0,, 因为 我说过 \N{\fs12}in here because as we said,
Dialogue: 0,0:22:07.88,0:22:13.17,yin,,0,0,0,,Objective-C 没有办法让编译器强制说这里是什么 \N{\fs12}there’s no way in objective-C to kind of have the compiler enforce what’s in here.
Dialogue: 0,0:22:13.17,0:22:16.22,yin,,0,0,0,, 位于这个可变数组中的不过是对象 \N{\fs12}The things that are in this MutableArray are just objects.
Dialogue: 0,0:22:16.22,0:22:19.45,yin,,0,0,0,, 编译器不知道它们是什么类 \N{\fs12}And the compiler does not know what class they are.
Dialogue: 0,0:22:19.45,0:22:22.26,yin,,0,0,0,, 所以你需要确保没有将消息 \N{\fs12}So it’s up to you to make sure you don’t send messages
Dialogue: 0,0:22:22.26,0:22:24.42,yin,,0,0,0,, 发送给错误的事物 \N{\fs12}to things you pull out of it that are wrong.
Dialogue: 0,0:22:24.42,0:22:29.86,yin,,0,0,0,, 这里我们至少要让读代码的人知道我们的意图 \N{\fs12}So here, we are trying to at least give the person reading our code know our intent,
Dialogue: 0,0:22:29.86,0:22:32.43,yin,,0,0,0,, 我们希望这里是纸牌的数组 \N{\fs12}our intent is for this to be an array of cards.
Dialogue: 0,0:22:32.43,0:22:38.51,yin,,0,0,0,, 当然 我们希望进行惰性实例化 \N{\fs12}And, of course, we want our lazy instantiation.
Dialogue: 0,0:22:45.58,0:22:47.01,yin,,0,0,0,, 这很好 \N{\fs12}So that’s good.
Dialogue: 0,0:22:47.01,0:22:52.09,yin,,0,0,0,, 现在我们有了这个纸牌的数组 我们可以随时使用它 \N{\fs12}So now we have this array of cards, we can use it anytime we want.
Dialogue: 0,0:22:52.09,0:22:56.01,yin,,0,0,0,, 还是那句话 我们可以在初始化器中进行这个初始化 \N{\fs12}Again, we could do this initialization in the initializer, right,
Dialogue: 0,0:22:56.01,0:22:58.34,yin,,0,0,0,, 我们可以在这里做这个 alloc init\N{\fs12}we can do this alloc init in here,
Dialogue: 0,0:22:58.34,0:23:01.34,yin,,0,0,0,, 不过我更喜欢惰性实例化 \N{\fs12}but I happen to like using the lazy instantiation, I think it,
Dialogue: 0,0:23:01.34,0:23:06.21,yin,,0,0,0,, 我认为它让初始化器的代码看起来更简洁 \N{\fs12}it’s kind of, makes the code in our initializer look a little cleaner.
Dialogue: 0,0:23:06.21,0:23:08.31,yin,,0,0,0,, 下面让我们来写初始化器 \N{\fs12}So let’s do our initializer next though.
Dialogue: 0,0:23:08.31,0:23:12.01,yin,,0,0,0,, 我将要复制粘贴 \N{\fs12}So I’m just going to copy and paste here.
Dialogue: 0,0:23:12.01,0:23:14.89,yin,,0,0,0,, 也许没必要复制粘贴 \N{\fs12}You know, it probably not necessary to copy and paste
Dialogue: 0,0:23:14.89,0:23:17.96,yin,,0,0,0,, 因为键入时 它会自动补全 \N{\fs12}because if you just start typing this, it’s going to complete it,
Dialogue: 0,0:23:17.96,0:23:20.72,yin,,0,0,0,, 其它方法中 我会展示这个的 \N{\fs12}we’ll do that with the other method just to show you that one.
Dialogue: 0,0:23:20.72,0:23:24.12,yin,,0,0,0,, 然后 我们都知道我们做了这个奇怪的事 \N{\fs12}And then we all know that we do this weird thing here,
Dialogue: 0,0:23:24.12,0:23:25.94,yin,,0,0,0,,self = [super init]\N{\fs12}self equals super init.
Dialogue: 0,0:23:25.94,0:23:29.26,yin,,0,0,0,, 这是我们类的指定初始化器 \N{\fs12}Now, this is our classes designated initializer,
Dialogue: 0,0:23:29.26,0:23:31.88,yin,,0,0,0,, 换句话说 你需要调用这个初始化器 \N{\fs12}in other words, you have to call this initializer
Dialogue: 0,0:23:31.88,0:23:34.60,yin,,0,0,0,, 否则我们的类将无法正常初始化 \N{\fs12}or our class will not be properly initialized,
Dialogue: 0,0:23:34.60,0:23:37.86,yin,,0,0,0,, 我们可以有其它能调用这个的初始化器 \N{\fs12}we can have other initializers that could call this one, okay,
Dialogue: 0,0:23:37.86,0:23:40.18,yin,,0,0,0,, 如果有方法能够默认设置这些 \N{\fs12}if there were ways to default things or whatever.
Dialogue: 0,0:23:40.18,0:23:41.90,yin,,0,0,0,, 这里没有办法默认设置 \N{\fs12}There is no way to do that, default it,
Dialogue: 0,0:23:41.90,0:23:44.52,yin,,0,0,0,, 所以这个必须是我们的指定初始化器 \N{\fs12}so this has to be our designated initializer, so,
Dialogue: 0,0:23:44.52,0:23:47.93,yin,,0,0,0,, 我将在公共头文件中加一段注释 \N{\fs12}I’m actually going to put a comment in my public header file
Dialogue: 0,0:23:47.94,0:23:50.97,yin,,0,0,0,, 注明这是我的指定初始化器 \N{\fs12}saying this is my designated initializer.
Dialogue: 0,0:23:50.97,0:23:53.90,yin,,0,0,0,, 这样任何为 CardMatchingGame 编写子类的人 \N{\fs12}That way if anyone ever subclassed my card matching game,
Dialogue: 0,0:23:53.90,0:23:56.53,yin,,0,0,0,, 就知道在他们的指定初始化器中 \N{\fs12}they would know that in their designating initializer,
Dialogue: 0,0:23:56.53,0:24:00.00,yin,,0,0,0,, 他们需要调用 super 我们的指定初始化器 \N{\fs12}they’d have to call super, our designated initializer.
Dialogue: 0,0:24:00.00,0:24:02.06,yin,,0,0,0,, 这就是指定初始化器的工作方式 \N{\fs12}Okay, that’s the way designated initializers work.
Dialogue: 0,0:24:02.06,0:24:04.43,yin,,0,0,0,, 你需要从你的指定初始化器 \N{\fs12}You have to call your super designated initializer
Dialogue: 0,0:24:04.43,0:24:06.43,yin,,0,0,0,, 调用你的 super 指定初始化器 \N{\fs12}from your designated initializer.
Dialogue: 0,0:24:07.04,0:24:07.75,yin,,0,0,0,, 有问题 \N{\fs12}Question?
Dialogue: 0,0:24:11.34,0:24:14.02,yin,,0,0,0,, 指定初始化器吗 不 编译器不知道 \N{\fs12}Designated initializer? No, the compiler does not know.
Dialogue: 0,0:24:14.02,0:24:17.69,yin,,0,0,0,, 这纯粹是注释 它类似于这类注释 \N{\fs12}This is a purely commented thing, it’s similar to this kind of comment thing.
Dialogue: 0,0:24:17.69,0:24:21.06,yin,,0,0,0,, 很不幸 编译器不知道 没有关键字说 \N{\fs12}It’s unfortunate that the compiler does not, there’s no key word or anything
Dialogue: 0,0:24:21.06,0:24:23.44,yin,,0,0,0,, 这是我的指定初始化器 \N{\fs12}that says this is my designated initializer.
Dialogue: 0,0:24:23.44,0:24:25.68,yin,,0,0,0,, 你的问题提得早些 \N{\fs12}You had a question first here?
Dialogue: 0,0:24:25.68,0:24:27.51,yin,,0,0,0,, 好 你讲 \N{\fs12}Okay, question?
Dialogue: 0,0:24:40.29,0:24:43.24,yin,,0,0,0,, 你可以跟进我讲的 我不大理解你的问题 \N{\fs12}Well, follow up with me, I don’t understand the question.
Dialogue: 0,0:24:43.24,0:24:45.77,yin,,0,0,0,, 如果有其它初始化器 我猜 \N{\fs12}If you have other initializers, I guess the,
Dialogue: 0,0:24:45.77,0:24:50.51,yin,,0,0,0,, 你的问题是我怎样禁用另一个初始化器吗 \N{\fs12}your question is how do I disable another initializer?
Dialogue: 0,0:24:57.30,0:24:59.72,yin,,0,0,0,, 对 哦 我知道你是什么意思了 \N{\fs12}Right. Oh, I see what you mean.
Dialogue: 0,0:24:59.72,0:25:03.12,yin,,0,0,0,, 问题是 我能否有另一个初始化器 \N{\fs12}Yeah, you, okay, so the question is could I have another
Dialogue: 0,0:25:03.12,0:25:05.24,yin,,0,0,0,, 指定初始化器 不是公共的 \N{\fs12}initializer, designating initializer not be public
Dialogue: 0,0:25:05.24,0:25:07.62,yin,,0,0,0,, 而是私有的 再让事物调用它 \N{\fs12}or something be private and have things call from it?
Dialogue: 0,0:25:07.62,0:25:09.31,yin,,0,0,0,, 当然 你可以那样做 \N{\fs12}Yeah, you absolutely could do that,
Dialogue: 0,0:25:09.31,0:25:12.27,yin,,0,0,0,, 只是 如果你让指定初始化器不是公共的 \N{\fs12}although if you make your designating initializer not public,
Dialogue: 0,0:25:12.27,0:25:13.89,yin,,0,0,0,, 那么子类就不知道它 \N{\fs12}then subclasses don’t know about it
Dialogue: 0,0:25:13.89,0:25:16.21,yin,,0,0,0,, 因为 Objective-C 中没有 protected\N{\fs12}because there’s no protected in objective-C,
Dialogue: 0,0:25:16.21,0:25:18.69,yin,,0,0,0,, 所以任何子类需要的东西都要设为公共的 \N{\fs12}so anything subclassers need has to be made public
Dialogue: 0,0:25:18.69,0:25:19.82,yin,,0,0,0,, 来让它们看到它 \N{\fs12}for them to see it,
Dialogue: 0,0:25:19.82,0:25:22.15,yin,,0,0,0,, 它仍在那里 仍然能够创建它的子类 \N{\fs12}it’s still there, they can still subclass it,
Dialogue: 0,0:25:22.16,0:25:23.88,yin,,0,0,0,, 但要子类知道它 \N{\fs12}but, you know, to document it you want it,
Dialogue: 0,0:25:23.88,0:25:26.19,yin,,0,0,0,, 你需要把它放到公共 API 中 \N{\fs12}you have to put it in your public API.
Dialogue: 0,0:25:26.19,0:25:29.13,yin,,0,0,0,, 对 整个初始化器问题在 Objective-C 中 \N{\fs12}So. Yeah, the whole thing with initializers in objective-C is less
Dialogue: 0,0:25:29.13,0:25:32.09,yin,,0,0,0,, 并没有很好地得到语言的支持 \N{\fs12}than nicely supported by the language.
Dialogue: 0,0:25:32.09,0:25:33.51,yin,,0,0,0,, 请讲 \N{\fs12}Question?
Dialogue: 0,0:25:39.36,0:25:42.65,yin,,0,0,0,, 问题是 这里是否可以 \N{\fs12}Yeah, so the question is would it make sense here to,
Dialogue: 0,0:25:42.65,0:25:47.11,yin,,0,0,0,, 实现 init 在这里 \N{\fs12}for me to implement an init here, right?
Dialogue: 0,0:25:47.11,0:25:48.49,yin,,0,0,0,, 来做点什么 \N{\fs12}To do something.
Dialogue: 0,0:25:48.49,0:25:52.10,yin,,0,0,0,, 也许重写 init 也是可以的 \N{\fs12}And actually it might well make sense to override an init,
Dialogue: 0,0:25:52.10,0:25:53.51,yin,,0,0,0,, 你知道怎么做吗 \N{\fs12}and you know what you would do?
Dialogue: 0,0:25:53.51,0:25:55.16,yin,,0,0,0,, 返回 nil\N{\fs12}Return nil.
Dialogue: 0,0:25:55.17,0:25:58.46,yin,,0,0,0,, 因为如果你使用 [CardMatchingGame alloc] init\N{\fs12}Because if you do card matching game alloc init,
Dialogue: 0,0:25:58.46,0:26:00.15,yin,,0,0,0,, 它没有适当初始化 \N{\fs12}it’s not properly initialized
Dialogue: 0,0:26:00.15,0:26:04.69,yin,,0,0,0,, 而且纸牌数或牌堆没有默认值 所以返回 nil\N{\fs12}and there’s no default for the number of cards or the deck, so return nil.
Dialogue: 0,0:26:04.69,0:26:07.07,yin,,0,0,0,, 对 答案是肯定的 你可以 \N{\fs12}So, yeah, so the answer is yeah you could.
Dialogue: 0,0:26:07.07,0:26:09.43,yin,,0,0,0,, 好 回到我们的指定初始化器 \N{\fs12}Alright, so just back to our designating initializer,
Dialogue: 0,0:26:09.43,0:26:12.30,yin,,0,0,0,, 我们需要调用 super 的指定初始化器 \N{\fs12}we need to call our supers designating initializer,
Dialogue: 0,0:26:12.30,0:26:14.71,yin,,0,0,0,, 对于 NSObject 这是 init\N{\fs12}which for NSObject is an init.
Dialogue: 0,0:26:14.71,0:26:15.67,yin,,0,0,0,, 没有参数 \N{\fs12}No arguments.
Dialogue: 0,0:26:15.67,0:26:18.89,yin,,0,0,0,, 然后我们可以说 if (self)\N{\fs12}Then we just say if self,
Dialogue: 0,0:26:18.90,0:26:21.72,yin,,0,0,0,, 这时我们可以初始化我们自己 \N{\fs12}then we can initialize ourselves
Dialogue: 0,0:26:21.72,0:26:23.36,yin,,0,0,0,, 然后返回 self\N{\fs12}and then we’re going to return self.
Dialogue: 0,0:26:23.36,0:26:28.26,yin,,0,0,0,, 如果这里任何情况出现错误 我们将把 self 设为 nil\N{\fs12}And if anything goes wrong in here, we will set self equal to nil.
Dialogue: 0,0:26:28.26,0:26:30.22,yin,,0,0,0,, 从这里跳出来 \N{\fs12}Okay, and break out of this thing.
Dialogue: 0,0:26:30.22,0:26:33.23,yin,,0,0,0,, 实际上 你们会看到 这里确实会出错 \N{\fs12}And, in fact, something is going to go in wrong in here, as you will see.
Dialogue: 0,0:26:33.23,0:26:37.76,yin,,0,0,0,, 我们需要做什么来初始化这里的东西呢 \N{\fs12}So, what do we need to do to initialize our thing here?
Dialogue: 0,0:26:37.76,0:26:42.98,yin,,0,0,0,, 我们需要从牌堆中抽出这么多张牌 \N{\fs12}Well, we need to pull this many cards out of this deck
Dialogue: 0,0:26:42.98,0:26:45.97,yin,,0,0,0,, 将它放入我们的内部数据结构中 \N{\fs12}and put it in our internal data structure here.
Dialogue: 0,0:26:45.97,0:26:48.05,yin,,0,0,0,, 怎么做到呢 \N{\fs12}Alright? So how do we do that?
Dialogue: 0,0:26:48.05,0:26:56.21,yin,,0,0,0,, 这样做 for (int i = 0; i < count; i++)\N{\fs12}How about for int i equals 0, i is less than count, i plus, plus,
Dialogue: 0,0:26:56.21,0:26:59.18,yin,,0,0,0,, 这能让我遍历这么多个事物 \N{\fs12}so that’s just me going through this many of these things.
Dialogue: 0,0:26:59.18,0:27:02.51,yin,,0,0,0,, 下面是 Card *card =\N{\fs12}I’m going to say card star card equals
Dialogue: 0,0:27:02.51,0:27:05.57,yin,,0,0,0,,[deck drawRandomCard]\N{\fs12}deck, draw random card,
Dialogue: 0,0:27:05.57,0:27:07.39,yin,,0,0,0,, 这是从牌堆随机抽一张牌 \N{\fs12}so I’m drawing a random card of the deck,
Dialogue: 0,0:27:07.41,0:27:15.14,yin,,0,0,0,, 然后我要说 self.cards[i] = card\N{\fs12}and then I’m just going to say self dot cards, sub i, equals card.
Dialogue: 0,0:27:15.14,0:27:19.49,yin,,0,0,0,, 我有这个可变数组 它将总是非 nil\N{\fs12}So I’ve got this MutableArray, it’s always going to be non-nil.
Dialogue: 0,0:27:19.49,0:27:21.73,yin,,0,0,0,, 这完全没问题 \N{\fs12}So this is perfectly fine.
Dialogue: 0,0:27:21.73,0:27:23.80,yin,,0,0,0,, 不过这里有一个问题 \N{\fs12}There’s one problem here though.
Dialogue: 0,0:27:23.80,0:27:26.44,yin,,0,0,0,, 如果牌用完了会怎样 \N{\fs12}What if we run out of cards?
Dialogue: 0,0:27:26.44,0:27:29.20,yin,,0,0,0,, 如果传递一副扑克牌到这里 \N{\fs12}What if you pass a playing card deck here
Dialogue: 0,0:27:29.20,0:27:32.69,yin,,0,0,0,, 然后你说要 100 张牌用于游戏 \N{\fs12}and you say 100 cards for your game.
Dialogue: 0,0:27:32.69,0:27:35.52,yin,,0,0,0,, 这最终会返回 nil\N{\fs12}This is going to eventually return nil.
Dialogue: 0,0:27:35.52,0:27:36.83,yin,,0,0,0,, 牌不够 \N{\fs12}Okay, and run out of cards.
Dialogue: 0,0:27:36.83,0:27:40.58,yin,,0,0,0,, 所以这里我们要检验说 if (card)\N{\fs12}So we should check here and say if card,
Dialogue: 0,0:27:40.58,0:27:43.60,yin,,0,0,0,, 然后再做我们一般要做的事 \N{\fs12}then we’ll do what we normally do,
Dialogue: 0,0:27:43.60,0:27:46.30,yin,,0,0,0,, 否则 self = nil\N{\fs12}otherwise, self equals nil,
Dialogue: 0,0:27:46.30,0:27:50.10,yin,,0,0,0,, 并从 for 循环中跳出 \N{\fs12}break out of that for loop because we’re dead.
Dialogue: 0,0:27:51.17,0:27:52.51,yin,,0,0,0,, 有问题 \N{\fs12}Question?
Dialogue: 0,0:28:00.44,0:28:05.62,yin,,0,0,0,, 问题是 cards 中还没有任何东西时 我在这一行代码中 \N{\fs12}So the question is how can I access cards here to set it, in this line of
Dialogue: 0,0:28:05.62,0:28:07.99,yin,,0,0,0,, 是怎样访问 cards 来设置它的 \N{\fs12}code, when I haven’t put anything in the cards?
Dialogue: 0,0:28:07.99,0:28:12.80,yin,,0,0,0,,cards 最开始时是 nil 然后当我调用 getter 时 \N{\fs12}Well, cards starts out as nil, and then when I call the getter,
Dialogue: 0,0:28:12.80,0:28:16.22,yin,,0,0,0,, 这里 self.cards 是 getter 这会初始化它 \N{\fs12}self dot cards right here is the getter, it’s going to initialize it
Dialogue: 0,0:28:16.22,0:28:19.08,yin,,0,0,0,, 得到空数组 但数组可变 \N{\fs12}to an empty array, but it’s mutable.
Dialogue: 0,0:28:19.08,0:28:23.90,yin,,0,0,0,, 所以我可以在这里添加对象 哦 抱歉 \N{\fs12}So I can add objects here, Actually, oh I’m sorry.
Dialogue: 0,0:28:23.90,0:28:26.39,yin,,0,0,0,, 这里你是对的 不过这也没问题 \N{\fs12}You’re right about that, yeah, well, this is fine too,
Dialogue: 0,0:28:26.39,0:28:29.91,yin,,0,0,0,, 也许更好的做法是 self.cards\N{\fs12}but maybe a better way to do this is to say self dot cards
Dialogue: 0,0:28:29.91,0:28:33.17,yin,,0,0,0,,addObject:card 这样更清楚一些 \N{\fs12}add object card, because that’s a little clearer.
Dialogue: 0,0:28:33.17,0:28:35.92,yin,,0,0,0,, 也许你是对的 我的做法可能无法工作 \N{\fs12}In fact, you might be right, that wouldn’t have worked.
Dialogue: 0,0:28:35.92,0:28:40.47,yin,,0,0,0,, 这是更好的做法 将纸牌加到牌堆中 \N{\fs12}So, this is a better way to do it, we just add cards to the deck.
Dialogue: 0,0:28:40.47,0:28:41.79,yin,,0,0,0,, 好了吗 \N{\fs12}Make sense?
Dialogue: 0,0:28:41.79,0:28:44.58,yin,,0,0,0,, 抱歉 之前我的那个不怎么好 \N{\fs12}Sorry about that, I had a little different one.
Dialogue: 0,0:28:44.58,0:28:47.26,yin,,0,0,0,, 实际上 我不知道之前那个能否工作 \N{\fs12}And actually I’m not sure if that would work,
Dialogue: 0,0:28:47.26,0:28:49.80,yin,,0,0,0,, 我来想想 你说的是插入对象 \N{\fs12}let me think about that, so you’re saying insert object,
Dialogue: 0,0:28:49.80,0:28:51.44,yin,,0,0,0,, 这可能也能工作 \N{\fs12}yeah, that, actually that probably would work too.
Dialogue: 0,0:28:51.44,0:28:54.24,yin,,0,0,0,, 因为你做的是在某下标处插入对象 \N{\fs12}Because you’d be doing insert object at index, it wouldn’t be,
Dialogue: 0,0:28:54.24,0:28:56.92,yin,,0,0,0,, 这会是在数组最后 这也许也能行 \N{\fs12}you know, it would be just at the end of the array, that would probably work too.
Dialogue: 0,0:28:56.92,0:28:58.22,yin,,0,0,0,, 两种方式都行 \N{\fs12}So you could do it either way.
Dialogue: 0,0:28:58.22,0:29:01.62,yin,,0,0,0,, 因为 self.cards[i] 这里的下标 i\N{\fs12}Because self dot cards sub i, that sub i thing,
Dialogue: 0,0:29:01.62,0:29:03.96,yin,,0,0,0,, 调用的是一个方法 insertObject\N{\fs12}it’s really just calling a method, insert object
Dialogue: 0,0:29:03.96,0:29:06.30,yin,,0,0,0,,atIndex 在特定下标处插入 \N{\fs12}at substring index, that’s what the method is calling.
Dialogue: 0,0:29:06.30,0:29:09.30,yin,,0,0,0,, 你可以参考说明文档 看这里调用的方法名称 \N{\fs12}You can look at the documentation to see the name the method is calling there,
Dialogue: 0,0:29:09.30,0:29:13.27,yin,,0,0,0,, 如果是在数组最后的下标处插入对象 我想这能行 \N{\fs12}but if you insert object at index and it’s at the end of the array, I believe that’ll work.
Dialogue: 0,0:29:13.27,0:29:16.64,yin,,0,0,0,, 但如果是在下标 500 处 这也许就行不通了 \N{\fs12}But if you do it at 500, that’s not going to work.
Dialogue: 0,0:29:16.64,0:29:19.58,yin,,0,0,0,, 因为数组只能逐渐增长 我这么认为 \N{\fs12}Because it can only grow the array as you go, I believe.
Dialogue: 0,0:29:19.58,0:29:20.70,yin,,0,0,0,, 请讲 \N{\fs12}Question?
Dialogue: 0,0:29:23.17,0:29:25.25,yin,,0,0,0,, 问题是 能否将不同类型的对象 \N{\fs12}So the question is can I put different kinds of objects
Dialogue: 0,0:29:25.25,0:29:27.53,yin,,0,0,0,, 加到相同数组中 答案是当然可以 \N{\fs12}in the same array and the answer is absolutely.
Dialogue: 0,0:29:27.53,0:29:30.38,yin,,0,0,0,, 我们有时确实也会这样做 \N{\fs12}You can and we do, occasionally, and we’ll talk
Dialogue: 0,0:29:30.38,0:29:32.49,yin,,0,0,0,, 周三我会讲到如何处理这个 \N{\fs12}about on Wednesday how you deal with that.
Dialogue: 0,0:29:32.49,0:29:34.41,yin,,0,0,0,, 考虑该如何处理 \N{\fs12}Right? How, how we manage the fact
Dialogue: 0,0:29:34.41,0:29:35.98,yin,,0,0,0,, 不同类型的对象在这里 \N{\fs12}that we have different kinds of objects in there,
Dialogue: 0,0:29:35.98,0:29:38.39,yin,,0,0,0,, 你讲得没错 这完全合法 \N{\fs12}but yes, absolutely, perfectly legal.
Dialogue: 0,0:29:39.73,0:29:41.16,yin,,0,0,0,, 好 这是这个 \N{\fs12}Alright. So there’s that.
Dialogue: 0,0:29:41.16,0:29:45.85,yin,,0,0,0,, 我说过 我们还可以在最开始这里说 \N{\fs12}And, again, as I said, we could probably say at the beginning here,
Dialogue: 0,0:29:45.86,0:29:47.45,yin,,0,0,0,,if (self)\N{\fs12}if self,
Dialogue: 0,0:29:47.45,0:29:51.67,yin,,0,0,0,, 我们还可以有 if count <2\N{\fs12}we could also have an if count is less than two, right?
Dialogue: 0,0:29:51.67,0:29:55.51,yin,,0,0,0,, 这时返回 nil 我们也可以检验这个 \N{\fs12}Then return nil, we could do that, check that, as well.
Dialogue: 0,0:29:56.97,0:29:59.20,yin,,0,0,0,, 好 我们再来看一些别的方法 \N{\fs12}Okay, let’s do some of our other methods here.
Dialogue: 0,0:29:59.20,0:30:01.05,yin,,0,0,0,, 来看 chooseCardAtIndex\N{\fs12}How about choose card at index.
Dialogue: 0,0:30:01.05,0:30:03.41,yin,,0,0,0,, 我们先来看 cardAtIndex 吧 \N{\fs12}Actually let’s do card at index.
Dialogue: 0,0:30:03.41,0:30:05.23,yin,,0,0,0,, 因为 cardAtIndex 超级简单 \N{\fs12}Because card at index is super easy.
Dialogue: 0,0:30:05.23,0:30:08.81,yin,,0,0,0,, 这里是 Card * 注意当我键入时 \N{\fs12}Right? This is card star, and notice if I start to type here,
Dialogue: 0,0:30:08.81,0:30:10.96,yin,,0,0,0,, 它知道这是 cardAtIndex\N{\fs12}it knows that its card index
Dialogue: 0,0:30:10.97,0:30:14.26,yin,,0,0,0,, 它会自动补全 点 Tab 键就行了 \N{\fs12}so it’s going complete that, I press tab to get there,
Dialogue: 0,0:30:14.26,0:30:18.10,yin,,0,0,0,, 这个只是返回 self.cards[index]\N{\fs12}and this one it just returns self dot cards sub index.
Dialogue: 0,0:30:18.10,0:30:21.09,yin,,0,0,0,, 但是 你知道 这是一个公共方法 \N{\fs12}But, you know, this is a public method.
Dialogue: 0,0:30:21.09,0:30:24.19,yin,,0,0,0,, 如果有人传递了糟糕的 index 怎么办 \N{\fs12}What happens if someone passes a bad index there?
Dialogue: 0,0:30:24.19,0:30:26.71,yin,,0,0,0,, 例如大于 count 的 index\N{\fs12}An index that’s greater than the count.
Dialogue: 0,0:30:26.71,0:30:29.15,yin,,0,0,0,, 我们这里会崩溃掉吗 \N{\fs12}Are we just going to go ahead and crash here?
Dialogue: 0,0:30:29.15,0:30:33.56,yin,,0,0,0,, 有些人认为这很好 因为能够帮我们找 bug\N{\fs12}One could argue that might be good, because we’ll help find the bug.
Dialogue: 0,0:30:33.56,0:30:36.15,yin,,0,0,0,, 显然 这里有某种 assertion 会更好 \N{\fs12}Certainly some kind of assertion in here would be good,
Dialogue: 0,0:30:36.15,0:30:37.65,yin,,0,0,0,, 我以后会讲到这个 \N{\fs12}we’ll talk about that later,
Dialogue: 0,0:30:37.65,0:30:43.14,yin,,0,0,0,, 不过这里我将加一些保护 也就是 \N{\fs12}but I’m actually just going to protect myself against it by saying if self,
Dialogue: 0,0:30:43.14,0:30:48.19,yin,,0,0,0,, 如果这个 index 小于 self.cards count\N{\fs12}if this index is less than self dot cards count,
Dialogue: 0,0:30:48.19,0:30:50.04,yin,,0,0,0,, 我就返回 \N{\fs12}then I’ll return.
Dialogue: 0,0:30:50.04,0:30:53.02,yin,,0,0,0,, 否则… 噢 \N{\fs12}Otherwise, oops,
Dialogue: 0,0:30:53.04,0:30:57.72,yin,,0,0,0,,if… 我还是用传统的? 方式吧 \N{\fs12}if, actually we’ll do it this way, use the old question mark.
Dialogue: 0,0:30:57.72,0:31:00.78,yin,,0,0,0,, 有些人曾问过这个 \N{\fs12}Some people were asking about this.
Dialogue: 0,0:31:00.78,0:31:02.93,yin,,0,0,0,, 返回 问号 nil\N{\fs12}Return question mark nil,
Dialogue: 0,0:31:02.93,0:31:06.12,yin,,0,0,0,, 大家都知道这种问号冒号 C 语言做法吗 \N{\fs12}everyone know this question mark colon c thing,
Dialogue: 0,0:31:06.12,0:31:10.33,yin,,0,0,0,, 这完全是非对象的 C 语言做法 对吧 \N{\fs12}this is totally a c thing, nonobjective c thing, alright?
Dialogue: 0,0:31:10.33,0:31:11.95,yin,,0,0,0,, 就像 if then 一样 \N{\fs12}Just like an if then.
Dialogue: 0,0:31:11.95,0:31:12.94,yin,,0,0,0,, 有问题 \N{\fs12}Yeah, question?
Dialogue: 0,0:31:12.94,0:31:17.51,yin,,0,0,0,, 学生：[声音不清] 带有这些方法的数组访问 \N{\fs12}> So [inaudible], how does array access with these methods
Dialogue: 0,0:31:17.51,0:31:21.30,yin,,0,0,0,, 如何让可变数组在没有保护下工作 \N{\fs12}for the MutableArray to work without that index, if you, or without the guard,
Dialogue: 0,0:31:21.30,0:31:24.01,yin,,0,0,0,, 要是传递一个大的下标 它不会崩溃吗 \N{\fs12}if you pass the large index, would it necessarily crash or would?
Dialogue: 0,0:31:24.01,0:31:25.75,yin,,0,0,0,, 老师：好 问题是 \N{\fs12}> Yeah. So the question is,
Dialogue: 0,0:31:25.75,0:31:29.37,yin,,0,0,0,, 如果这里传递太大的下标 是否会崩溃 \N{\fs12}what if I pass too large an index here, would this crash?
Dialogue: 0,0:31:29.37,0:31:31.89,yin,,0,0,0,, 它会 而且异常将是数组下标越界 \N{\fs12}And it would, and what would happen is it would crash
Dialogue: 0,0:31:31.89,0:31:34.37,yin,,0,0,0,, 它会 而且异常将是数组下标越界 \N{\fs12}with the exception array index out of bounds.
Dialogue: 0,0:31:35.96,0:31:37.48,yin,,0,0,0,, 不 不 它会崩溃 \N{\fs12}No, no, it would crash, it,
Dialogue: 0,0:31:37.48,0:31:39.72,yin,,0,0,0,, 它会引发数组下标越界异常 \N{\fs12}raise an exception, array index out of bounds.
Dialogue: 0,0:31:39.72,0:31:41.91,yin,,0,0,0,,NSArray 类会引发这一异常 \N{\fs12}NSArray class would raise that exception,
Dialogue: 0,0:31:41.91,0:31:44.53,yin,,0,0,0,, 我们会谈到异常引发机制的 \N{\fs12}and we’ll talk about raising exceptions.
Dialogue: 0,0:31:44.53,0:31:47.85,yin,,0,0,0,, 现在 直到周五考虑调试之前 \N{\fs12}For now, until you go to this debugging thing, maybe on Friday,
Dialogue: 0,0:31:47.87,0:31:51.98,yin,,0,0,0,, 你将只会看到异常出现在控制台中 \N{\fs12}for now, you’re just going to see exceptions like that happen on your console,
Dialogue: 0,0:31:51.98,0:31:55.29,yin,,0,0,0,, 它甚至不会停在异常发生的地方 这很不幸 \N{\fs12}it’s not even going to stop where the exception happened, which is unfortunate,
Dialogue: 0,0:31:55.29,0:31:58.39,yin,,0,0,0,, 不过讲调试时 我会讲到如何让它停止 \N{\fs12}but that debugging session, we’ll talk about how to make it stop there,
Dialogue: 0,0:31:58.39,0:32:01.18,yin,,0,0,0,, 不过这就是会发生的情况 会引发异常 \N{\fs12}but that’s what’s going to happen, it’s going to raise an exception.
Dialogue: 0,0:32:01.18,0:32:04.23,yin,,0,0,0,, 这是 cardAtIndex 非常非常简单 \N{\fs12}So that’s card at index, really, really easy.
Dialogue: 0,0:32:04.23,0:32:07.82,yin,,0,0,0,, 下面再看另一个 即 chooseCardAtIndex\N{\fs12}And now let’s talk about this other one, choose card at index.
Dialogue: 0,0:32:07.82,0:32:10.19,yin,,0,0,0,, 这是我们逻辑的核心 \N{\fs12}This is really the heart of our logic.
Dialogue: 0,0:32:10.19,0:32:11.87,yin,,0,0,0,, 因为这里是选牌的地方 \N{\fs12}Because here’s where you’re choosing the cards,
Dialogue: 0,0:32:11.87,0:32:15.14,yin,,0,0,0,, 这是匹配和得分实际发生的地方 \N{\fs12}here’s where the matching actually has to happen, in the scoring.
Dialogue: 0,0:32:15.14,0:32:19.02,yin,,0,0,0,, 所以我们的整个逻辑都将发生在这个方法中 \N{\fs12}So this is basically our entire logic is going to be in this method.
Dialogue: 0,0:32:19.02,0:32:20.67,yin,,0,0,0,, 这里需要什么呢 \N{\fs12}So what do we need here?
Dialogue: 0,0:32:20.67,0:32:22.36,yin,,0,0,0,, 玩家会选一张牌 \N{\fs12}Well, they’re choosing a card,
Dialogue: 0,0:32:22.36,0:32:24.62,yin,,0,0,0,, 让我们获得玩家所选的牌 \N{\fs12}so let’s get the card they chose, and I’m going
Dialogue: 0,0:32:24.62,0:32:30.70,yin,,0,0,0,, 我将调用 self cardAtIndex 来获得这张牌 \N{\fs12}to call self card at index, to get that card.
Dialogue: 0,0:32:30.70,0:32:36.08,yin,,0,0,0,, 这样我就有了玩家所选的这张牌 \N{\fs12}Okay, so now I have the card that they, they’re choosing here.
Dialogue: 0,0:32:36.08,0:32:40.50,yin,,0,0,0,, 如果玩家所选的牌已经同另一张牌相匹配 \N{\fs12}Now, if a card that they chose has already been matched against another card,
Dialogue: 0,0:32:40.50,0:32:41.91,yin,,0,0,0,, 这里就什么都不用做 \N{\fs12}then I’m going to do nothing here.
Dialogue: 0,0:32:41.91,0:32:45.45,yin,,0,0,0,, 当玩家去选已经匹配过的牌时 我将忽略玩家的行为 \N{\fs12}I’m going to ignore when you try to choose a card that’s already been matched,
Dialogue: 0,0:32:45.45,0:32:47.22,yin,,0,0,0,, 当玩家去选已经匹配过的牌时 我将忽略玩家的行为 \N{\fs12}successfully matched with another card,
Dialogue: 0,0:32:47.22,0:32:49.81,yin,,0,0,0,, 这里我要的是 \N{\fs12}so I’m just going to say here,
Dialogue: 0,0:32:49.82,0:32:55.74,yin,,0,0,0,,if (card.isMatched)\N{\fs12}if card is matched,
Dialogue: 0,0:32:55.74,0:32:59.85,yin,,0,0,0,, 我要说的应该是 if (!card.isMatched)\N{\fs12}and actually I’ll just say if not card matched,
Dialogue: 0,0:32:59.85,0:33:02.53,yin,,0,0,0,, 我们会做点什么 否则我们什么都不做 \N{\fs12}we’ll do something, otherwise we’ll just do nothing.
Dialogue: 0,0:33:02.53,0:33:07.62,yin,,0,0,0,, 只在你选的牌没有已经匹配过时 \N{\fs12}So I’m only going to match these cards if, or only going
Dialogue: 0,0:33:07.62,0:33:12.88,yin,,0,0,0,, 我们才会尝试去匹配两张你选的牌 \N{\fs12}to try and match two chosen cards if the card you just chose is not already matched.
Dialogue: 0,0:33:12.88,0:33:15.31,yin,,0,0,0,, 大家都明白了为什么要这样做吗 \N{\fs12}Does that make sense? Does everyone see why we do that?
Dialogue: 0,0:33:15.31,0:33:18.13,yin,,0,0,0,, 已经匹配过的 就不能再同别的牌匹配了 \N{\fs12}It’s already matched, you can’t match it against another one.
Dialogue: 0,0:33:18.13,0:33:22.63,yin,,0,0,0,, 然后的问题是 如果纸牌已经被选 \N{\fs12}So now the question is if the card is already chosen,
Dialogue: 0,0:33:22.63,0:33:24.64,yin,,0,0,0,, 那我将怎么做呢 \N{\fs12}then what am I going to do?
Dialogue: 0,0:33:24.64,0:33:27.76,yin,,0,0,0,, 这时我将把纸牌翻回去 取消选择 \N{\fs12}Then I’m actually going to flip the card back over, un-choose it,
Dialogue: 0,0:33:27.76,0:33:33.51,yin,,0,0,0,, 所以这里我说 card.chosen = NO\N{\fs12}so I’m going to say card dot is, dot chosen, rather, equals no.
Dialogue: 0,0:33:33.51,0:33:35.95,yin,,0,0,0,, 如果选择了已经选过的牌 \N{\fs12}So if you’d pick the card that’s already chosen
Dialogue: 0,0:33:35.95,0:33:38.87,yin,,0,0,0,, 两次选择 等于取消选择 \N{\fs12}and you choose it again, it’s going to un-choose it.
Dialogue: 0,0:33:38.87,0:33:40.16,yin,,0,0,0,, 这是一种开关 \N{\fs12}So it’s kind of a toggle.
Dialogue: 0,0:33:40.16,0:33:42.67,yin,,0,0,0,, 选牌是在选择和未选择之间来回切换 \N{\fs12}Choosing a card is kind of a toggle thing, on and off.
Dialogue: 0,0:33:42.67,0:33:44.95,yin,,0,0,0,, 注意我们有 getter isChosen\N{\fs12}Notice that we have the getter is chosen,
Dialogue: 0,0:33:44.95,0:33:46.72,yin,,0,0,0,, 记得吧 我们在头文件中改名过 \N{\fs12}remember we renamed it in our header file,
Dialogue: 0,0:33:46.72,0:33:48.46,yin,,0,0,0,, 通过 getter = isChosen\N{\fs12}with that getter equals is chosen,
Dialogue: 0,0:33:48.46,0:33:52.13,yin,,0,0,0,, 但 setter 不用 isChosen\N{\fs12}but the setter, okay, we don’t use the is chosen.
Dialogue: 0,0:33:52.13,0:33:56.00,yin,,0,0,0,,setter 仍然是 chosen chosen 是属性名 \N{\fs12}The setter is still chosen. Chosen is the name of the property.
Dialogue: 0,0:33:56.00,0:33:57.78,yin,,0,0,0,, 大家都记得吗 \N{\fs12}Everyone remember that?
Dialogue: 0,0:33:57.78,0:34:00.59,yin,,0,0,0,, 来自 Card 你们需要键入这个 所以请记住 \N{\fs12}From card, hopefully, you had to type it in so remember it.
Dialogue: 0,0:34:00.59,0:34:03.02,yin,,0,0,0,, 否则 我们到这里 \N{\fs12}So otherwise we’re in here
Dialogue: 0,0:34:03.02,0:34:05.60,yin,,0,0,0,, 这种情况下 我们选择了一张新纸牌 \N{\fs12}and in this case, we’re choosing a new card and we need
Dialogue: 0,0:34:05.60,0:34:09.43,yin,,0,0,0,, 我们需要将它同其它纸牌进行匹配 \N{\fs12}to match it against other card.
Dialogue: 0,0:34:09.43,0:34:12.67,yin,,0,0,0,, 这里写 另一张牌 \N{\fs12}Let’s say another card.
Dialogue: 0,0:34:12.67,0:34:15.85,yin,,0,0,0,, 我们的匹配游戏只匹配两张牌 \N{\fs12}Now our matching game only matches two cards.
Dialogue: 0,0:34:15.85,0:34:19.46,yin,,0,0,0,, 你们的作业中 需要扩展到匹配三张牌 \N{\fs12}In your homework, you have to extend this game to match it to three cards.
Dialogue: 0,0:34:19.46,0:34:21.31,yin,,0,0,0,, 这是你们作业的一部分 \N{\fs12}That’s going to be part of your homework assignment,
Dialogue: 0,0:34:21.31,0:34:23.47,yin,,0,0,0,, 但这里 我们只匹配另一张牌 \N{\fs12}but here we’re only going to match one other card.
Dialogue: 0,0:34:23.47,0:34:28.78,yin,,0,0,0,, 所以 这里我只需要检查纸牌数组中的所有其它牌 \N{\fs12}So all I need to do here is look through all the other cards in my cards array up here,
Dialogue: 0,0:34:28.78,0:34:30.48,yin,,0,0,0,, 在这个内部数据结构中 \N{\fs12}alright, this is my internal data structure.
Dialogue: 0,0:34:30.48,0:34:34.14,yin,,0,0,0,, 我只需要检查所有这些 看看 \N{\fs12}I just need to look through them all and find, and go and see
Dialogue: 0,0:34:34.14,0:34:38.74,yin,,0,0,0,, 有没有另一张牌被选了 但没有匹配的 \N{\fs12}if there’s another card that is chosen and not matched.
Dialogue: 0,0:34:38.74,0:34:42.38,yin,,0,0,0,, 如果有 我将把它同刚选择的这张匹配起来 \N{\fs12}And if it is, I’m going to try to match it against this card that was just chosen.
Dialogue: 0,0:34:42.38,0:34:44.69,yin,,0,0,0,, 我将搜索所有的牌 \N{\fs12}So to search, I’m just going to go through my cards,
Dialogue: 0,0:34:44.69,0:34:48.84,yin,,0,0,0,,for (Card *otherCard in self.cards)\N{\fs12}for card other card, in self dot cards.
Dialogue: 0,0:34:48.84,0:34:50.36,yin,,0,0,0,, 遍历所有其它牌 \N{\fs12}And we go through all the other cards,
Dialogue: 0,0:34:50.36,0:34:59.01,yin,,0,0,0,, 如果能找到另一张牌 已经被选 而且没被匹配 \N{\fs12}and if I can find an other card that is chosen and is not matched,
Dialogue: 0,0:34:59.01,0:35:00.78,yin,,0,0,0,, 那就中了 \N{\fs12}then bingo!
Dialogue: 0,0:35:00.78,0:35:02.45,yin,,0,0,0,, 我找到了另一张牌匹配上 \N{\fs12}I found another card to try and match.
Dialogue: 0,0:35:02.45,0:35:04.62,yin,,0,0,0,, 这里只能有另外一张 \N{\fs12}Now, there can only be one other one,
Dialogue: 0,0:35:04.62,0:35:06.78,yin,,0,0,0,, 因为我总是只考虑两张牌的匹配 \N{\fs12}because I only do two card matches and I’m always looking
Dialogue: 0,0:35:06.78,0:35:09.05,yin,,0,0,0,, 我只检查第二张牌 如果不匹配 \N{\fs12}for that second match, so, if it doesn’t match,
Dialogue: 0,0:35:09.05,0:35:11.18,yin,,0,0,0,, 我将把它翻回去 取消选择它 \N{\fs12}I’m going to flip that, un-choose that other one anyway.
Dialogue: 0,0:35:11.18,0:35:12.92,yin,,0,0,0,, 这里我准备好了 \N{\fs12}So, I’m ready to go here,
Dialogue: 0,0:35:12.92,0:35:16.05,yin,,0,0,0,, 这里只用找到另外一张能进行匹配的牌 \N{\fs12}I basically found the only other possible card that can match.
Dialogue: 0,0:35:16.05,0:35:19.21,yin,,0,0,0,, 这里如果你要做三张或 n 张牌的匹配 \N{\fs12}Now, again, when you do a three card match or an n-card match,
Dialogue: 0,0:35:19.21,0:35:22.83,yin,,0,0,0,, 作业中考虑 n 张牌可能会是一个好主意 \N{\fs12}if you so choose in your homework, which might be a good idea,
Dialogue: 0,0:35:22.83,0:35:24.54,yin,,0,0,0,, 你会找到多张牌 \N{\fs12}you might find a number of cards here.
Dialogue: 0,0:35:24.54,0:35:26.92,yin,,0,0,0,, 你可能需要用数组这些来收集 \N{\fs12}You might have to collect them somehow in array or something
Dialogue: 0,0:35:26.92,0:35:29.57,yin,,0,0,0,, 这样你就能将它们进行匹配 但这里 \N{\fs12}so you can match them against each other, but here,
Dialogue: 0,0:35:29.57,0:35:31.62,yin,,0,0,0,, 我不需要担心这些 \N{\fs12}I don’t have to worry about that.
Dialogue: 0,0:35:31.62,0:35:34.71,yin,,0,0,0,, 找到了另外这张已经选择的牌 我们来进行匹配 \N{\fs12}So I found this other card that’s also chosen, let’s match them.
Dialogue: 0,0:35:34.71,0:35:37.75,yin,,0,0,0,, 通过代码 matchScore =\N{\fs12}And I’m going to do that by saying match score equals
Dialogue: 0,0:35:37.75,0:35:43.53,yin,,0,0,0,, 上面这里玩家所选的牌 card\N{\fs12}the card that we chose up here, right? This is the one that the user is choosing.
Dialogue: 0,0:35:43.53,0:35:48.01,yin,,0,0,0,,match: 记得吧 这是 Card 中匹配两张牌的方法 \N{\fs12}Match colon, remember that’s our method in card that matches two cards.
Dialogue: 0,0:35:48.01,0:35:51.31,yin,,0,0,0,, 它的参数是一个数组 \N{\fs12}It takes an array though, an array,
Dialogue: 0,0:35:51.31,0:35:56.41,yin,,0,0,0,, 我将现场创建一个数组 将另一张牌放入其中 \N{\fs12}so I’m going to have make an array on the fly and put the other card in it.
Dialogue: 0,0:35:56.41,0:35:59.43,yin,,0,0,0,, 大家都明白这行代码吗 \N{\fs12}Everyone understand this line of code?
Dialogue: 0,0:35:59.43,0:36:05.76,yin,,0,0,0,, 我在用 Card 中 match 方法将这张牌同这张牌进行匹配 \N{\fs12}I’m matching this card against this card using the match method in card.
Dialogue: 0,0:36:05.76,0:36:08.76,yin,,0,0,0,, 但我需要现场创建这样一个数组 \N{\fs12}But I had to create this little array on the fly
Dialogue: 0,0:36:08.76,0:36:12.41,yin,,0,0,0,, 因为 match 实际能够匹配多张牌 这很好 \N{\fs12}because match is actually capable of matching multiple cards, which is good
Dialogue: 0,0:36:12.41,0:36:14.32,yin,,0,0,0,, 因为你们的作业中需要这个 \N{\fs12}because your homework’s going to require that.
Dialogue: 0,0:36:14.32,0:36:17.12,yin,,0,0,0,, 但这里我只用考虑一个 所以这里 \N{\fs12}But here I’m only doing one, so I just create this little,
Dialogue: 0,0:36:17.12,0:36:21.05,yin,,0,0,0,, 只需要一个蓝色 @[] 来创建数组 \N{\fs12}blue at sign square brackets thing to create an array.
Dialogue: 0,0:36:21.05,0:36:22.76,yin,,0,0,0,, 这里有了这个 match\N{\fs12}So now I’ve got this match.
Dialogue: 0,0:36:22.76,0:36:26.58,yin,,0,0,0,, 我们定义过 match 的语义 \N{\fs12}Now, we’ve defined match, kind of the semantics of match,
Dialogue: 0,0:36:26.58,0:36:30.71,yin,,0,0,0,, 如果返回的是非 0 那就有了某种匹配 \N{\fs12}are that if it returns non-zero, then there was a match of some sort.
Dialogue: 0,0:36:30.71,0:36:33.22,yin,,0,0,0,, 如果返回 0 就没有匹配上 \N{\fs12}If it returns zero, no match.
Dialogue: 0,0:36:33.22,0:36:35.78,yin,,0,0,0,, 这就是 match: 的意义 \N{\fs12}That’s what match colon means.
Dialogue: 0,0:36:35.78,0:36:40.20,yin,,0,0,0,, 这就是我们对模型语义的定义 \N{\fs12}Okay, that’s what we just defined it that way in the semantics of our model.
Dialogue: 0,0:36:40.20,0:36:42.88,yin,,0,0,0,, 也许在 Card.h 中应该加一小段注释 \N{\fs12}Probably we should have put a comment in our card dot h
Dialogue: 0,0:36:42.88,0:36:45.59,yin,,0,0,0,, 说 match: 如果没有匹配返回 0\N{\fs12}that says match colon, return zero if no match,
Dialogue: 0,0:36:45.59,0:36:48.08,yin,,0,0,0,, 否则考虑匹配有多好 \N{\fs12}otherwise, how good a match it is basically.
Dialogue: 0,0:36:48.08,0:36:52.16,yin,,0,0,0,, 如果匹配得很好 match 会返回高分 \N{\fs12}So match should be returning high scores if it’s a really good match
Dialogue: 0,0:36:52.16,0:36:54.62,yin,,0,0,0,, 如果匹配不好 则会返回低分 \N{\fs12}and a lower score if it’s not so good a match.
Dialogue: 0,0:36:54.62,0:36:57.50,yin,,0,0,0,, 这就是它的语义 \N{\fs12}You know, that’s kind of the semantics of it.
Dialogue: 0,0:36:57.50,0:37:03.18,yin,,0,0,0,, 匹配上或没匹配上应该怎样呢 \N{\fs12}Alright, so, what if it is a match or it’s not a match.
Dialogue: 0,0:37:03.18,0:37:06.10,yin,,0,0,0,, 这两种情况我们都需要处理 \N{\fs12}We have to deal with both of those cases.
Dialogue: 0,0:37:06.10,0:37:11.57,yin,,0,0,0,, 在匹配上的情况下 我们将给自己分数 \N{\fs12}Alright, so in the case that it is a match, then let’s give ourselves that score.
Dialogue: 0,0:37:14.15,0:37:18.14,yin,,0,0,0,, 而且两张牌都匹配上了 我们将它们标记为已匹配 \N{\fs12}And, both these cards matched, so let’s mark them both as matched,
Dialogue: 0,0:37:18.14,0:37:21.50,yin,,0,0,0,, 所以这里说 card.matched = YES\N{\fs12}so we’re going to say card dot matched equals yes,
Dialogue: 0,0:37:21.50,0:37:25.68,yin,,0,0,0,, 而且另一张牌 otherCard.matched = YES\N{\fs12}and the other card dot matched equals yes.
Dialogue: 0,0:37:25.68,0:37:28.13,yin,,0,0,0,, 它们匹配上了 \N{\fs12}Alright? So they’re matched,
Dialogue: 0,0:37:28.13,0:37:30.10,yin,,0,0,0,, 它们使命完成 我们得到一些分 \N{\fs12}they’re out of the game, we got some points.
Dialogue: 0,0:37:30.10,0:37:31.75,yin,,0,0,0,, 如果没匹配上呢 \N{\fs12}Now what if they don’t match, well I told you
Dialogue: 0,0:37:31.75,0:37:36.42,yin,,0,0,0,, 我说过 这时我会将选择的另一张牌取消选择 \N{\fs12}if they don’t match, I’m going to turn that other chosen card, I’m going to un-choose it,
Dialogue: 0,0:37:36.42,0:37:41.38,yin,,0,0,0,, 所以这里有 otherCard.chosen = NO\N{\fs12}basically, so I’m going to say other card dot chosen equals no.
Dialogue: 0,0:37:41.38,0:37:47.61,yin,,0,0,0,, 而且 我还想因此罚一些分 \N{\fs12}And also, I think I’m going to impose a penalty for doing this.
Dialogue: 0,0:37:47.61,0:37:52.25,yin,,0,0,0,, 我将从 score 中减一些分 这叫作错匹配罚分 \N{\fs12}I’m going to subtract something from the score, I’m going to call it my mismatched penalty
Dialogue: 0,0:37:52.25,0:37:54.57,yin,,0,0,0,, 我将它设置为一个常量 \N{\fs12}here and I can make a constant.
Dialogue: 0,0:37:54.57,0:37:57.18,yin,,0,0,0,, 我来简单讲一下常量 \N{\fs12}Now, let’s talk a little bit about constants.
Dialogue: 0,0:37:57.18,0:37:58.48,yin,,0,0,0,, 要知道 这是 C\N{\fs12}You know, this is c. Okay?
Dialogue: 0,0:37:58.48,0:38:00.75,yin,,0,0,0,, 你可以按照 C 的方法来处理常量 \N{\fs12}So you’re going to make these constants however you want.
Dialogue: 0,0:38:00.75,0:38:03.72,yin,,0,0,0,, 一种做法是用 #define\N{\fs12}One way to do it is to say pound sign define, right?
Dialogue: 0,0:38:03.72,0:38:07.95,yin,,0,0,0,, 我可以说 #define MISMATCH_PENALTY\N{\fs12}So I could say pound sign define, mismatched penalty.
Dialogue: 0,0:38:09.31,0:38:12.38,yin,,0,0,0,, 我们可以将 MISMATCH_PENALTY 设为 2\N{\fs12}And we can make the mismatched penalty be, you know,
Dialogue: 0,0:38:12.38,0:38:16.25,yin,,0,0,0,, 我们可以将 MISMATCH_PENALTY 设为 2\N{\fs12}the mismatched penalty, what did I decide, I think something like two,
Dialogue: 0,0:38:16.25,0:38:19.02,yin,,0,0,0,, 如果错匹配 我将罚掉 2 分 \N{\fs12}so I’m going to take away two points if you mismatch,
Dialogue: 0,0:38:19.02,0:38:21.48,yin,,0,0,0,, 这是一种做法 \N{\fs12}so that’s one way to do it.
Dialogue: 0,0:38:21.48,0:38:24.81,yin,,0,0,0,, 另一种处理常量的方式是用 const\N{\fs12}Another way to do constants is const,
Dialogue: 0,0:38:24.81,0:38:26.45,yin,,0,0,0,, 这里可以是 static const\N{\fs12}okay, its static const even.
Dialogue: 0,0:38:26.45,0:38:33.29,yin,,0,0,0,,static const int MISMATCH_PENALTY = 2\N{\fs12}Static const int mismatched penalty, if equals two.
Dialogue: 0,0:38:34.37,0:38:36.61,yin,,0,0,0,, 这是另一种方式 \N{\fs12}So that’s another way to do it.
Dialogue: 0,0:38:36.61,0:38:38.48,yin,,0,0,0,, 你可以随喜好选择 \N{\fs12}This is kind of as you prefer.
Dialogue: 0,0:38:38.48,0:38:41.71,yin,,0,0,0,,static const 的好处在于它们具有类型 \N{\fs12}The nice thing about these static const’s is they’re typed.
Dialogue: 0,0:38:41.71,0:38:45.65,yin,,0,0,0,,#define 没有类型 只是替换 \N{\fs12}Whereas a pound sign define is not typed, it’s just substituting.
Dialogue: 0,0:38:45.65,0:38:49.39,yin,,0,0,0,, 而这里有类型 这在调试器中更好 \N{\fs12}But here you’ve got to type in and you’ll be able to see this in the debugger better.
Dialogue: 0,0:38:49.39,0:38:51.10,yin,,0,0,0,, 因为它有类型 \N{\fs12}Because it’s typed.
Dialogue: 0,0:38:51.10,0:38:52.84,yin,,0,0,0,, 不过你们可以根据喜好来 \N{\fs12}But it’s really kind of your own thing,
Dialogue: 0,0:38:52.84,0:38:55.23,yin,,0,0,0,, 我只想说 不管你选择用哪种 \N{\fs12}I would just say be consistent about what you choose
Dialogue: 0,0:38:55.23,0:39:00.23,yin,,0,0,0,,#define 也好 static const 也好 请保持一致 \N{\fs12}to pound sign define versus what you decide to make a static const.
Dialogue: 0,0:39:00.23,0:39:02.51,yin,,0,0,0,, 用哪种取决于你 \N{\fs12}Totally up to you.
Dialogue: 0,0:39:03.62,0:39:07.65,yin,,0,0,0,, 另外我还要做一件事 如果你匹配上 \N{\fs12}You know, the other thing I’m going to do here is if you match, I actually,
Dialogue: 0,0:39:07.65,0:39:10.92,yin,,0,0,0,, 毕竟这里错匹配会罚 2 分 \N{\fs12}since I’m basically charging you two points if you mismatch,
Dialogue: 0,0:39:10.92,0:39:14.27,yin,,0,0,0,, 如果你匹配上 我会给你很多分 \N{\fs12}if you match I want to give you a lot of points,
Dialogue: 0,0:39:14.27,0:39:18.22,yin,,0,0,0,, 所以我要给你一个匹配红利 \N{\fs12}so I’m actually going to give you a match bonus.
Dialogue: 0,0:39:18.22,0:39:20.59,yin,,0,0,0,,MATCH_BONUS\N{\fs12}Match bonus.
Dialogue: 0,0:39:20.61,0:39:23.92,yin,,0,0,0,, 这将是另外一个常量 \N{\fs12}And this is going to be another constant here.
Dialogue: 0,0:39:23.92,0:39:27.97,yin,,0,0,0,, 放在这里 复制粘贴这个 \N{\fs12}Put this up here, actually let’s copy and paste this over
Dialogue: 0,0:39:27.98,0:39:29.47,yin,,0,0,0,, 把这个贴过来 \N{\fs12}this, paste,
Dialogue: 0,0:39:29.48,0:39:32.27,yin,,0,0,0,, 我将给你匹配分数的四倍 \N{\fs12}and I’m going to give you four times whatever your matching is
Dialogue: 0,0:39:32.27,0:39:33.84,yin,,0,0,0,, 因为这里有罚分 \N{\fs12}because I’m giving you this penalty so I want
Dialogue: 0,0:39:33.84,0:39:36.04,yin,,0,0,0,, 所以匹配上了我要多给点分你 \N{\fs12}to give you a bonus if you actually match.
Dialogue: 0,0:39:36.04,0:39:38.32,yin,,0,0,0,, 不管匹配得分是多少 不管匹配有多少 \N{\fs12}So whatever the match score is, however good a match it is,
Dialogue: 0,0:39:38.32,0:39:41.98,yin,,0,0,0,, 这里得到的分数都会乘以 4\N{\fs12}you’re going to get four times as many points if you match.
Dialogue: 0,0:39:41.98,0:39:45.46,yin,,0,0,0,, 这些东西你们可以自己去倒腾 \N{\fs12}And these are things that you would want to tweak
Dialogue: 0,0:39:45.46,0:39:49.22,yin,,0,0,0,, 也许在你们的作业中 你们想要 \N{\fs12}or maybe, like, possibly in your homework, you might even want
Dialogue: 0,0:39:49.22,0:39:52.96,yin,,0,0,0,, 把这些红利和罚分设置为公共 API\N{\fs12}to make these be public API to set these bonuses and penalties.
Dialogue: 0,0:39:52.96,0:39:54.88,yin,,0,0,0,, 让它们可以被设置 \N{\fs12}Maybe that’s something that wants to be settable,
Dialogue: 0,0:39:54.88,0:39:59.14,yin,,0,0,0,, 为了简便起见 这里我们把它们设为常量 \N{\fs12}but we’re going to make them constants for expediency in our game.
Dialogue: 0,0:39:59.14,0:40:03.00,yin,,0,0,0,, 另外一点是 如果我们找到了这个匹配 \N{\fs12}The other thing we can do here is if we find this match,
Dialogue: 0,0:40:03.00,0:40:07.39,yin,,0,0,0,, 我们就可以从这个 for 循环中跳出来 \N{\fs12}right here, we can break out of this for.
Dialogue: 0,0:40:07.39,0:40:10.35,yin,,0,0,0,, 这是因为这里只需要匹配两张牌 \N{\fs12}And that’s because we’re a two card matching game,
Dialogue: 0,0:40:10.35,0:40:13.58,yin,,0,0,0,, 一旦找到匹配的 这就搞定了 \N{\fs12}once we found a match, we’re, we’re done.
Dialogue: 0,0:40:13.58,0:40:16.81,yin,,0,0,0,, 我们找到另一张已选牌 处理掉它 \N{\fs12}We found another chosen card, we processed it,
Dialogue: 0,0:40:16.81,0:40:19.40,yin,,0,0,0,, 我们不需要再找更多匹配的牌 \N{\fs12}we don’t need to keep looking for more matching cards.
Dialogue: 0,0:40:19.40,0:40:21.62,yin,,0,0,0,, 作业中 当要匹配的数量多于 2 时 \N{\fs12}Again, if you have, matching more than two
Dialogue: 0,0:40:21.62,0:40:25.96,yin,,0,0,0,, 你要将这些牌收集起来 这里就不能跳出 \N{\fs12}and you’re collecting cards, you may not be breaking out of this loop down here.
Dialogue: 0,0:40:25.96,0:40:30.70,yin,,0,0,0,, 这里我还想做一件事 也就是 \N{\fs12}The other thing I wanted to do here is
Dialogue: 0,0:40:30.70,0:40:35.90,yin,,0,0,0,, 如果你选择了一张牌 并让它正面朝上 \N{\fs12}if you are choosing the card and flipping it face up,
Dialogue: 0,0:40:35.90,0:40:39.27,yin,,0,0,0,, 我要让它消耗一些东西 \N{\fs12}I want to make it cost something.
Dialogue: 0,0:40:39.27,0:40:44.12,yin,,0,0,0,, 这里我要设置一些选择成本 \N{\fs12}So I’m actually going to give, make a cost to choose,
Dialogue: 0,0:40:44.12,0:40:46.49,yin,,0,0,0,, 这里设为 1 分 \N{\fs12}and I’m going to make it be one point.
Dialogue: 0,0:40:46.49,0:40:50.70,yin,,0,0,0,, 这是因为我不想让你 \N{\fs12}Okay, that’s because I don’t want you to be able to just,
Dialogue: 0,0:40:50.70,0:40:53.73,yin,,0,0,0,, 没有成本地来回来回翻牌 \N{\fs12}you know, flip the card over, flip it back down, flip the card over, flip it back down,
Dialogue: 0,0:40:53.73,0:40:57.02,yin,,0,0,0,, 最终记住所有牌 再翻过来让它们都匹配上 \N{\fs12}you’d eventually memorize all the cards and then flip them up and get all your matches.
Dialogue: 0,0:40:57.02,0:40:58.66,yin,,0,0,0,, 这会有一些花销 \N{\fs12}So it costs you a little bit.
Dialogue: 0,0:40:58.66,0:41:02.68,yin,,0,0,0,, 忘记牌的话 你需要重新翻开 这会花掉一些分 \N{\fs12}If you forget a card and you flip it again, it’s going to cost you just a little bit.
Dialogue: 0,0:41:02.68,0:41:05.36,yin,,0,0,0,, 没有错误匹配扣分多 但还是会扣一些分 \N{\fs12}Not as bad as mismatching, but it’s going to cost you a little.
Dialogue: 0,0:41:05.36,0:41:06.14,yin,,0,0,0,, 有问题 \N{\fs12}Question?
Dialogue: 0,0:41:10.49,0:41:12.09,yin,,0,0,0,, 对 你是对的 \N{\fs12}Oh yeah, you’re right.
Dialogue: 0,0:41:12.09,0:41:15.27,yin,,0,0,0,, 很好 我还得依赖你们提醒我哪里有错 \N{\fs12}Good call. See now I rely on all of you to make sure I don’t make mistakes
Dialogue: 0,0:41:15.27,0:41:16.24,yin,,0,0,0,, 没错 \N{\fs12}like that, so yeah, absolutely.
Dialogue: 0,0:41:16.24,0:41:17.92,yin,,0,0,0,, 这个 break 需要在这个 if 内 \N{\fs12}This break needs to be inside this if
Dialogue: 0,0:41:17.92,0:41:22.37,yin,,0,0,0,, 因为当我们找到另一张牌时 我们会跳出这个 for\N{\fs12}because we only break out of this for when we find another card.
Dialogue: 0,0:41:22.37,0:41:23.96,yin,,0,0,0,, 提得很好 \N{\fs12}Good, good call.
Dialogue: 0,0:41:24.72,0:41:29.78,yin,,0,0,0,, 最后当然是 我想要把这张牌标记为已选 \N{\fs12}The last thing, of course, is I want to mark this card as chosen.
Dialogue: 0,0:41:29.78,0:41:33.20,yin,,0,0,0,, 抱歉这里用的是大写 \N{\fs12}And sorry for the caps there.
Dialogue: 0,0:41:33.20,0:41:37.41,yin,,0,0,0,, 这张牌 噢 不是 isChosen 而是 chosen\N{\fs12}This card, woops, not is chosen, chosen,
Dialogue: 0,0:41:37.41,0:41:40.68,yin,,0,0,0,, 在做了所有这些之后 这张牌是已选的 \N{\fs12}this card is chosen after we’ve done all of this thing.
Dialogue: 0,0:41:40.68,0:41:44.71,yin,,0,0,0,, 无论如何它都被选了 它是新的已选牌 \N{\fs12}In any case, it’s going to be chosen, it’s going to be the new chosen card.
Dialogue: 0,0:41:44.71,0:41:49.51,yin,,0,0,0,, 它也可能已经被匹配 但它至少是已选的 \N{\fs12}It might also be matched, but it’s also chosen.
Dialogue: 0,0:41:49.51,0:41:51.79,yin,,0,0,0,, 这就完了 \N{\fs12}So, that’s it.
Dialogue: 0,0:41:51.79,0:41:54.89,yin,,0,0,0,, 这就是纸牌匹配游戏的整个逻辑 \N{\fs12}That’s the entire logic of my card matching game.
Dialogue: 0,0:41:54.89,0:41:58.14,yin,,0,0,0,, 很简单 有点过度简化了 \N{\fs12}It’s pretty simple, it’s kind of in a way ultra-simplified.
Dialogue: 0,0:41:58.14,0:42:01.30,yin,,0,0,0,, 你们可以想象复杂很多的情况 \N{\fs12}You can imagine much more complicated things, but,
Dialogue: 0,0:42:01.30,0:42:04.22,yin,,0,0,0,, 不过这里我是现场编程 \N{\fs12}you know, I’m doing this on the fly here and we only have,
Dialogue: 0,0:42:04.22,0:42:07.40,yin,,0,0,0,, 要知道 一堂课只有 1 小时 15 分钟左右 \N{\fs12}you know, an hour and 15 for, for lecture, so,
Dialogue: 0,0:42:07.40,0:42:09.36,yin,,0,0,0,, 我故意弄得简单一些 \N{\fs12}I’ve kept it kind of intentionally simple,
Dialogue: 0,0:42:09.36,0:42:13.70,yin,,0,0,0,, 不过我主要想让你们理解的是 这里没有 UI\N{\fs12}but the main point I want you to understand from this logic is it has no UI in it.
Dialogue: 0,0:42:13.70,0:42:16.87,yin,,0,0,0,, 这里只是处理纸牌 设置它们 \N{\fs12}Right? It’s purely just dealing with the cards and setting them
Dialogue: 0,0:42:16.87,0:42:19.00,yin,,0,0,0,, 是否被匹配 是否被选 \N{\fs12}to be matched or not, whether they’re chosen or not,
Dialogue: 0,0:42:19.00,0:42:22.55,yin,,0,0,0,, 取决于 match: 方法的使用 它也是我们模型的一部分 \N{\fs12}depending on using the match colon method, which is also part of our model.
Dialogue: 0,0:42:22.55,0:42:24.30,yin,,0,0,0,, 这里没有 UI\N{\fs12}There’s no UI here.
Dialogue: 0,0:42:24.30,0:42:29.25,yin,,0,0,0,, 将这些逻辑传达给 UI 的是控制器 \N{\fs12}It’s up to our controller to take this logic and turn it into UI.
Dialogue: 0,0:42:29.90,0:42:32.73,yin,,0,0,0,, 我们再来看看这个 \N{\fs12}So let’s take a look at that.
Dialogue: 0,0:42:32.73,0:42:38.35,yin,,0,0,0,, 回到我们的串连图板 腾出一些空间 \N{\fs12}I’m going to go back to our storyboard here and make more space.
Dialogue: 0,0:42:38.35,0:42:40.68,yin,,0,0,0,, 把这个移过来点 \N{\fs12}Move this over a little.
Dialogue: 0,0:42:40.68,0:42:42.59,yin,,0,0,0,, 留出更多空间 \N{\fs12}Give me more space.
Dialogue: 0,0:42:42.59,0:42:45.06,yin,,0,0,0,, 这是我们的控制器 \N{\fs12}Okay. So, here’s our controller, right?
Dialogue: 0,0:42:45.06,0:42:47.64,yin,,0,0,0,, 之前我们写出了这个简单控制器 \N{\fs12}Our simple controller just as we had left it off,
Dialogue: 0,0:42:47.64,0:42:51.63,yin,,0,0,0,, 我要把逻辑用到这个之中 \N{\fs12}and I need to use this logic in this thing.
Dialogue: 0,0:42:51.63,0:42:53.67,yin,,0,0,0,, 首先我要做的是 \N{\fs12}So the first thing I’m going to do is
Dialogue: 0,0:42:53.68,0:42:57.88,yin,,0,0,0,, 创建一个属性来容纳我的 CardMatchingGame\N{\fs12}create a property to hold my card matching game.
Dialogue: 0,0:42:59.76,0:43:03.65,yin,,0,0,0,, 有些人可能会把这叫作 model\N{\fs12}Now, one could argue, some people would call this model,
Dialogue: 0,0:43:03.65,0:43:05.64,yin,,0,0,0,, 我不大喜欢这样 \N{\fs12}I don’t like that so much,
Dialogue: 0,0:43:05.64,0:43:08.74,yin,,0,0,0,, 因为 model 有时会扩展到多个属性 \N{\fs12}because sometimes a model will expand multiple properties
Dialogue: 0,0:43:08.74,0:43:11.71,yin,,0,0,0,, 也有人会叫它 gameModel\N{\fs12}or they might call it game model.
Dialogue: 0,0:43:11.71,0:43:13.82,yin,,0,0,0,, 这不算太糟 我不反对这样 \N{\fs12}That’s not so bad. I’m okay with that.
Dialogue: 0,0:43:13.82,0:43:17.08,yin,,0,0,0,, 我喜欢 game 我认为这样在代码中读起来更好 \N{\fs12}I like game, I think it reads a little nicer in the code, but,
Dialogue: 0,0:43:17.08,0:43:19.88,yin,,0,0,0,, 不过这是一种个人偏好问题 \N{\fs12}it’s kind of a matter of personal preference,
Dialogue: 0,0:43:19.88,0:43:24.88,yin,,0,0,0,, 无论如何 我需要导入我的 CardMatchingGame 头文件 \N{\fs12}but in any case, I need to import my card matching game header file here,
Dialogue: 0,0:43:24.88,0:43:27.64,yin,,0,0,0,, 来让这个正常运行 \N{\fs12}to make this work,
Dialogue: 0,0:43:27.64,0:43:30.93,yin,,0,0,0,, 我将惰性实例化它 \N{\fs12}and I’m going to lazily instantiate it.
Dialogue: 0,0:43:33.25,0:43:35.66,yin,,0,0,0,, 如果 game 为 nil\N{\fs12}I’m just going to say if the game is nil,
Dialogue: 0,0:43:35.66,0:43:39.23,yin,,0,0,0,, 也就是说 我们的对象新初始化 \N{\fs12}in other words, just our object is freshly initialized,
Dialogue: 0,0:43:39.23,0:43:41.84,yin,,0,0,0,, 那么我会让_game =\N{\fs12}then I’m going to say game equals
Dialogue: 0,0:43:41.84,0:43:47.64,yin,,0,0,0,,[[CardMatchingGame alloc] init…\N{\fs12}card matching game alloc, woops, game alloc, and then init,
Dialogue: 0,0:43:47.64,0:43:50.67,yin,,0,0,0,, 这里有两个 init 一个继承自 NSObject\N{\fs12}okay there’s two inits there, the one inherited from NSObject
Dialogue: 0,0:43:50.67,0:43:53.14,yin,,0,0,0,, 我们知道它会返回 nil 所以我不想要这个 \N{\fs12}which we know is going to return nil so I don’t want that one,
Dialogue: 0,0:43:53.14,0:43:54.92,yin,,0,0,0,, 另一个是 initWithCardCount\N{\fs12}and init with card count.
Dialogue: 0,0:43:54.92,0:43:59.24,yin,,0,0,0,, 我将使用这个 按下 Tab 这个游戏中有多少牌 \N{\fs12}So I’m going to do that one, tab over here, how many cards are in this game?
Dialogue: 0,0:43:59.24,0:44:00.23,yin,,0,0,0,, 有 12 张 \N{\fs12}Well there’s 12.
Dialogue: 0,0:44:00.23,0:44:02.12,yin,,0,0,0,, 所以这里应该键入 12 吗 \N{\fs12}So I should type 12 here right?
Dialogue: 0,0:44:03.03,0:44:03.94,yin,,0,0,0,, 不对 \N{\fs12}Okay, no.
Dialogue: 0,0:44:03.94,0:44:07.49,yin,,0,0,0,, 这就像在作业中使用 102 一样 \N{\fs12}That’s like putting a 102 in your homework solution, right?
Dialogue: 0,0:44:07.49,0:44:09.50,yin,,0,0,0,, 以后我们可能增加牌数 \N{\fs12}We might add more cards someday,
Dialogue: 0,0:44:09.50,0:44:12.93,yin,,0,0,0,, 这里绝对不要写 12 这里我暂时写 0\N{\fs12}we absolutely do not want 12 here, so I’m going to put 0 here for now,
Dialogue: 0,0:44:12.93,0:44:16.17,yin,,0,0,0,, 我到时会给你们展示 如何弄清这个值是什么 \N{\fs12}and we’ll, I’ll show you how we’re going to figure out what this number is.
Dialogue: 0,0:44:16.17,0:44:17.88,yin,,0,0,0,,usingDeck\N{\fs12}And using deck,
Dialogue: 0,0:44:17.88,0:44:20.40,yin,,0,0,0,, 幸运的是 这里我有 self createDeck\N{\fs12}luckily I have self-create deck here,
Dialogue: 0,0:44:20.40,0:44:22.01,yin,,0,0,0,, 所以我这样做 \N{\fs12}that’s why I did that that way.
Dialogue: 0,0:44:22.01,0:44:25.33,yin,,0,0,0,, 这会创建我的牌堆 \N{\fs12}That’s going to create my, my deck.
Dialogue: 0,0:44:25.33,0:44:31.02,yin,,0,0,0,, 然后我们返回_game 这很好地得到了惰性初始化 \N{\fs12}Then we’ll return underbar game and it’s nice and lazily initialized.
Dialogue: 0,0:44:32.43,0:44:35.20,yin,,0,0,0,, 我们再来讨论一下这个 0\N{\fs12}Alright, so let’s talk about this zero right there.
Dialogue: 0,0:44:35.20,0:44:37.36,yin,,0,0,0,, 我们怎么知道这里有多少牌 \N{\fs12}How are we going to find out how many cards there are?
Dialogue: 0,0:44:37.36,0:44:43.32,yin,,0,0,0,, 实际上 它有可能创建一个 outlet 到 UI 中的多个事物 \N{\fs12}Well it turns out it’s possible to create an outlet to multiple things in your UI.
Dialogue: 0,0:44:43.32,0:44:45.51,yin,,0,0,0,, 记得吧 这里我们有这个 outlet\N{\fs12}Remember that we have this outlet right here
Dialogue: 0,0:44:45.51,0:44:46.52,yin,,0,0,0,,flipsLable\N{\fs12}flips label,
Dialogue: 0,0:44:46.52,0:44:52.26,yin,,0,0,0,, 这是到下面这个 flipCount 的 outlet\N{\fs12}which was an outlet that went to this little flip count thing, that we had down here.
Dialogue: 0,0:44:52.26,0:44:54.15,yin,,0,0,0,, 它是一个单 outlet\N{\fs12}It was a single outlet,
Dialogue: 0,0:44:54.16,0:44:56.86,yin,,0,0,0,, 我们其实可以删掉这个单 outlet\N{\fs12}which by the way, we can delete this single outlet.
Dialogue: 0,0:44:56.86,0:45:00.45,yin,,0,0,0,, 但它只到一个对象 这个 UILabel 我们删掉这个 \N{\fs12}But it went to one object, the UI label, so let’s get rid of that,
Dialogue: 0,0:45:00.45,0:45:02.33,yin,,0,0,0,, 我们不再需要 flipCount\N{\fs12}and we don’t need flip count either,
Dialogue: 0,0:45:02.33,0:45:06.17,yin,,0,0,0,, 我们也不再需要 deck 很多东西现在都可以删了 \N{\fs12}we actually don’t need deck either, there’s lots of stuff we can get rid of now.
Dialogue: 0,0:45:06.17,0:45:11.25,yin,,0,0,0,, 我们将重新写这整个 删掉 setFlipCount\N{\fs12}Alright, so we’re going to redo this whole thing, well, we’ll get rid of the setFlipCount.
Dialogue: 0,0:45:11.25,0:45:13.67,yin,,0,0,0,, 这个等下我们会删掉 \N{\fs12}We’ll get rid of that in a second.
Dialogue: 0,0:45:13.67,0:45:16.76,yin,,0,0,0,, 可以看到 现在游戏变得简单了很多 \N{\fs12}You can see our games gotten significantly simpler now
Dialogue: 0,0:45:16.76,0:45:20.03,yin,,0,0,0,, 模型接管了这里的很多东西 \N{\fs12}that the model’s taking care of a lot of our stuff here
Dialogue: 0,0:45:20.03,0:45:22.33,yin,,0,0,0,, 把这些都删除后 它会变得更简单 \N{\fs12}and it’s going to get even simpler when we delete all this.
Dialogue: 0,0:45:22.33,0:45:25.92,yin,,0,0,0,, 无论如何 这是单 outlet\N{\fs12}But anyway, that was a single outlet.
Dialogue: 0,0:45:25.92,0:45:28.33,yin,,0,0,0,, 我们可以让 outlet 到多个事物 \N{\fs12}We can actually create an outlet to multiple things,
Dialogue: 0,0:45:28.33,0:45:31.65,yin,,0,0,0,, 你们应该能够想到 这一 outlet 将是数组 \N{\fs12}and as you might imagine, that outlet will be an array.
Dialogue: 0,0:45:31.65,0:45:33.37,yin,,0,0,0,, 如何做到呢 \N{\fs12}So how we do that?
Dialogue: 0,0:45:33.37,0:45:34.28,yin,,0,0,0,, 很简单 \N{\fs12}Very simple.
Dialogue: 0,0:45:34.28,0:45:37.57,yin,,0,0,0,, 方法和原来一样 我按住 Control 键 \N{\fs12}Exact same way, I’m holding down the control key.
Dialogue: 0,0:45:37.57,0:45:41.54,yin,,0,0,0,, 选这张牌 按住 Control 并拖动到接口 \N{\fs12}Pick the card here, I’m going to hold down control and drag into my interface,
Dialogue: 0,0:45:41.54,0:45:46.84,yin,,0,0,0,, 和之前创建 outlet 的方式一样 然后松手 \N{\fs12}just like I do with any other outlet I’m trying to create, and when I let go,
Dialogue: 0,0:45:46.84,0:45:49.41,yin,,0,0,0,, 可以看到上面这里写有连接 \N{\fs12}you can see that at the top here where it says connection,
Dialogue: 0,0:45:49.41,0:45:53.02,yin,,0,0,0,, 这里实际有选项可以创建 outlet collection\N{\fs12}there’s actually the choice of making an outlet collection.
Dialogue: 0,0:45:53.02,0:45:55.11,yin,,0,0,0,, 这是一个数组 \N{\fs12}So that’s an array of things.
Dialogue: 0,0:45:55.11,0:45:59.34,yin,,0,0,0,, 这里还可以选 action 声明到这里 \N{\fs12}We can also make an action messenger, we’d be declaring it here.
Dialogue: 0,0:45:59.34,0:46:01.76,yin,,0,0,0,, 或者到单个按钮的 outlet\N{\fs12}Or an outlet to a single button,
Dialogue: 0,0:46:01.77,0:46:03.65,yin,,0,0,0,, 但这里我要选 outlet collection\N{\fs12}but here I’m going to do outlet collection
Dialogue: 0,0:46:03.65,0:46:06.50,yin,,0,0,0,, 选 outlet collection 时 XCode\N{\fs12}When you do do outlet collection, XCode,
Dialogue: 0,0:46:06.51,0:46:08.97,yin,,0,0,0,, 不是 Objective-C 而是 XCode 希望知道 \N{\fs12}not Objective-C, but XCode wants to know,
Dialogue: 0,0:46:08.97,0:46:12.72,yin,,0,0,0,, 这里有怎样的对象 这完全是 XCode 想知道 \N{\fs12}what kind of objects are in there, that’s purely for XCode, there’s,
Dialogue: 0,0:46:12.72,0:46:16.21,yin,,0,0,0,, 我讲过 Objective-C 中没办法知道数组中是什么 \N{\fs12}I told you there’s no way to know what’s in an array in objective-C
Dialogue: 0,0:46:16.21,0:46:17.69,yin,,0,0,0,, 编译器无法知道这个 \N{\fs12}and the compiler can’t know that,
Dialogue: 0,0:46:17.69,0:46:19.20,yin,,0,0,0,, 这纯粹是为 XCode 准备的 \N{\fs12}so this is purely for XCode and you’re going
Dialogue: 0,0:46:19.20,0:46:21.91,yin,,0,0,0,, 等下你们就能看到 XCode 是如何记住这个的 \N{\fs12}to see how XCode remembers this answer in a second,
Dialogue: 0,0:46:21.91,0:46:24.32,yin,,0,0,0,, 这里是它的名称 我将其起名为 cardButtons(纸牌按钮)\N{\fs12}and here’s the name, I’m going to call it card buttons,
Dialogue: 0,0:46:24.32,0:46:28.30,yin,,0,0,0,, 这就是这些 这些是容纳所有纸牌的按钮 \N{\fs12}that’s what these are, these are buttons that are holding all the cards.
Dialogue: 0,0:46:28.30,0:46:31.80,yin,,0,0,0,, 注意 这里没有问我是强是弱 \N{\fs12}Notice it’s not asking me strong or weak here.
Dialogue: 0,0:46:31.80,0:46:35.02,yin,,0,0,0,, 这是因为这一属性必须是强的 \N{\fs12}That’s because this property has to be strong.
Dialogue: 0,0:46:35.02,0:46:36.67,yin,,0,0,0,, 它必须是强的 \N{\fs12}And it has to be strong
Dialogue: 0,0:46:36.67,0:46:41.65,yin,,0,0,0,, 因为视图虽然有一个强指针单独指向所有这些牌 \N{\fs12}because while the view has a strong pointer to all these cards individually,
Dialogue: 0,0:46:41.65,0:46:45.86,yin,,0,0,0,, 但视图没有一个强指针指向这一数组 \N{\fs12}the view does not have a strong pointer to this array.
Dialogue: 0,0:46:45.86,0:46:48.73,yin,,0,0,0,, 如果我们不将其设为强 \N{\fs12}And if we did not make this strong,
Dialogue: 0,0:46:48.73,0:46:51.33,yin,,0,0,0,, 那么这就会被持续设为 0\N{\fs12}than this would be constantly being set to zero
Dialogue: 0,0:46:51.33,0:46:54.15,yin,,0,0,0,, 因为没人拥有强指针指向它 \N{\fs12}because no one would have a strong pointer to it.
Dialogue: 0,0:46:54.15,0:46:56.63,yin,,0,0,0,, 所以这里需要是强的 \N{\fs12}So, that’s why this has to be strong,
Dialogue: 0,0:46:56.63,0:46:58.76,yin,,0,0,0,, 因为它是数组 而不是一个按钮 \N{\fs12}because it’s an array, it’s not a button.
Dialogue: 0,0:46:58.76,0:47:03.86,yin,,0,0,0,, 这一小段代码 会完全被编译器忽略 \N{\fs12}Now, this little stuff right here, compiler completely ignores this,
Dialogue: 0,0:47:03.86,0:47:06.08,yin,,0,0,0,, 它同 IBAction 很像 \N{\fs12}it’s very much like IB action,
Dialogue: 0,0:47:06.08,0:47:09.70,yin,,0,0,0,, 不过是 XCode 加到这里的一些东西 \N{\fs12}it’s just some stuff that XCode puts in there
Dialogue: 0,0:47:09.70,0:47:14.47,yin,,0,0,0,, 让它自身知道这一特定属性是 outlet collection\N{\fs12}so that it knows that this particular property right here is an outlet collection,
Dialogue: 0,0:47:14.47,0:47:16.36,yin,,0,0,0,, 当我把鼠标悬停在这上面时 \N{\fs12}and you can see if I mouse over this
Dialogue: 0,0:47:16.36,0:47:19.18,yin,,0,0,0,, 它会显示我放在这里的这个按钮 \N{\fs12}it shows me the one button that I put in here.
Dialogue: 0,0:47:19.18,0:47:22.46,yin,,0,0,0,, 我倒想告诉你们 我们可以选择所有这些 \N{\fs12}Now, I’d love to tell you we can just select all of these
Dialogue: 0,0:47:22.46,0:47:25.48,yin,,0,0,0,, 并 Control 拖动 但这是不行的 \N{\fs12}and control drag, but you can’t.
Dialogue: 0,0:47:25.48,0:47:28.91,yin,,0,0,0,, 我一直希望有这种功能 但设计者从来就没提供过 \N{\fs12}I’ve been asking for that feature for years, but they never give it to me.
Dialogue: 0,0:47:28.91,0:47:32.54,yin,,0,0,0,, 所以 我们需要一个个拖动 \N{\fs12}So, I have to drag these one-by-one,
Dialogue: 0,0:47:32.54,0:47:34.53,yin,,0,0,0,, 有些不幸 但至少 你知道 \N{\fs12}it’s kind of unfortunate, but at least, you know,
Dialogue: 0,0:47:34.53,0:47:36.70,yin,,0,0,0,, 我将它拖到已经存在的这个上 \N{\fs12}I drag it to the thing that’s already existing, and you notice
Dialogue: 0,0:47:36.70,0:47:40.95,yin,,0,0,0,, 我靠近时 它会高亮显示合适的位置 \N{\fs12}as I get close, it highlights the thing that is appropriate and, again,
Dialogue: 0,0:47:40.95,0:47:45.02,yin,,0,0,0,, 因为它知道这是按钮的 outlet collection\N{\fs12}it knows that because it knows this an outlet collection of buttons,
Dialogue: 0,0:47:45.02,0:47:47.87,yin,,0,0,0,, 所以这条属性会高亮显示 \N{\fs12}so that’s why I can highlight this property.
Dialogue: 0,0:47:47.87,0:47:50.26,yin,,0,0,0,, 我将把它们都集中到这里 \N{\fs12}So I’m going to collect all of them here,
Dialogue: 0,0:47:50.26,0:47:52.41,yin,,0,0,0,, 这样做时 有些容易犯错 \N{\fs12}and when you do this, you know, it’s somewhat error prone,
Dialogue: 0,0:47:52.41,0:47:55.21,yin,,0,0,0,, 你可能会漏掉 所有最好是到这里来检验下 \N{\fs12}you might miss, so it’s nice to go back here and check,
Dialogue: 0,0:47:55.21,0:47:58.22,yin,,0,0,0,, 你会看到所有 12 个按钮在这里 \N{\fs12}and you can see all 12 buttons in here.
Dialogue: 0,0:47:58.22,0:47:59.42,yin,,0,0,0,, 有问题 \N{\fs12}Question?
Dialogue: 0,0:48:00.71,0:48:03.19,yin,,0,0,0,, 问得很好 问题是 顺序要不要紧 \N{\fs12}Okay. Great question! The question is does the order matter?
Dialogue: 0,0:48:03.19,0:48:04.56,yin,,0,0,0,, 顺序有没什么作用 \N{\fs12}Or is the order determined?
Dialogue: 0,0:48:04.56,0:48:06.31,yin,,0,0,0,, 答案是没有 \N{\fs12}And the answer is no.
Dialogue: 0,0:48:06.31,0:48:09.67,yin,,0,0,0,, 这里对象的顺序对你完全是未知的 \N{\fs12}This order, the order of the object here is completely unknown to you,
Dialogue: 0,0:48:09.67,0:48:11.22,yin,,0,0,0,, 你不能依赖于它 \N{\fs12}and you cannot depend on it.
Dialogue: 0,0:48:11.22,0:48:14.69,yin,,0,0,0,, 如果你需要顺序 你需要用不同方式来做 \N{\fs12}If you need the order, you’re going to have to do this a different way.
Dialogue: 0,0:48:14.69,0:48:18.21,yin,,0,0,0,,outlet collection 中顺序是未知的 \N{\fs12}Outlet collections are fundamentally, the order is not known.
Dialogue: 0,0:48:18.21,0:48:21.31,yin,,0,0,0,, 所以不管我按什么顺序 Control 拖动它们 \N{\fs12}So no matter what order I control drag them,
Dialogue: 0,0:48:21.31,0:48:23.57,yin,,0,0,0,, 这都不是数组中的顺序 \N{\fs12}that’s not going to be the order in the array.
Dialogue: 0,0:48:23.57,0:48:25.93,yin,,0,0,0,, 苹果这样决定是很好的 \N{\fs12}Which was a good decision by Apple, it seems like oh,
Dialogue: 0,0:48:25.93,0:48:29.58,yin,,0,0,0,, 也许你觉得这很好 但要放很多东西到这里 \N{\fs12}it’d be cool, but it’d be just too hard for them to, to throw a lot of things in here,
Dialogue: 0,0:48:29.58,0:48:31.82,yin,,0,0,0,, 要显示太难 而且你会被弄糊涂 \N{\fs12}it’d be too hard to show and you could get confused,
Dialogue: 0,0:48:31.82,0:48:34.10,yin,,0,0,0,, 所以你需要使用别的机制 \N{\fs12}so, you need to use something, a different mechanism, and you’re going
Dialogue: 0,0:48:34.10,0:48:37.80,yin,,0,0,0,, 我们后面的课上 会讲很多能够做到这个的机制 \N{\fs12}to learn many mechanisms later in this class that you could do this with.
Dialogue: 0,0:48:37.80,0:48:39.85,yin,,0,0,0,, 这里只是一个很简单的做法 \N{\fs12}This is just a pretty simple one right here.
Dialogue: 0,0:48:39.85,0:48:42.34,yin,,0,0,0,, 对少量东西奏效 \N{\fs12}For a fairly small numbers of things.
Dialogue: 0,0:48:42.34,0:48:45.65,yin,,0,0,0,, 无论如何 我们得到了到这些事物的连接 \N{\fs12}So anyway, we got this connection to these things.
Dialogue: 0,0:48:45.65,0:48:47.99,yin,,0,0,0,, 现在 我们可以进行纸牌计数 \N{\fs12}So now we can do card count.
Dialogue: 0,0:48:47.99,0:48:52.67,yin,,0,0,0,, 我们知道纸牌数量 我们可以说 self.cardButtons\N{\fs12}We know the number of cards, we can just say self dot card buttons,
Dialogue: 0,0:48:52.67,0:48:56.74,yin,,0,0,0,, 也就是这个属性 count\N{\fs12}that’s this property right here. Count.
Dialogue: 0,0:48:59.17,0:49:02.71,yin,,0,0,0,, 这就是这一数组中按钮的数量 \N{\fs12}So this is the number of buttons that’s in this array.
Dialogue: 0,0:49:02.73,0:49:06.09,yin,,0,0,0,, 这很好 对我们而言很不错 \N{\fs12}So that was good. That worked out well for us.
Dialogue: 0,0:49:06.09,0:49:10.19,yin,,0,0,0,, 有了这个很好的按钮数组之后 我们还可以更新它们 \N{\fs12}Now we also have a nice array of these buttons so that we can update them
Dialogue: 0,0:49:10.19,0:49:13.01,yin,,0,0,0,, 配合模型中发生的情况 \N{\fs12}with what’s happening in the model.
Dialogue: 0,0:49:13.01,0:49:15.69,yin,,0,0,0,, 首先 让我们来讨论触摸一张牌时 该怎么做 \N{\fs12}So, first though, let’s talk about touching a card,
Dialogue: 0,0:49:15.69,0:49:17.90,yin,,0,0,0,, 首先 让我们来讨论触摸一张牌时 该怎么做 \N{\fs12}when you touch on a card, what are we going to do,
Dialogue: 0,0:49:17.90,0:49:21.92,yin,,0,0,0,, 显然不是这一堆垃圾 删掉这些 \N{\fs12}well we don’t want to do any of this junk. So we’re just going to rid of all of that.
Dialogue: 0,0:49:21.92,0:49:24.67,yin,,0,0,0,, 因为我们要让模型来处理 \N{\fs12}Because we’re going to let the model handle it.
Dialogue: 0,0:49:24.67,0:49:28.78,yin,,0,0,0,, 要让模型来处理 我们需要做的是 \N{\fs12}So all we need to do to let the model handle this is
Dialogue: 0,0:49:28.78,0:49:33.06,yin,,0,0,0,, 获得这一按钮所关联的纸牌 \N{\fs12}to get the card that this button is associated with,
Dialogue: 0,0:49:33.06,0:49:35.46,yin,,0,0,0,, 因为这些按钮仍然在发送这个 \N{\fs12}because these buttons are all still sending this,
Dialogue: 0,0:49:35.46,0:49:38.61,yin,,0,0,0,, 看这个 12 个都在发送这个动作 \N{\fs12}if you look at this, see all 12 of them are sending this action
Dialogue: 0,0:49:38.61,0:49:42.19,yin,,0,0,0,, 而发送器仍然是你实际触摸的按钮 \N{\fs12}and the sender is still the actual button you touched on,
Dialogue: 0,0:49:42.19,0:49:43.85,yin,,0,0,0,, 不是数组 而是实际按钮 \N{\fs12}not the array, but the actual button,
Dialogue: 0,0:49:43.85,0:49:46.83,yin,,0,0,0,, 因为这是这里的目标动作事物 \N{\fs12}because this is the target action thing right here.
Dialogue: 0,0:49:46.83,0:49:50.79,yin,,0,0,0,, 我们仍然能够弄清 是谁发送的 实际上 \N{\fs12}So, we can still find out who sending it and, in fact,
Dialogue: 0,0:49:50.79,0:49:54.18,yin,,0,0,0,, 我们甚至还可以找到它在这个数组中的下标 \N{\fs12}we can even find out it’s index in this array
Dialogue: 0,0:49:54.18,0:49:57.32,yin,,0,0,0,, 通过如下代码 cardIndex =\N{\fs12}by saying card index equals
Dialogue: 0,0:49:57.32,0:50:02.49,yin,,0,0,0,,[self.cardButtons indextOfObject:sender]\N{\fs12}self dot card buttons, index of object, sender.
Dialogue: 0,0:50:02.49,0:50:03.80,yin,,0,0,0,, 这将告诉我们 \N{\fs12}So this is going to tell us
Dialogue: 0,0:50:03.80,0:50:09.33,yin,,0,0,0,, 这一发送按钮处在数组中什么地方 \N{\fs12}where this sending button is in this array.
Dialogue: 0,0:50:10.76,0:50:13.92,yin,,0,0,0,, 这样我们就知道了它是数组中哪张牌 \N{\fs12}So now that we know which card it is in the array,
Dialogue: 0,0:50:13.92,0:50:18.91,yin,,0,0,0,, 我们可以让游戏 选择那一下标处的纸牌 \N{\fs12}we can just tell our game please choose the card at that index.
Dialogue: 0,0:50:22.04,0:50:25.17,yin,,0,0,0,, 我们会告诉我们的模型 嘿 选那张牌 \N{\fs12}And we’re just going to tell our model, hey, choose that card.
Dialogue: 0,0:50:25.17,0:50:26.96,yin,,0,0,0,, 有一点要注意 \N{\fs12}Now, one thing here though is
Dialogue: 0,0:50:26.96,0:50:30.02,yin,,0,0,0,, 选那张牌可能改变游戏状态 \N{\fs12}choosing that card might change the state of the game.
Dialogue: 0,0:50:30.02,0:50:33.18,yin,,0,0,0,, 这会导致分数变化 或纸牌匹配 \N{\fs12}It might cause some points or match some cards,
Dialogue: 0,0:50:33.18,0:50:34.67,yin,,0,0,0,, 很多东西会变 \N{\fs12}a lot of things can change,
Dialogue: 0,0:50:34.67,0:50:37.98,yin,,0,0,0,, 所以这里需要 updateUI 来更新 UI\N{\fs12}so we’re going to put a little update UI here.
Dialogue: 0,0:50:37.98,0:50:40.05,yin,,0,0,0,, 这个 updateUI 方法 \N{\fs12}And this update UI method, which we’re going to have
Dialogue: 0,0:50:40.05,0:50:44.12,yin,,0,0,0,, 等下我们会写 它会让 UI 同模型同步 \N{\fs12}to write has got to keep our UI in sync with the model.
Dialogue: 0,0:50:44.12,0:50:47.17,yin,,0,0,0,, 记得吧 这是控制器的首要任务之一 \N{\fs12}And remember that’s one of the primary things a controller does,
Dialogue: 0,0:50:47.17,0:50:51.08,yin,,0,0,0,, 它会同步模型和 UI\N{\fs12}it syncs up the model with the UI.
Dialogue: 0,0:50:51.78,0:50:54.93,yin,,0,0,0,, 这里我们来加一小段代码 \N{\fs12}So let’s go ahead and put a little thing here.
Dialogue: 0,0:50:54.93,0:50:56.87,yin,,0,0,0,,updateUI\N{\fs12}Update UI.
Dialogue: 0,0:50:56.87,0:51:00.05,yin,,0,0,0,, 更新 UI 时我们需要做什么呢 \N{\fs12}So what do we need to do when we’re updating this UI?
Dialogue: 0,0:51:00.05,0:51:04.43,yin,,0,0,0,, 其实很简单 我们将遍历所有纸牌按钮 \N{\fs12}It’s actually pretty simple, we’re just going to go through all the card buttons.
Dialogue: 0,0:51:04.43,0:51:09.80,yin,,0,0,0,, 获得那个纸牌按钮 同时在模型中观察相应纸牌 \N{\fs12}Get that card button, simultaneously look into the model for that card,
Dialogue: 0,0:51:09.80,0:51:13.91,yin,,0,0,0,, 确保纸牌按钮展示出它所应该展示的纸牌内容 \N{\fs12}and make sure the card button is showing what should be on that card.
Dialogue: 0,0:51:13.91,0:51:19.28,yin,,0,0,0,, 所以这里需要 for (UIButton *cardButton\N{\fs12}So, let’s go for UI button, card button,
Dialogue: 0,0:51:19.28,0:51:22.02,yin,,0,0,0,, 属于我们的 cardButtons 中 )\N{\fs12}in our card buttons.
Dialogue: 0,0:51:22.02,0:51:24.50,yin,,0,0,0,, 这里是遍历所有这些按钮 \N{\fs12}So we’re iterating through all these buttons.
Dialogue: 0,0:51:24.50,0:51:27.77,yin,,0,0,0,,carbButton 是迭代变量 \N{\fs12}Card button is going to be the variable.
Dialogue: 0,0:51:27.77,0:51:31.80,yin,,0,0,0,, 让我们获取 cardIndex 还是一样 \N{\fs12}Let’s go ahead and get that card index, again, for the same thing,
Dialogue: 0,0:51:31.80,0:51:35.29,yin,,0,0,0,,self.cardButtons indexOfObject\N{\fs12}self dot card buttons, index of object,
Dialogue: 0,0:51:35.29,0:51:38.55,yin,,0,0,0,,carbButton 是我们的迭代变量 \N{\fs12}the card button that is our iteration variable
Dialogue: 0,0:51:38.55,0:51:40.58,yin,,0,0,0,, 这些东西明白了吗 \N{\fs12}and we’re cool with what we’re doing there.
Dialogue: 0,0:51:40.58,0:51:43.37,yin,,0,0,0,, 我们弄清了这是哪张牌 \N{\fs12}Alright? So we’re just figuring out which card it is.
Dialogue: 0,0:51:43.37,0:51:49.04,yin,,0,0,0,, 然后我们要让模型给我们那一下标处的牌 \N{\fs12}Then we’re going to ask our model, give us the card at that index,
Dialogue: 0,0:51:49.04,0:51:51.20,yin,,0,0,0,, 使用 cardAtIndex\N{\fs12}using card at index.
Dialogue: 0,0:51:54.45,0:51:58.65,yin,,0,0,0,, 现在我们就有了纸牌按钮和纸牌 很棒 \N{\fs12}So now we have the card button and the card, awesome.
Dialogue: 0,0:51:58.65,0:52:03.61,yin,,0,0,0,, 下面我们来确保纸牌按钮反映了纸牌上的情况 \N{\fs12}Now we can make sure the card button reflects the card that goes along with it.
Dialogue: 0,0:52:03.61,0:52:06.41,yin,,0,0,0,, 我们需要在按钮上设置什么 \N{\fs12}So, what do we need to set on the button?
Dialogue: 0,0:52:06.41,0:52:10.50,yin,,0,0,0,, 我们需要设置纸牌按钮的标题 \N{\fs12}Well, let’s see, we have to set the card buttons title.
Dialogue: 0,0:52:10.50,0:52:12.39,yin,,0,0,0,, 这里是 setTitle:\N{\fs12}So set title
Dialogue: 0,0:52:12.39,0:52:18.04,yin,,0,0,0,,forState:UIControlStateNormal\N{\fs12}for state UI control state, control state normal.
Dialogue: 0,0:52:19.52,0:52:22.70,yin,,0,0,0,, 我们还需要设置背景图像 \N{\fs12}And we have to set the background image.
Dialogue: 0,0:52:23.16,0:52:26.72,yin,,0,0,0,, 取决于这里是斯坦福 logo 还是空白背景 \N{\fs12}Depending on whether it’s the Stanford logo or the blank background.
Dialogue: 0,0:52:29.80,0:52:33.70,yin,,0,0,0,, 而且 如果纸牌已被匹配 \N{\fs12}Also, if the card is matched,
Dialogue: 0,0:52:33.70,0:52:35.73,yin,,0,0,0,, 我将禁用按钮 \N{\fs12}I’m going to disable the button.
Dialogue: 0,0:52:35.73,0:52:37.73,yin,,0,0,0,, 因为纸牌已经被匹配 \N{\fs12}Because you’ve already matched this card,
Dialogue: 0,0:52:37.73,0:52:39.98,yin,,0,0,0,, 你不能再点它 我将禁用它 \N{\fs12}you can’t click on it anyway, so I’m going to disable it
Dialogue: 0,0:52:39.98,0:52:41.92,yin,,0,0,0,, 因为禁用的按钮会略显不同 \N{\fs12}because a disabled button looks a little different
Dialogue: 0,0:52:41.92,0:52:44.39,yin,,0,0,0,, 而我希望已匹配的按钮有所不同 \N{\fs12}and I want buttons that are matched to look different.
Dialogue: 0,0:52:44.39,0:52:45.02,yin,,0,0,0,, 请讲 \N{\fs12}Yeah?
Dialogue: 0,0:52:50.97,0:52:51.84,yin,,0,0,0,, 确实 \N{\fs12}It does.
Dialogue: 0,0:52:51.84,0:52:54.76,yin,,0,0,0,, 问题是 这样的快速枚举 \N{\fs12}So the question is does a fast enumeration like this,
Dialogue: 0,0:52:54.76,0:52:56.57,yin,,0,0,0,, 使用这种 for in 结构 \N{\fs12}when you do this for in thing,
Dialogue: 0,0:52:56.57,0:52:59.69,yin,,0,0,0,, 是从 0 到 N 吗 答案是肯定的 \N{\fs12}does that go from the zero to the N and the answer, it does.
Dialogue: 0,0:52:59.69,0:53:01.93,yin,,0,0,0,, 确实是按顺序来的 \N{\fs12}It does go in order.
Dialogue: 0,0:53:01.93,0:53:05.69,yin,,0,0,0,, 你可以 问题是 这不是必需的吧 \N{\fs12}You could. So the question is do you, do you not need this,
Dialogue: 0,0:53:05.69,0:53:07.68,yin,,0,0,0,, 你可以用别的迭代变量 \N{\fs12}you could just have another iteration variable
Dialogue: 0,0:53:07.68,0:53:10.44,yin,,0,0,0,, 或者你也可以使用迭代变量 i\N{\fs12}or you could use an iteration variable here,
Dialogue: 0,0:53:10.44,0:53:12.22,yin,,0,0,0,, 如 for i = 0 to 长度 \N{\fs12}like for i equals 0 to the length?
Dialogue: 0,0:53:12.22,0:53:13.54,yin,,0,0,0,, 你可以 \N{\fs12}You could.
Dialogue: 0,0:53:13.55,0:53:17.39,yin,,0,0,0,, 我不喜欢用那种 0 到具体长度 \N{\fs12}I don’t like to depend on that going from 0 to whatever,
Dialogue: 0,0:53:17.39,0:53:20.54,yin,,0,0,0,, 所以我使用这个 这是风格问题 \N{\fs12}so that’s why I used this here. It’s a matter of style.
Dialogue: 0,0:53:20.54,0:53:21.65,yin,,0,0,0,, 完全是风格问题 \N{\fs12}Totally a matter of style.
Dialogue: 0,0:53:21.65,0:53:23.01,yin,,0,0,0,, 而且这样更清晰一些 \N{\fs12}This is also kind of a little clearer,
Dialogue: 0,0:53:23.01,0:53:25.33,yin,,0,0,0,, 因为这里我说 我想要 \N{\fs12}because here I’m saying I want the card that goes with,
Dialogue: 0,0:53:25.33,0:53:28.32,yin,,0,0,0,, 这里的所有纸牌按钮 \N{\fs12}you know, the card button that goes with this thing.
Dialogue: 0,0:53:28.32,0:53:31.11,yin,,0,0,0,, 最后我要说的是 \N{\fs12}So, so the last thing I’m going to say is
Dialogue: 0,0:53:31.11,0:53:38.22,yin,,0,0,0,,cardButton.enabled = !card.isMatched\N{\fs12}the card button enabled equals the card, not card is matched.
Dialogue: 0,0:53:40.31,0:53:43.98,yin,,0,0,0,, 只有纸牌没有被匹配时 按钮才启用 \N{\fs12}So, the card, the button will only be enabled if the card is not matched.
Dialogue: 0,0:53:45.12,0:53:49.04,yin,,0,0,0,, 当然 我还有这两个东西没有提供 \N{\fs12}Okay, now of course I have these two things, which I haven’t provided, right?
Dialogue: 0,0:53:49.04,0:53:52.54,yin,,0,0,0,, 我们还没有这些参数 \N{\fs12}I’ve just left them, we don’t have that argument.
Dialogue: 0,0:53:52.54,0:53:54.32,yin,,0,0,0,, 实际上对于这两者 \N{\fs12}And actually for both of those,
Dialogue: 0,0:53:54.32,0:53:59.21,yin,,0,0,0,, 我都将创建别的辅助方法 \N{\fs12}I’m going to create little other methods here, helper methods.
Dialogue: 0,0:53:59.21,0:54:01.27,yin,,0,0,0,, 对于标题 \N{\fs12}So, I’m going, for the title,
Dialogue: 0,0:54:01.27,0:54:04.15,yin,,0,0,0,, 我将创建一个辅助方法叫 titleForCard\N{\fs12}I’m going to have a helper method called title for card.
Dialogue: 0,0:54:04.98,0:54:06.98,yin,,0,0,0,, 它使用 card 作为参数 \N{\fs12}It’s going to take a card as the argument.
Dialogue: 0,0:54:07.50,0:54:10.32,yin,,0,0,0,, 而且它会返回 card 的标题 \N{\fs12}And it’s going to return the title of that card,
Dialogue: 0,0:54:10.32,0:54:12.90,yin,,0,0,0,, 背景我将使用 (UIImage *)\N{\fs12}and for the background I’m going to have UI image,
Dialogue: 0,0:54:12.91,0:54:16.33,yin,,0,0,0,,backgroundImageForCard\N{\fs12}background image for card.
Dialogue: 0,0:54:18.36,0:54:22.01,yin,,0,0,0,, 但愿随着课程推进 你们能理解我们的命名惯例 \N{\fs12}Hopefully as we’ll go along you’ll start to see the naming conventions that we use.
Dialogue: 0,0:54:22.01,0:54:26.94,yin,,0,0,0,, 我们通常会把冒号前名称的最后这部分 \N{\fs12}We often try to have this last part of a name of a method before a colon
Dialogue: 0,0:54:26.94,0:54:29.19,yin,,0,0,0,, 用来表示我们要的东西 \N{\fs12}indicate what we’re looking for.
Dialogue: 0,0:54:29.19,0:54:32.38,yin,,0,0,0,, 这里我们要的是一张牌 \N{\fs12}So here we’re looking for a card, so we try to make a thing.
Dialogue: 0,0:54:32.38,0:54:35.89,yin,,0,0,0,, 再看这个 按钮 对吧 这是一个按钮 \N{\fs12}Look at this one, button, right? This is a button.
Dialogue: 0,0:54:35.89,0:54:38.68,yin,,0,0,0,, 这里我们是在告诉代码的读者 \N{\fs12}So we try to make these arguments
Dialogue: 0,0:54:38.68,0:54:42.15,yin,,0,0,0,, 我们想要放到这里的是什么参数 \N{\fs12}guide the reader towards what we’re asking for there.
Dialogue: 0,0:54:42.15,0:54:44.46,yin,,0,0,0,, 对此 我们也不必太过拘泥 \N{\fs12}We don’t want to get too overwrought about it,
Dialogue: 0,0:54:44.46,0:54:47.43,yin,,0,0,0,, 不过总的命名惯例就是这样 \N{\fs12}but it’s a general naming convention there.
Dialogue: 0,0:54:47.43,0:54:49.55,yin,,0,0,0,, 一张给定纸牌的标题是什么 \N{\fs12}So, what is the title of a given card?
Dialogue: 0,0:54:49.55,0:54:51.97,yin,,0,0,0,, 我有一张牌 它的标题是什么 \N{\fs12}So I have the card, what’s its title?
Dialogue: 0,0:54:51.97,0:54:55.03,yin,,0,0,0,, 如果纸牌已被选择 \N{\fs12}Well, if the card is chosen,
Dialogue: 0,0:54:55.03,0:54:58.22,yin,,0,0,0,, 那么我将返回纸牌的内容 \N{\fs12}then I’m going to return the contents of the card.
Dialogue: 0,0:54:58.22,0:55:01.11,yin,,0,0,0,, 否则 我会返回空字符串或 nil\N{\fs12}If it’s not, I’m going to return empty string or nil,
Dialogue: 0,0:55:01.11,0:55:04.66,yin,,0,0,0,, 所以这里写 return card.isChosen\N{\fs12}so I’m just going to say return card dot is chosen,
Dialogue: 0,0:55:04.66,0:55:07.44,yin,,0,0,0,,? card.contents\N{\fs12}question mark, car dot contents,
Dialogue: 0,0:55:07.44,0:55:08.46,yin,,0,0,0,, 否则 \N{\fs12}otherwise,
Dialogue: 0,0:55:08.46,0:55:11.15,yin,,0,0,0,, 空字符串或 nil 这里都行 \N{\fs12}empty string let’s say or nil, either one in this case.
Dialogue: 0,0:55:11.15,0:55:12.77,yin,,0,0,0,, 背景图像怎么办呢 \N{\fs12}And how about the background image?
Dialogue: 0,0:55:12.77,0:55:16.22,yin,,0,0,0,, 这个很酷 这里我说 返回 UIImage\N{\fs12}This is kind of a cool one, I’m going to say return UI image,
Dialogue: 0,0:55:16.22,0:55:22.20,yin,,0,0,0,, 图像名为 card.isChosen\N{\fs12}image name is card dot is chosen,
Dialogue: 0,0:55:22.20,0:55:26.61,yin,,0,0,0,, 如果纸牌被选 那么我想要正面 \N{\fs12}so if the card is chosen, then I want the card front,
Dialogue: 0,0:55:26.61,0:55:28.61,yin,,0,0,0,, 否则我想要反面 \N{\fs12}otherwise the card back,
Dialogue: 0,0:55:28.61,0:55:34.07,yin,,0,0,0,, 你肯定会觉得 我很钟爱这种?: 语法 \N{\fs12}now you probably think I’m just in love with this question mark colon syntax,
Dialogue: 0,0:55:34.07,0:55:36.14,yin,,0,0,0,, 我确实喜欢 它很简洁 \N{\fs12}which I do like it a lot, it’s kind of clean.
Dialogue: 0,0:55:36.14,0:55:37.85,yin,,0,0,0,, 反正你们是懂的 对吧 \N{\fs12}But anyway, you understand what I’m doing here, right?
Dialogue: 0,0:55:37.85,0:55:40.78,yin,,0,0,0,, 我在名称这里 \N{\fs12}I’m actually having the name in here
Dialogue: 0,0:55:40.78,0:55:42.98,yin,,0,0,0,, 嵌套了?: 结构 \N{\fs12}with the question mark colon nested inside,
Dialogue: 0,0:55:42.98,0:55:45.92,yin,,0,0,0,, 这样来获得图像 \N{\fs12}[inaudible] to get the, the image.
Dialogue: 0,0:55:47.57,0:55:50.05,yin,,0,0,0,, 下面 我就可以将其用到这里了 \N{\fs12}So now, I can use that here.
Dialogue: 0,0:55:50.05,0:55:51.27,yin,,0,0,0,, 首先是标题 \N{\fs12}Let’s do the title first.
Dialogue: 0,0:55:51.27,0:55:54.94,yin,,0,0,0,, 这里我写 self titleForCard:card\N{\fs12}I’m just going to self, title for card, the card,
Dialogue: 0,0:55:54.94,0:55:56.64,yin,,0,0,0,, 然后这里我写 \N{\fs12}and then here I’m going to say
Dialogue: 0,0:55:56.64,0:55:59.42,yin,,0,0,0,,self backgroundImageForCard:card\N{\fs12}self background image for card, card,
Dialogue: 0,0:55:59.42,0:56:04.76,yin,,0,0,0,, 这两处我都加个回车 这样更清晰一些 \N{\fs12}and both of these I’m going to hit return just to make this a little easier to see.
Dialogue: 0,0:56:04.76,0:56:08.06,yin,,0,0,0,, 这基本就算完了 \N{\fs12}So, that’s pretty much it.
Dialogue: 0,0:56:08.06,0:56:11.98,yin,,0,0,0,, 我将 UI 同模型匹配了起来 \N{\fs12}I’ve matched up my UI with my model,
Dialogue: 0,0:56:11.98,0:56:16.25,yin,,0,0,0,, 触摸 UI 时 我让模型知道去选一张牌 \N{\fs12}when I touch in the UI I let my model know to choose a card
Dialogue: 0,0:56:16.26,0:56:19.18,yin,,0,0,0,, 我们基本上搞定了 \N{\fs12}and we’re pretty much good to go.
Dialogue: 0,0:56:19.18,0:56:23.23,yin,,0,0,0,, 我想我要做的都做了 分数我等下再处理 \N{\fs12}I think that’s all I had to show, yeah, we’ll, we’ll do the score in a second here.
Dialogue: 0,0:56:23.23,0:56:26.19,yin,,0,0,0,, 分数确实需要 但这之前 \N{\fs12}We need to score, but before we do the score, let’s go ahead
Dialogue: 0,0:56:26.19,0:56:29.27,yin,,0,0,0,, 我们先来运行这个 确保它能工作 \N{\fs12}and run this and make sure that it’s working.
Dialogue: 0,0:56:29.27,0:56:33.87,yin,,0,0,0,, 我点它 得到的应该是随机纸牌 \N{\fs12}Okay, so when I click, hopefully I get a random card,
Dialogue: 0,0:56:33.87,0:56:37.18,yin,,0,0,0,, 再点它 应该得到相同的牌 \N{\fs12}and when I click again, hopefully it continues to be the same card.
Dialogue: 0,0:56:37.18,0:56:39.81,yin,,0,0,0,, 如果总得到随机纸牌 那就糟了 \N{\fs12}It’d be bad if that was constantly getting random card,
Dialogue: 0,0:56:39.81,0:56:42.18,yin,,0,0,0,, 但我们删掉了那部分代码 肯定不会是那样 \N{\fs12}but we know that we got rid of that code so it’s not going to do that.
Dialogue: 0,0:56:42.18,0:56:43.62,yin,,0,0,0,, 这里是 K\N{\fs12}So there’s a king,
Dialogue: 0,0:56:43.63,0:56:44.77,yin,,0,0,0,, 然后是 5\N{\fs12}five,
Dialogue: 0,0:56:44.77,0:56:46.64,yin,,0,0,0,,2 我们得到了两个梅花 \N{\fs12}two, okay, now we got two clubs right here.
Dialogue: 0,0:56:46.64,0:56:49.32,yin,,0,0,0,, 我可以这样做 哦 不能匹配 \N{\fs12}So I could do that, oh, didn’t match.
Dialogue: 0,0:56:49.32,0:56:51.92,yin,,0,0,0,, 为什么不能匹配上呢 \N{\fs12}So why don’t these match?
Dialogue: 0,0:56:51.92,0:56:53.21,yin,,0,0,0,, 它们应该匹配上 \N{\fs12}They should match.
Dialogue: 0,0:56:53.21,0:56:55.98,yin,,0,0,0,, 原因有人能够告诉我吗 请讲 \N{\fs12}And the answer, anyone want to tell me? Yeah?
Dialogue: 0,0:56:57.40,0:56:58.49,yin,,0,0,0,, 正是 \N{\fs12}Absolutely.
Dialogue: 0,0:56:58.49,0:57:01.90,yin,,0,0,0,, 我们唯一的匹配函数 是这个很糟糕的 match 函数 \N{\fs12}The only match function we have is this really bad match function,
Dialogue: 0,0:57:01.90,0:57:03.41,yin,,0,0,0,, 我们来看看 \N{\fs12}let’s go look at it.
Dialogue: 0,0:57:03.41,0:57:07.93,yin,,0,0,0,, 它在 Card 中 整个应用中就这唯一一个匹配函数 \N{\fs12}It’s right here in card, okay, this is the only match function
Dialogue: 0,0:57:07.93,0:57:10.04,yin,,0,0,0,, 它在 Card 中 整个应用中就这唯一一个匹配函数 \N{\fs12}that exists in our entire application
Dialogue: 0,0:57:10.04,0:57:13.37,yin,,0,0,0,, 它说 只有两张牌完全相等时才匹配 \N{\fs12}and it only says it’s a match if both cards are identical,
Dialogue: 0,0:57:13.37,0:57:15.88,yin,,0,0,0,, 这在我们的情况中永远无法成立 \N{\fs12}well that’s never going to be true in our thing,
Dialogue: 0,0:57:15.88,0:57:19.50,yin,,0,0,0,, 因为我们的牌堆中是 52 张不同的牌 \N{\fs12}because we have a deck of 52 cards, every single one is different.
Dialogue: 0,0:57:19.50,0:57:22.31,yin,,0,0,0,, 这将永远无法匹配上 怎么解决呢 \N{\fs12}So it’s never going to match. So how do we deal with this?
Dialogue: 0,0:57:22.31,0:57:27.45,yin,,0,0,0,, 我们需要告诉 PlayingCard 如何更好地匹配 \N{\fs12}Well we need to teach playing card how to be a better matcher.
Dialogue: 0,0:57:27.45,0:57:32.00,yin,,0,0,0,, 因为 Card 对 match 的这种实现根本不够 \N{\fs12}Because cards implementation of match is simply not sufficient.
Dialogue: 0,0:57:32.00,0:57:34.52,yin,,0,0,0,, 所以我们需要重写这个 \N{\fs12}So what we’re going to do is we’re going to override this,
Dialogue: 0,0:57:34.52,0:57:35.94,yin,,0,0,0,, 我们使用面向对象编程 \N{\fs12}we use object-oriented programming,
Dialogue: 0,0:57:35.94,0:57:38.36,yin,,0,0,0,, 我们在这里就是做这个 我将重写它 \N{\fs12}that’s what we’re here for, so we’re going to override it.
Dialogue: 0,0:57:38.36,0:57:40.50,yin,,0,0,0,, 我们来到 PlayingCard 这是 PlayingCard\N{\fs12}Let’s go to playing card, here’s playing card.
Dialogue: 0,0:57:40.50,0:57:45.90,yin,,0,0,0,, 注意到 PlayingCard 没有在公共 API 中声明 match\N{\fs12}Now, notice the playing card doesn’t declare match in its public API.
Dialogue: 0,0:57:45.92,0:57:48.18,yin,,0,0,0,, 它是从 Card 中继承得到的 \N{\fs12}It inherits it from card
Dialogue: 0,0:57:48.18,0:57:51.53,yin,,0,0,0,, 我不打算重新声明它 因为我只需要实现它 \N{\fs12}and I’m not going to redeclare it just because I’m going to implement it.
Dialogue: 0,0:57:51.53,0:57:56.97,yin,,0,0,0,, 我将到这里重新实现 match\N{\fs12}So I am going to go here and I’m going to re-implement match.
Dialogue: 0,0:57:56.97,0:58:00.02,yin,,0,0,0,, 它知道 match 是我继承的方法 \N{\fs12}It knows that match is method I inherit,
Dialogue: 0,0:58:00.02,0:58:02.30,yin,,0,0,0,, 因此 这里它能够自动补全 \N{\fs12}that’s why it was able to escape, complete it like that.
Dialogue: 0,0:58:02.30,0:58:05.07,yin,,0,0,0,, 但我不打算把它放入我的公共 API\N{\fs12}But I’m not going to put it in my public API
Dialogue: 0,0:58:05.07,0:58:06.63,yin,,0,0,0,, 这就是我们的一般做法 \N{\fs12}and that’s generally the way we do it.
Dialogue: 0,0:58:06.63,0:58:09.61,yin,,0,0,0,, 一般而言 如果你继承了一个公共方法 \N{\fs12}Generally, if you inherit a method and you, a public method,
Dialogue: 0,0:58:09.61,0:58:12.17,yin,,0,0,0,, 你重写它 你就不需要再把它放入你的头文件了 \N{\fs12}and you override it, you don’t have to put it in your header again.
Dialogue: 0,0:58:12.17,0:58:14.82,yin,,0,0,0,, 有些人的风格希望把它放到那里 \N{\fs12}Some stylistically would say, yes, put it in there,
Dialogue: 0,0:58:14.82,0:58:17.09,yin,,0,0,0,, 这样别人就知道你在重写它 \N{\fs12}so that someone knows that you override it.
Dialogue: 0,0:58:17.09,0:58:19.42,yin,,0,0,0,, 但大多数面向对象的人会说 \N{\fs12}But most object-oriented people would say
Dialogue: 0,0:58:19.42,0:58:21.89,yin,,0,0,0,, 你不需要知道你重写了它 \N{\fs12}you shouldn’t have to know that you override it.
Dialogue: 0,0:58:21.89,0:58:23.64,yin,,0,0,0,, 这是面向对象编程 \N{\fs12}Alright? This is object-oriented programming.
Dialogue: 0,0:58:23.64,0:58:24.97,yin,,0,0,0,, 你无需知道这个 \N{\fs12}You should not have to know that.
Dialogue: 0,0:58:24.97,0:58:29.08,yin,,0,0,0,, 你重写了 match 只是实现细节 \N{\fs12}That, that’s implementation detail that you happen to override match here.
Dialogue: 0,0:58:29.08,0:58:32.49,yin,,0,0,0,, 我是不将 match 写到 PlayingCard 中的支持者 \N{\fs12}So, I’m a fan of the not putting match in playing card,
Dialogue: 0,0:58:32.49,0:58:34.57,yin,,0,0,0,, 它已经在 PlayingCard 公共 API 中了 \N{\fs12}it’s already in playing cards public API
Dialogue: 0,0:58:34.57,0:58:36.62,yin,,0,0,0,, 因为这会继承自 Card\N{\fs12}because it inherits it from card.
Dialogue: 0,0:58:36.62,0:58:38.51,yin,,0,0,0,,match 中我们怎么做呢 \N{\fs12}Alright, so what are we going to do in match?
Dialogue: 0,0:58:38.51,0:58:40.32,yin,,0,0,0,, 我这里随便弄一个 \N{\fs12}Well, I’m going to have a really dumb match.
Dialogue: 0,0:58:40.32,0:58:42.09,yin,,0,0,0,, 你们在作业中需要设计个更好的 \N{\fs12}You’re going to need a better one for your homework.
Dialogue: 0,0:58:42.09,0:58:44.95,yin,,0,0,0,, 我这个笨拙的 match 将只匹配一张牌 \N{\fs12}My dumb match only can match one other cards.
Dialogue: 0,0:58:44.95,0:58:47.04,yin,,0,0,0,, 所以这里首先我要说的是 \N{\fs12}So and the first thing I’m going to say here,
Dialogue: 0,0:58:47.04,0:58:51.77,yin,,0,0,0,,int score = 0 以及 return score\N{\fs12}let’s go ahead and do int score equals zero and return score.
Dialogue: 0,0:58:51.77,0:58:53.93,yin,,0,0,0,, 然后我要说的第一件事是 \N{\fs12}The first thing I’m going to say is
Dialogue: 0,0:58:53.93,0:58:59.12,yin,,0,0,0,,if ([otherCards count] == 1)\N{\fs12}if other cards count [pause] equals one.
Dialogue: 0,0:58:59.12,0:59:02.09,yin,,0,0,0,, 我将只匹配一张牌 \N{\fs12}So I’m only going to match one other card.
Dialogue: 0,0:59:02.09,0:59:04.66,yin,,0,0,0,, 有两张牌 则没有匹配 \N{\fs12}If there’s two cards in there, no match.
Dialogue: 0,0:59:04.66,0:59:06.42,yin,,0,0,0,, 对我而言 太多了 \N{\fs12}Too, too much for me.
Dialogue: 0,0:59:06.42,0:59:09.07,yin,,0,0,0,, 所以我只处理这一张牌 \N{\fs12}So I’m just going to say this one thing.
Dialogue: 0,0:59:09.07,0:59:12.04,yin,,0,0,0,, 但我需要这另外一张牌 如何获得呢 \N{\fs12}Now, I need that other card though, how do I get the other card?
Dialogue: 0,0:59:12.04,0:59:14.17,yin,,0,0,0,, 我要说的是 \N{\fs12}I’m going to say card star other, in fact,
Dialogue: 0,0:59:14.17,0:59:20.27,yin,,0,0,0,,PlayingCard *otherCard =\N{\fs12}I’m going to say playing card star other card equals,
Dialogue: 0,0:59:20.27,0:59:22.39,yin,,0,0,0,, 这里我可以做很多事 \N{\fs12}and I could do a lot of things here.
Dialogue: 0,0:59:22.39,0:59:25.08,yin,,0,0,0,, 我可以说 otherCards[0]\N{\fs12}I could say other cards sub zero,
Dialogue: 0,0:59:25.09,0:59:28.44,yin,,0,0,0,, 但这里 我想使用一个我希望你们知道的方法 \N{\fs12}but I’m actually going to use a method here I want you to know
Dialogue: 0,0:59:28.44,0:59:31.29,yin,,0,0,0,, 叫作 firstObject\N{\fs12}called first object.
Dialogue: 0,0:59:31.29,0:59:34.84,yin,,0,0,0,,otherCards firstObject\N{\fs12}Other cards, first object.
Dialogue: 0,0:59:34.84,0:59:38.53,yin,,0,0,0,,firstObject 返回数组的第一个对象 \N{\fs12}Okay, first object returns the first object in an array.
Dialogue: 0,0:59:38.53,0:59:41.72,yin,,0,0,0,, 如果数组为空 它会返回 nil\N{\fs12}If the array is empty, it returns nil.
Dialogue: 0,0:59:41.72,0:59:44.81,yin,,0,0,0,, 这不同于 otherCards[0]\N{\fs12}That’s different than saying other cards sub zero.
Dialogue: 0,0:59:44.81,0:59:47.66,yin,,0,0,0,,otherCards[0] 在数组为空时会崩溃 \N{\fs12}Because if that array is empty, that will crash.
Dialogue: 0,0:59:47.66,0:59:49.16,yin,,0,0,0,, 导致数组下标越界错误 \N{\fs12}That will say array index out of bounds.
Dialogue: 0,0:59:49.16,0:59:50.16,yin,,0,0,0,, 明白这种差别吗 \N{\fs12}You see the difference?
Dialogue: 0,0:59:50.16,0:59:52.34,yin,,0,0,0,,firstObject 还有 lastObject\N{\fs12}First object, there’s also a last object,
Dialogue: 0,0:59:52.34,0:59:57.45,yin,,0,0,0,, 它们有这种避免数组下标越界的额外功效 \N{\fs12}they just have this magic piece to them that they don’t do array index out of bounds.
Dialogue: 0,0:59:57.45,0:59:59.79,yin,,0,0,0,,firstObject 会返回第一个对象或 nil\N{\fs12}But otherwise they return the first object or nil
Dialogue: 0,0:59:59.79,1:00:01.36,yin,,0,0,0,, 如果没有对象的话 \N{\fs12}if there are no objects in there.
Dialogue: 0,1:00:01.36,1:00:02.66,yin,,0,0,0,, 我想让你们知道这个 \N{\fs12}I just want you to know that.
Dialogue: 0,1:00:02.66,1:00:04.35,yin,,0,0,0,, 这里其实并不需要这样 \N{\fs12}I don’t actually need that here,
Dialogue: 0,1:00:04.35,1:00:06.83,yin,,0,0,0,, 因为我知道数组中有一个对象 \N{\fs12}because I know there’s one object in that array.
Dialogue: 0,1:00:06.83,1:00:09.70,yin,,0,0,0,, 所以这里并不必要 我可以说 otherCards[0]\N{\fs12}So this is not really necessary, I could say other card subzero,
Dialogue: 0,1:00:09.70,1:00:11.44,yin,,0,0,0,, 这里没有问题 我只是 \N{\fs12}I’d be okay here, but I’m just trying
Dialogue: 0,1:00:11.44,1:00:14.05,yin,,0,0,0,, 希望教给你们 firstObject 方法 仅此而已 \N{\fs12}to teach you the method first object, that’s all.
Dialogue: 0,1:00:14.05,1:00:15.80,yin,,0,0,0,, 这就得到了另一张牌 \N{\fs12}So I got this other card.
Dialogue: 0,1:00:15.80,1:00:18.96,yin,,0,0,0,, 我们来匹配它 好的匹配是怎样的呢 \N{\fs12}So let’s go ahead and match it, what’s a good match here?
Dialogue: 0,1:00:18.96,1:00:22.77,yin,,0,0,0,, 如果花色匹配上 我会给一点分数 \N{\fs12}Well, if the suits match, I’ll give a little bit of points,
Dialogue: 0,1:00:22.77,1:00:25.13,yin,,0,0,0,, 如果大小匹配上 我会给更多分数 \N{\fs12}but if the ranks match, I’m going to give a lot of points,
Dialogue: 0,1:00:25.13,1:00:26.66,yin,,0,0,0,, 这里我说 \N{\fs12}so, let’s say
Dialogue: 0,1:00:26.66,1:00:35.74,yin,,0,0,0,,if ([self.suit isEqualToString:otherCard.suit])\N{\fs12}if my self dot suit is equal to string the other card’s suit.
Dialogue: 0,1:00:35.74,1:00:38.24,yin,,0,0,0,, 这是花色匹配的情况 例如都是梅花 \N{\fs12}So the suits match, they’re both clubs.
Dialogue: 0,1:00:38.24,1:00:41.90,yin,,0,0,0,, 这时我将把分数 score 设为 1\N{\fs12}Then I’m going to say the score equals one.
Dialogue: 0,1:00:41.90,1:00:46.30,yin,,0,0,0,, 这里可以用 else 因为这里假设所有牌都不同 \N{\fs12}But, and we can say else or not, because we’re going to assume the cards are all different.
Dialogue: 0,1:00:46.30,1:00:50.06,yin,,0,0,0,, 如果牌一样 只得到花色匹配的分数 \N{\fs12}So if the cards are the same, then you’re only going to get a suit match,
Dialogue: 0,1:00:50.07,1:00:52.10,yin,,0,0,0,, 就会显得很荒谬 \N{\fs12}which doesn’t really make sense,
Dialogue: 0,1:00:52.10,1:00:54.84,yin,,0,0,0,, 但这里没问题 再有 if ([self.rank])\N{\fs12}but let’s say if self dot rank,
Dialogue: 0,1:00:54.84,1:00:56.58,yin,,0,0,0,, 噢 这里不需要发送消息 \N{\fs12}oops, we don’t need to send a message there
Dialogue: 0,1:00:56.58,1:01:00.38,yin,,0,0,0,,if (self.rank == otherCards.rank)\N{\fs12}if self dot rank equals the other cards rank,
Dialogue: 0,1:01:00.38,1:01:02.43,yin,,0,0,0,, 那我们就给 4 分 \N{\fs12}then let’s give four points.
Dialogue: 0,1:01:02.43,1:01:04.72,yin,,0,0,0,, 为什么是 4 分对 1 分呢 \N{\fs12}Now why do I give four versus one?
Dialogue: 0,1:01:04.72,1:01:06.79,yin,,0,0,0,, 想想这里的数学 \N{\fs12}Well, think of the math, right?
Dialogue: 0,1:01:06.79,1:01:09.81,yin,,0,0,0,, 你手里有一张梅花 牌堆里还有多少张梅花 \N{\fs12}If you have a club in your hand, how many other cards are there
Dialogue: 0,1:01:09.81,1:01:12.14,yin,,0,0,0,, 你手里有一张梅花 牌堆里还有多少张梅花 \N{\fs12}in a full deck that will match a club?
Dialogue: 0,1:01:12.14,1:01:17.26,yin,,0,0,0,,12 张 如果我有一张 K 还有多少 K\N{\fs12}12. If I have a king, how many other kings are there?
Dialogue: 0,1:01:17.26,1:01:18.38,yin,,0,0,0,,3 张 \N{\fs12}Three. Okay?
Dialogue: 0,1:01:18.38,1:01:23.32,yin,,0,0,0,,12:3 所以一整副牌中 匹配花色要容易四倍 \N{\fs12}So 12 versus 3, it’s four times easier to match that club, assuming you have a full deck.
Dialogue: 0,1:01:23.32,1:01:25.22,yin,,0,0,0,, 这里我只是随机选的数字 \N{\fs12}I’m just picking numbers kind of at random here.
Dialogue: 0,1:01:25.22,1:01:28.21,yin,,0,0,0,, 对于这里的评分 这并不糟糕 \N{\fs12}It’s, it’s not a bad choice for the scoring here,
Dialogue: 0,1:01:28.21,1:01:31.00,yin,,0,0,0,, 不过多数时候相对分值不能搞错 \N{\fs12}but most times trying to get these relative scoring right.
Dialogue: 0,1:01:31.00,1:01:32.01,yin,,0,0,0,, 有问题 \N{\fs12}Question?
Dialogue: 0,1:01:33.51,1:01:36.54,yin,,0,0,0,, 问题是 这里我是不是使用了固定数字 正是 \N{\fs12}Yeah, so the question is am I using magic numbering and absolutely.
Dialogue: 0,1:01:36.54,1:01:40.12,yin,,0,0,0,, 在我们的简单实现中 整个评分系统都是用的固定数字 \N{\fs12}And you probably, you know, this whole thing
Dialogue: 0,1:01:40.12,1:01:44.03,yin,,0,0,0,, 在我们的简单实现中 整个评分系统都是用的固定数字 \N{\fs12}of the scoring here is somewhat magic numbers in our simple implementation,
Dialogue: 0,1:01:44.03,1:01:46.94,yin,,0,0,0,, 你也许…\N{\fs12}you probably, although,
Dialogue: 0,1:01:46.94,1:01:49.98,yin,,0,0,0,, 这里并不一定要是固定数字 \N{\fs12}this, okay, this is not necessarily a magic number.
Dialogue: 0,1:01:49.98,1:01:55.38,yin,,0,0,0,, 如果你定义最简单的匹配得分为 1\N{\fs12}If you define match to say make the easiest match verse, verse, equal one,
Dialogue: 0,1:01:55.38,1:01:57.56,yin,,0,0,0,, 然后让更复杂的匹配 \N{\fs12}and then make any more difficult matches
Dialogue: 0,1:01:57.56,1:02:00.79,yin,,0,0,0,, 是它的乘数倍 例如像这样更难的情况 \N{\fs12}to be multiplicatively, you know, more difficult like this,
Dialogue: 0,1:02:00.79,1:02:01.99,yin,,0,0,0,, 那么这就是对的 \N{\fs12}then this is actually right,
Dialogue: 0,1:02:01.99,1:02:05.16,yin,,0,0,0,, 因为这个 4 对于扑克牌是基本的 \N{\fs12}because that four is fundamental to a playing card,
Dialogue: 0,1:02:05.16,1:02:09.49,yin,,0,0,0,, 这对于扑克牌的大小和花色是很基本的 \N{\fs12}it’s fundamental to how a playing card ranks and suits work, alright?
Dialogue: 0,1:02:09.49,1:02:11.30,yin,,0,0,0,, 只要你定义的匹配 \N{\fs12}So, assuming you define this match
Dialogue: 0,1:02:11.31,1:02:13.70,yin,,0,0,0,, 只匹配相同牌堆中的其它扑克牌 \N{\fs12}only match against other playing cards in this same deck,
Dialogue: 0,1:02:13.70,1:02:16.83,yin,,0,0,0,, 这个 4 是固定的 但它对于这个类是固定的 \N{\fs12}that four is magic, but it’s magic to this class.
Dialogue: 0,1:02:16.83,1:02:18.54,yin,,0,0,0,, 没错 你可以使用 #define\N{\fs12}So, yeah, you could put a pound sign define,
Dialogue: 0,1:02:18.54,1:02:21.11,yin,,0,0,0,, 但这并没有减弱它的固定性质 \N{\fs12}but that doesn’t make it any less of a magic number.
Dialogue: 0,1:02:21.11,1:02:23.49,yin,,0,0,0,, 它是固定的 但你可以把它用到这里 \N{\fs12}So it is magic, but you could put it in there.
Dialogue: 0,1:02:23.49,1:02:25.32,yin,,0,0,0,, 明白我说的了吗 明白差别了吗 \N{\fs12}You see what I’m saying, see the difference between that
Dialogue: 0,1:02:25.32,1:02:27.32,yin,,0,0,0,, 这不同于控制器中的 102\N{\fs12}like 102 in your controller
Dialogue: 0,1:02:27.32,1:02:31.51,yin,,0,0,0,, 尝试把情况设置成通用的牌堆 这有些不同 \N{\fs12}which is trying to be maybe generic decks, that’s a little different.
Dialogue: 0,1:02:31.51,1:02:33.29,yin,,0,0,0,, 问得很好 \N{\fs12}Good question though.
Dialogue: 0,1:02:33.29,1:02:35.30,yin,,0,0,0,, 这样 我们有了更好的匹配 \N{\fs12}Alright, so now we have a better match.
Dialogue: 0,1:02:35.30,1:02:41.38,yin,,0,0,0,, 下面我们回到控制器中 \N{\fs12}So now if we go back to our controller, so let’s do that.
Dialogue: 0,1:02:41.38,1:02:43.06,yin,,0,0,0,, 回到这里的屏幕 \N{\fs12}Just back on screen right here.
Dialogue: 0,1:02:43.08,1:02:45.43,yin,,0,0,0,, 然后运行 \N{\fs12}And run.
Dialogue: 0,1:02:48.32,1:02:51.91,yin,,0,0,0,, 但愿这里我们能够找到匹配 \N{\fs12}Hopefully now, let’s see if we can find a match.
Dialogue: 0,1:02:51.91,1:02:54.03,yin,,0,0,0,, 好 这里有张梅花 \N{\fs12}Okay, so there’s a club,
Dialogue: 0,1:02:54.03,1:02:56.55,yin,,0,0,0,, 这里也有一张梅花 将它们匹配起来 \N{\fs12}and this is a club so let’s match them, ready?
Dialogue: 0,1:02:56.55,1:02:57.95,yin,,0,0,0,, 哦 确实能匹配上 \N{\fs12}Oh! It matched!
Dialogue: 0,1:02:57.95,1:02:59.88,yin,,0,0,0,, 而且禁用了这两个按钮 \N{\fs12}And it even disabled them.
Dialogue: 0,1:02:59.88,1:03:02.21,yin,,0,0,0,, 但我不知道我得到了多少分 \N{\fs12}But I have no idea how many points I got
Dialogue: 0,1:03:02.21,1:03:04.06,yin,,0,0,0,, 因为这里没有显示分数 \N{\fs12}because there’s no score on here,
Dialogue: 0,1:03:04.06,1:03:06.95,yin,,0,0,0,, 显然我们需要分数 下面把分数加进来 \N{\fs12}so, obviously, we need a score, so let’s put the score in.
Dialogue: 0,1:03:06.95,1:03:09.73,yin,,0,0,0,, 希望现在你们能够很容易地想象到 \N{\fs12}Hopefully by now you can imagine easily
Dialogue: 0,1:03:09.73,1:03:11.30,yin,,0,0,0,, 我们应该如何加入分数 \N{\fs12}how we would do the score,
Dialogue: 0,1:03:11.30,1:03:13.19,yin,,0,0,0,, 很简单 就像翻牌计数一样 \N{\fs12}simple, just like flips,
Dialogue: 0,1:03:13.19,1:03:14.70,yin,,0,0,0,, 我们使用这里的标签 \N{\fs12}we just grab a label here
Dialogue: 0,1:03:14.70,1:03:19.11,yin,,0,0,0,, 把它拖到这里 这里改成分数：0\N{\fs12}and then drop it down in here, I’m going to say score zero,
Dialogue: 0,1:03:19.11,1:03:23.01,yin,,0,0,0,, 因为这就是最开始我想要的分数情况 \N{\fs12}because that’s what I wanted, oops, that’s what I wanted to say when we start up.
Dialogue: 0,1:03:23.01,1:03:25.80,yin,,0,0,0,, 确实 你可以在开始时加载这些字符串 \N{\fs12}And yes, it’s possible you could load these strings up at start up,
Dialogue: 0,1:03:25.80,1:03:31.29,yin,,0,0,0,, 后面几讲中我会讲到代码中何时何地这样做 \N{\fs12}we’ll talk about when and where to do that in your code in the next couple lectures.
Dialogue: 0,1:03:31.29,1:03:34.93,yin,,0,0,0,, 有了这个分数后 我显然需要能够同它通信 \N{\fs12}So I have this score, I obviously need to be able to talk to it,
Dialogue: 0,1:03:34.93,1:03:39.38,yin,,0,0,0,, 于是我 Control 拖动到接口创建一个 outlet\N{\fs12}so I control drag up here into my interface to create an outlet.
Dialogue: 0,1:03:39.38,1:03:41.11,yin,,0,0,0,, 松手 这个应该是 outlet\N{\fs12}I let go, this one wants to be an outlet,
Dialogue: 0,1:03:41.11,1:03:43.26,yin,,0,0,0,, 不是 outlet collection 而是 outlet\N{\fs12}not an outlet collection, but an outlet.
Dialogue: 0,1:03:43.26,1:03:46.65,yin,,0,0,0,, 我将它称作 scoreLabel(分数标签)\N{\fs12}I’m going to call it score label.
Dialogue: 0,1:03:46.65,1:03:47.78,yin,,0,0,0,, 它可以是弱的 \N{\fs12}It can be weak
Dialogue: 0,1:03:47.79,1:03:51.68,yin,,0,0,0,, 因为我们知道视图会指向它 它是 UILabel\N{\fs12}because we know that the view is going to point it, it is the UI label.
Dialogue: 0,1:03:51.68,1:03:53.33,yin,,0,0,0,, 这里有了它的 outlet\N{\fs12}There’s an outlet for it.
Dialogue: 0,1:03:53.33,1:03:56.12,yin,,0,0,0,, 我将在 updateUI 中更新它 \N{\fs12}I’m just going to update it in update UI.
Dialogue: 0,1:03:56.12,1:03:57.21,yin,,0,0,0,, 所以这里我说 \N{\fs12}So I’m going to say
Dialogue: 0,1:03:57.21,1:04:00.71,yin,,0,0,0,,self.scoreLabel = [NSString\N{\fs12}self dot score label equals NSString,
Dialogue: 0,1:04:00.71,1:04:04.93,yin,,0,0,0,,stringWithFormat:@”Score:%d”…\N{\fs12}string with format, we’ll say score colon percent d,
Dialogue: 0,1:04:04.93,1:04:07.36,yin,,0,0,0,, 分数从哪里得到 \N{\fs12}and where do we get the score?
Dialogue: 0,1:04:09.91,1:04:13.45,yin,,0,0,0,, 有人知道分数从哪里得到吗 \N{\fs12}Anyone know where we get the score?
Dialogue: 0,1:04:13.45,1:04:14.64,yin,,0,0,0,, 从 game 正是 \N{\fs12}From the game, exactly!
Dialogue: 0,1:04:14.64,1:04:17.55,yin,,0,0,0,, 从我们的模型 self.game.score\N{\fs12}From our model, self dot game dot score.
Dialogue: 0,1:04:19.23,1:04:22.60,yin,,0,0,0,, 下面我来展示一下 确保大家理解了 \N{\fs12}Now I’m going to go show that just to make sure everyone understands that.
Dialogue: 0,1:04:22.60,1:04:24.67,yin,,0,0,0,, 这是我的 CardMatchingGame\N{\fs12}Here’s my card matching game,
Dialogue: 0,1:04:24.67,1:04:30.71,yin,,0,0,0,, 记得吧 在它的公共 API 中有 score\N{\fs12}remember that in its public API, it has the score.
Dialogue: 0,1:04:30.71,1:04:34.47,yin,,0,0,0,, 选择时 我们会计分 \N{\fs12}And we’re keeping the score when we’re choosing.
Dialogue: 0,1:04:34.47,1:04:37.27,yin,,0,0,0,, 大家都明白了吗 \N{\fs12}Everybody cool with that?
Dialogue: 0,1:04:37.27,1:04:38.69,yin,,0,0,0,, 这就是了 \N{\fs12}So that’s it.
Dialogue: 0,1:04:38.69,1:04:42.14,yin,,0,0,0,, 更新分数要做的事我们都做了 \N{\fs12}That’s all we need to do here, to update the score.
Dialogue: 0,1:04:42.14,1:04:46.27,yin,,0,0,0,, 一般我们… 噢 这里需要 scoreLabel.text\N{\fs12}Normally we have, oops, this needs score label dot text.
Dialogue: 0,1:04:46.27,1:04:51.29,yin,,0,0,0,, 抱歉 我们需要 UILabel 类的 text 属性 \N{\fs12}Sorry. Alright, we need the text property of the UI label class
Dialogue: 0,1:04:51.29,1:04:53.54,yin,,0,0,0,, 我们会调用它的 setter 设置 text\N{\fs12}and we’re calling it setter here, set text,
Dialogue: 0,1:04:53.54,1:04:56.38,yin,,0,0,0,, 这就是这里发生的情况 设置分数 \N{\fs12}this is basically what’s happening here and setting the score.
Dialogue: 0,1:04:57.14,1:04:58.90,yin,,0,0,0,, 我还要做一件事 \N{\fs12}One other thing I’m going to do just
Dialogue: 0,1:04:58.90,1:05:03.49,yin,,0,0,0,, 也就是防止分数太大 把这个拉宽一些 然后运行 \N{\fs12}in case the score is really big, so make that wide, and run.
Dialogue: 0,1:05:03.49,1:05:06.73,yin,,0,0,0,, 我们以后会讲到 文本框如何 \N{\fs12}And we’ll talk about, by the way, text fields that get larger
Dialogue: 0,1:05:06.73,1:05:09.60,yin,,0,0,0,, 随你输入的文本而增大 \N{\fs12}when you put text in them and stuff like that,
Dialogue: 0,1:05:09.60,1:05:11.93,yin,,0,0,0,,iOS 中有处理这个的方式 \N{\fs12}there’s a way to handle that in iOS, as well,
Dialogue: 0,1:05:11.93,1:05:15.36,yin,,0,0,0,, 不过我们一次讲不了那么多内容 \N{\fs12}we’re not, we can’t talk about it, everything all at once though.
Dialogue: 0,1:05:15.36,1:05:16.39,yin,,0,0,0,, 这里我们看看 \N{\fs12}Alright, so let’s see here.
Dialogue: 0,1:05:16.39,1:05:17.07,yin,,0,0,0,,-1\N{\fs12}Minus one.
Dialogue: 0,1:05:17.07,1:05:18.48,yin,,0,0,0,, 为什么获得 -1 分 \N{\fs12}Why did I get minus one?
Dialogue: 0,1:05:18.48,1:05:20.34,yin,,0,0,0,, 因为翻牌是有成本的 \N{\fs12}Because I have a cost to flip.
Dialogue: 0,1:05:20.34,1:05:23.84,yin,,0,0,0,, 每次翻牌都有代价 \N{\fs12}So every time I flip a card, I got to pay, alright?
Dialogue: 0,1:05:23.84,1:05:26.96,yin,,0,0,0,, 这是黑桃 这也是黑桃 对吧 \N{\fs12}Now here’s a spade and here’s a spade, alright?
Dialogue: 0,1:05:26.96,1:05:29.12,yin,,0,0,0,, 我点这个之后 分数会是多少 \N{\fs12}So what’s going to be my score after I click this?
Dialogue: 0,1:05:29.12,1:05:32.17,yin,,0,0,0,, 点这个还是会花掉 1 分 \N{\fs12}Well, clicking this still going to cost me one, so that’s going
Dialogue: 0,1:05:32.17,1:05:35.49,yin,,0,0,0,, 这会让我的分数减少为 -6\N{\fs12}to make my score go down to minus six, but I’m going
Dialogue: 0,1:05:35.49,1:05:39.37,yin,,0,0,0,, 但匹配正确后我能得到 1 分乘以 4 分的红利 \N{\fs12}to get one point for matching times my match bonus of four,
Dialogue: 0,1:05:39.38,1:05:40.88,yin,,0,0,0,, 也就是 4 分 \N{\fs12}is four more points.
Dialogue: 0,1:05:40.88,1:05:43.04,yin,,0,0,0,, 所以我的分数应该是 -2\N{\fs12}So my score should be minus two.
Dialogue: 0,1:05:43.04,1:05:45.28,yin,,0,0,0,, 对吧 确实也是 \N{\fs12}Alright? And it is!
Dialogue: 0,1:05:45.28,1:05:48.71,yin,,0,0,0,, 很好 看看能否找到匹配的大小 \N{\fs12}Woohoo. Okay, and let’s see if we can find ranks that match.
Dialogue: 0,1:05:50.99,1:05:53.21,yin,,0,0,0,, 哦 这里有个 6 这里也有个 6\N{\fs12}Oh, there’s a six and here’s a six.
Dialogue: 0,1:05:53.21,1:05:56.39,yin,,0,0,0,, 我将让这两个匹配上 分数会变成多少 \N{\fs12}Okay, so I’m going to make these two match, so what’s this going to be?
Dialogue: 0,1:05:56.39,1:05:58.74,yin,,0,0,0,, 现在是 -9 点这个以后 \N{\fs12}Alright, so we’re at minus 9 now, when I click this one,
Dialogue: 0,1:05:58.74,1:06:01.37,yin,,0,0,0,, 分数降到 -10 但它们会匹配上 \N{\fs12}we’re going to be at minus 10, but they’re going to match.
Dialogue: 0,1:06:01.37,1:06:02.26,yin,,0,0,0,, 我将得到 4 分 \N{\fs12}I’m going to get four points
Dialogue: 0,1:06:02.26,1:06:05.79,yin,,0,0,0,, 乘以 4 分的红利 总共得 16 分 \N{\fs12}for the match times my match bonus of four is 16 points.
Dialogue: 0,1:06:05.79,1:06:07.56,yin,,0,0,0,, 因此分数将变成 +6\N{\fs12}So I’m going to be at plus 6.
Dialogue: 0,1:06:07.56,1:06:09.09,yin,,0,0,0,, 大家都同意吗 \N{\fs12}Everyone agree with that?
Dialogue: 0,1:06:09.93,1:06:12.82,yin,,0,0,0,, 没问题 分数为 +6\N{\fs12}And there we are, score plus six.
Dialogue: 0,1:06:14.00,1:06:15.72,yin,,0,0,0,, 这就完了 \N{\fs12}Alright, so that’s it.
Dialogue: 0,1:06:15.72,1:06:20.48,yin,,0,0,0,, 今天我要讲的就这些 最后还有一些幻灯片 \N{\fs12}That’s as much as I’m going to do and I’m, we got some slides here at the end,
Dialogue: 0,1:06:20.48,1:06:22.94,yin,,0,0,0,, 不过 demo 就这些了 \N{\fs12}but that’s it on the demo here.
Dialogue: 0,1:06:22.94,1:06:26.42,yin,,0,0,0,, 你们的作业是匹配两张或三张牌 \N{\fs12}And your assignment is going to be to make it
Dialogue: 0,1:06:26.42,1:06:28.53,yin,,0,0,0,, 你们的作业是匹配两张或三张牌 \N{\fs12}so you can match two cards or three cards,
Dialogue: 0,1:06:28.53,1:06:31.82,yin,,0,0,0,, 你可以在 UI 中加一个开关 \N{\fs12}you can have a little switch or some sort of UI
Dialogue: 0,1:06:31.82,1:06:35.23,yin,,0,0,0,, 在两张或三张牌的匹配之间切换 \N{\fs12}to choose between whether you’re matching two cards or three cards,
Dialogue: 0,1:06:35.23,1:06:39.54,yin,,0,0,0,, 这需要模型中改变一些逻辑 \N{\fs12}and so that’s going to require some change to your logic in your model.
Dialogue: 0,1:06:39.54,1:06:42.60,yin,,0,0,0,, 也需要更多一点的 UI\N{\fs12}It’s going to require a little bit of UI and it’s going
Dialogue: 0,1:06:42.60,1:06:46.40,yin,,0,0,0,, 还需要你的控制器将两者衔接起来 \N{\fs12}to require your controller to do a little bit of glue in between that.
Dialogue: 0,1:06:46.40,1:06:52.10,yin,,0,0,0,, 你还需要在这里加一个标签 描述这里发生了什么 \N{\fs12}You’re also going to be asked to add another label in here that says what’s going on.
Dialogue: 0,1:06:52.10,1:06:55.69,yin,,0,0,0,, 但我点这里时 它要告诉我 你选了红桃 7\N{\fs12}So when I click this, it should say you chose the seven of hearts.
Dialogue: 0,1:06:55.69,1:06:57.97,yin,,0,0,0,, 当我选这个时 它要告诉我 \N{\fs12}When I choose this, it should say
Dialogue: 0,1:06:57.97,1:07:02.72,yin,,0,0,0,, 红心 7 和梅花 2 无法匹配上 -2 诸如此类 \N{\fs12}seven hearts and two of clubs did not match, minus 2, or something like that.
Dialogue: 0,1:07:04.02,1:07:07.89,yin,,0,0,0,, 如果选了两张确实匹配的牌 \N{\fs12}So, if you pick two things that do match,
Dialogue: 0,1:07:07.89,1:07:09.98,yin,,0,0,0,, 例如 \N{\fs12}like,
Dialogue: 0,1:07:09.99,1:07:11.47,yin,,0,0,0,, 这两张红心 \N{\fs12}those two hearts,
Dialogue: 0,1:07:11.47,1:07:14.94,yin,,0,0,0,, 它应该说 红心 4 和红心 7 匹配 得多少分 \N{\fs12}it should say four of hearts, seven of hearts match for whatever points.
Dialogue: 0,1:07:14.94,1:07:15.29,yin,,0,0,0,, 有问题 \N{\fs12}Question?
Dialogue: 0,1:07:18.74,1:07:20.22,yin,,0,0,0,, 如何在设备上测试它 \N{\fs12}How would you test it on a device?
Dialogue: 0,1:07:20.22,1:07:23.24,yin,,0,0,0,, 我们在设备上运行一下试试 问得很好 \N{\fs12}Okay, let’s run this on a device actually. Great question.
Dialogue: 0,1:07:23.24,1:07:26.91,yin,,0,0,0,, 这里我连了一个设备 你可以看到 \N{\fs12}So I have a device attached over here, which you can see,
Dialogue: 0,1:07:26.91,1:07:30.11,yin,,0,0,0,, 它要求我更新 我们这里不会照做 \N{\fs12}and it’s asking me to update, which we’re not going to do right now,
Dialogue: 0,1:07:30.11,1:07:34.32,yin,,0,0,0,, 在 XCode 上面 你会看到一些 \N{\fs12}and if you look up at the top of XCode, you’ll see that there’s a
Dialogue: 0,1:07:34.32,1:07:37.02,yin,,0,0,0,, 不同的模拟器可供运行 \N{\fs12}bunch of different simulators you can run on
Dialogue: 0,1:07:37.02,1:07:39.74,yin,,0,0,0,, 你还可以在连接的设备上运行 \N{\fs12}and you can also run on a device if you have it attached,
Dialogue: 0,1:07:39.74,1:07:43.88,yin,,0,0,0,, 下周五我们或许将有一节课 \N{\fs12}and we’re going to have a Friday section probably next week,
Dialogue: 0,1:07:43.88,1:07:46.43,yin,,0,0,0,, 或下下周 我们会为你展示 \N{\fs12}or maybe the week after, where we’re going to show you how
Dialogue: 0,1:07:46.43,1:07:50.02,yin,,0,0,0,, 如何注册你的设备 并将所有这些设置好 \N{\fs12}to register your device if you don’t know how to do that and get this all set up.
Dialogue: 0,1:07:50.02,1:07:52.94,yin,,0,0,0,, 这可以说是一个预览 我将在 iPad 上运行 \N{\fs12}So this is a bit of a preview, but I’m going to actually run this on the iPad.
Dialogue: 0,1:07:52.94,1:07:58.78,yin,,0,0,0,, 我将选择 iPad 点击运行 它就会在 iPad 上运行了 \N{\fs12}So I just pick iPad, and hit Run, and it runs on the iPad.
Dialogue: 0,1:07:58.78,1:08:01.98,yin,,0,0,0,, 我以后会为大多数 demo 这样做 \N{\fs12}And I’m going to start doing this for most of the demos,
Dialogue: 0,1:08:01.98,1:08:05.98,yin,,0,0,0,, 在设备上运行 而不是在模拟器上 \N{\fs12}is running it on a device instead of running it in the simulator.
Dialogue: 0,1:08:05.98,1:08:09.39,yin,,0,0,0,, 这更好一些 因为屏幕更大 \N{\fs12}It’s a little nicer because the screens a bit, little bigger
Dialogue: 0,1:08:09.39,1:08:12.93,yin,,0,0,0,, 如这里所示 这是在我的 iPad 上 \N{\fs12}as you can see, and so here it is on my iPad here.
Dialogue: 0,1:08:12.93,1:08:16.59,yin,,0,0,0,, 我可以轻击它 噢 死机了 \N{\fs12}And so I can tap and oop, it crashes.
Dialogue: 0,1:08:16.59,1:08:18.33,yin,,0,0,0,, 这不是很好 \N{\fs12}Oh, well, that’s not good.
Dialogue: 0,1:08:18.33,1:08:21.26,yin,,0,0,0,, 我做错了什么 \N{\fs12}What did I do wrong here?
Dialogue: 0,1:08:21.26,1:08:23.52,yin,,0,0,0,, 我不知道哪里出了问题 \N{\fs12}Well, I don’t know what I did wrong, but I messed it
Dialogue: 0,1:08:23.52,1:08:26.13,yin,,0,0,0,, 反正过程中我搞砸了 很抱歉 \N{\fs12}up when I preset this up so I’m sorry about that,
Dialogue: 0,1:08:26.13,1:08:27.42,yin,,0,0,0,, 我会展示这个的 \N{\fs12}but I will show you that,
Dialogue: 0,1:08:27.42,1:08:32.74,yin,,0,0,0,, 下周三开始 我将在设备上运行所有这些东西 \N{\fs12}I’ll start running all my demos hopefully on a device starting with next Wednesday’s thing
Dialogue: 0,1:08:32.74,1:08:36.41,yin,,0,0,0,, 但愿到时候不会出现这样的错误 很抱歉 \N{\fs12}and hopefully I won’t make this mistake, sorry about that.
Dialogue: 0,1:08:36.41,1:08:38.34,yin,,0,0,0,, 无论如何 今天就到这里 \N{\fs12}Anyway, okay, so that’s it.
Dialogue: 0,1:08:38.34,1:08:39.72,yin,,0,0,0,, 还有问题吗 \N{\fs12}Any other questions about it?
Dialogue: 0,1:08:39.72,1:08:44.00,yin,,0,0,0,, 更多内容 请访问我校官网 stanford.edu\N{\fs12}For more, please visit us at Stanford.edu.
