[Script Info]
ScriptType: v4.00+

[V4+ Styles]
Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, AlphaLevel, Encoding
Style: Default,Arial,16,&Hffffff,&Hffffff,&H0,&H0,0,0,0,1,1,0,2,10,10,10,0,0

[Events]
Format: Layer, Start, End, Style, Text
Dialogue: 0,0:00:00.51,0:00:04.84,Default,[ Music ]
Dialogue: 0,0:00:05.34,0:00:06.33,Default,>> Announcer: Stanford\NUniversity.
Dialogue: 0,0:00:07.75,0:00:10.84,Default,>> Alright, well\Nwelcome to lecture 17
Dialogue: 0,0:00:10.84,0:00:14.00,Default,of CS193P, Fall 2013/14.
Dialogue: 0,0:00:14.53,0:00:17.45,Default,And today I'm going to spend\Njust a couple minutes typing
Dialogue: 0,0:00:17.45,0:00:20.52,Default,up some loose ends from\Nthe demo we had on Monday,
Dialogue: 0,0:00:20.52,0:00:24.89,Default,and then I'm going to talk about\Ntaking pictures with the camera.
Dialogue: 0,0:00:24.89,0:00:28.05,Default,And then we'll do\Na demo about that.
Dialogue: 0,0:00:28.70,0:00:31.62,Default,And that's basically PhotoMania,\Nwhat we kind of set this all
Dialogue: 0,0:00:31.62,0:00:32.89,Default,up for in our last demo.
Dialogue: 0,0:00:33.24,0:00:34.92,Default,Then we'll talk about\Ncore motion,
Dialogue: 0,0:00:35.02,0:00:38.60,Default,which is the accelerometer and\Nthe gyro and all that business,
Dialogue: 0,0:00:38.60,0:00:39.87,Default,and I'll have a demo of that.
Dialogue: 0,0:00:40.27,0:00:42.19,Default,And if time permitting\Nat the end here,
Dialogue: 0,0:00:42.19,0:00:44.98,Default,we'll talk a little bit about\Nthe application life cycle.
Dialogue: 0,0:00:45.52,0:00:48.25,Default,We talked about the view\Ncontroller life cycle
Dialogue: 0,0:00:48.25,0:00:50.31,Default,where it appears and\Ndisappears and all those things,
Dialogue: 0,0:00:50.31,0:00:52.40,Default,well the application\Nkind of, you know,
Dialogue: 0,0:00:52.40,0:00:55.05,Default,you come into the foreground,\Nyou run, then you go away,
Dialogue: 0,0:00:55.05,0:00:57.03,Default,then you go the background,\Nyou come back, so there's kind
Dialogue: 0,0:00:57.03,0:00:59.94,Default,of a life cycle there too,\Nwhich we can talk about briefly,
Dialogue: 0,0:01:00.59,0:01:04.40,Default,and I could even demo some\Nof that if we have time.
Dialogue: 0,0:01:04.98,0:01:07.95,Default,Alright, so let's\Ntalk about the demo.
Dialogue: 0,0:01:07.95,0:01:10.40,Default,I'm going to go back to\Nthe demo here real quick
Dialogue: 0,0:01:10.71,0:01:12.36,Default,and talk about two things.
Dialogue: 0,0:01:12.36,0:01:15.76,Default,One was cleaning up image URLs
Dialogue: 0,0:01:15.76,0:01:18.75,Default,because the way we do our\NURLs is we have this "getter"
Dialogue: 0,0:01:18.75,0:01:21.84,Default,for image URL, and any\Ntime someone wants a URL
Dialogue: 0,0:01:21.84,0:01:23.34,Default,for the image that's\Nin our image view,
Dialogue: 0,0:01:23.62,0:01:26.60,Default,why we just create a file\Non disc and return the URL.
Dialogue: 0,0:01:26.60,0:01:27.94,Default,So it's kind of on-demand.
Dialogue: 0,0:01:28.26,0:01:30.96,Default,Well, the problem is, what if\Nthey then take a different photo
Dialogue: 0,0:01:31.17,0:01:35.18,Default,or if this view controller goes\Noff screen and back on screen,
Dialogue: 0,0:01:35.18,0:01:36.68,Default,and someone picked\Nsomething else,
Dialogue: 0,0:01:36.68,0:01:39.45,Default,you don't want any\Nold URLs lying around.
Dialogue: 0,0:01:39.45,0:01:42.10,Default,So we need to clean\Nup those old URLs.
Dialogue: 0,0:01:42.10,0:01:44.87,Default,And the other thing I'm going to\Nshow you, just a brief bit more
Dialogue: 0,0:01:44.87,0:01:47.28,Default,about checking for\Nerrors in core location.
Dialogue: 0,0:01:47.50,0:01:50.09,Default,Okay? Because we did some\Nerror checking already,
Dialogue: 0,0:01:50.09,0:01:51.54,Default,but we could do just\Nslightly a bit more.
Dialogue: 0,0:01:51.54,0:01:55.45,Default,So let's go back to PhotoMania.
Dialogue: 0,0:01:56.20,0:01:58.30,Default,And let's look at that.
Dialogue: 0,0:01:58.52,0:02:01.29,Default,The cleaning up the image\Nstuff is really two things.
Dialogue: 0,0:02:01.29,0:02:03.95,Default,One, when we cancel, okay?
Dialogue: 0,0:02:03.95,0:02:08.19,Default,When we do our cancel to get out\Nof our modal view controller,
Dialogue: 0,0:02:08.19,0:02:10.03,Default,we're going to set\Nour image to nil,
Dialogue: 0,0:02:10.42,0:02:11.49,Default,and why are we going to do that?
Dialogue: 0,0:02:11.49,0:02:14.65,Default,That's because if you look\Nat our set image, down here,
Dialogue: 0,0:02:15.04,0:02:17.37,Default,we delete the URLs, right?
Dialogue: 0,0:02:17.71,0:02:21.12,Default,So whenever we change the image\Nthat's in our image view, right?
Dialogue: 0,0:02:21.23,0:02:22.38,Default,We delete the URLs.
Dialogue: 0,0:02:22.38,0:02:25.31,Default,This is something we did, kind\Nof it was a little rushed maybe
Dialogue: 0,0:02:25.31,0:02:28.83,Default,at the end, but we do\Ndelete our URLs there.
Dialogue: 0,0:02:29.26,0:02:31.70,Default,And that's because we've got\Na new image, so we're going
Dialogue: 0,0:02:31.70,0:02:34.08,Default,to delete the URLs for the\Nold image, and that will make,
Dialogue: 0,0:02:34.45,0:02:37.65,Default,we'll set our URL to nil, so\Nthat we'll make new URLs, right?
Dialogue: 0,0:02:37.65,0:02:39.11,Default,So this is where we're\Ngoing to clean up.
Dialogue: 0,0:02:39.11,0:02:40.46,Default,So we definitely want\Nto set that image
Dialogue: 0,0:02:40.46,0:02:41.62,Default,to nil when we cancel.
Dialogue: 0,0:02:42.02,0:02:44.24,Default,And the other thing is,\Nwhen we don't cancel,
Dialogue: 0,0:02:44.48,0:02:47.77,Default,when we actually prepare\Nfor segue and make a photo,
Dialogue: 0,0:02:48.04,0:02:50.41,Default,then we want to set\Nthe URLs to nil,
Dialogue: 0,0:02:50.88,0:02:53.09,Default,so that they don't\Nget deleted, okay?
Dialogue: 0,0:02:53.37,0:02:56.65,Default,Because here, we're reporting\Nthat URL back in the photo,
Dialogue: 0,0:02:56.65,0:02:58.37,Default,so we do not want\Nthat URL to delete.
Dialogue: 0,0:02:58.37,0:02:59.91,Default,So we're going to\Nset these to nil.
Dialogue: 0,0:03:00.00,0:03:03.45,Default,So that they won't get\Ndeleted at any point.
Dialogue: 0,0:03:03.73,0:03:06.79,Default,Okay? It's kind of like we\Nuse them, we use that URL,
Dialogue: 0,0:03:06.79,0:03:09.20,Default,so now we don't want to-- we\Nwant to just set it to nil.
Dialogue: 0,0:03:09.20,0:03:11.25,Default,So that was that, that's\Nthe only clean-up there
Dialogue: 0,0:03:11.68,0:03:12.33,Default,that was involved.
Dialogue: 0,0:03:12.69,0:03:15.89,Default,The other thing was this\Ncore location error checking,
Dialogue: 0,0:03:16.44,0:03:19.57,Default,and you can see, for example in\Nour should perform for segue,
Dialogue: 0,0:03:19.57,0:03:21.93,Default,I put a comment in here,\N"should check location
Dialogue: 0,0:03:21.93,0:03:23.31,Default,and image URL" too, right?
Dialogue: 0,0:03:23.31,0:03:24.01,Default,Because I already checked
Dialogue: 0,0:03:24.01,0:03:25.65,Default,to make sure we actually\Ntook a photo,
Dialogue: 0,0:03:25.99,0:03:30.17,Default,and that the person provided a\Ntitle, so I should also check
Dialogue: 0,0:03:30.35,0:03:33.13,Default,that the location, that\Nwe got a location, right?
Dialogue: 0,0:03:33.13,0:03:34.86,Default,Because remember that\Nlocation we're kind of getting
Dialogue: 0,0:03:34.86,0:03:38.88,Default,in the background is\Nasynchronously looking at GPS
Dialogue: 0,0:03:38.88,0:03:40.66,Default,or wi-fi or something\Nto get that location.
Dialogue: 0,0:03:40.66,0:03:42.75,Default,So here, when we hit\N"done," we've got
Dialogue: 0,0:03:42.75,0:03:44.24,Default,to make sure we actually\Ngot one.
Dialogue: 0,0:03:44.65,0:03:47.07,Default,And more than just\Ndetermining that we got it,
Dialogue: 0,0:03:47.35,0:03:49.71,Default,let's make sure there\Nwasn't a particular error.
Dialogue: 0,0:03:49.87,0:03:51.71,Default,And so there's a way\Nto watch for errors.
Dialogue: 0,0:03:51.71,0:03:53.81,Default,Here's where we create\Nour location manager,
Dialogue: 0,0:03:54.05,0:03:57.99,Default,and we only use this one\Ndelegate method right here.
Dialogue: 0,0:03:58.35,0:04:02.16,Default,But there is another\Nthing we could do,
Dialogue: 0,0:04:02.16,0:04:05.50,Default,which is we could implement\Nthis delegate method,
Dialogue: 0,0:04:05.50,0:04:08.30,Default,didFailWithError and that will\Ntell us any time the location
Dialogue: 0,0:04:08.30,0:04:09.58,Default,manager fails.
Dialogue: 0,0:04:09.76,0:04:10.91,Default,Fails to get a location.
Dialogue: 0,0:04:11.21,0:04:13.80,Default,And I'm just going to salt\Naway the error code that comes
Dialogue: 0,0:04:13.80,0:04:17.29,Default,in this NS error into\Nthis location error code,
Dialogue: 0,0:04:17.48,0:04:18.94,Default,which I'm going to\Nmake a property.
Dialogue: 0,0:04:19.57,0:04:20.86,Default,Okay so it's just an integer.
Dialogue: 0,0:04:20.86,0:04:22.54,Default,So I'm going to keep\Nthat error code,
Dialogue: 0,0:04:22.54,0:04:27.96,Default,and then down in done right\Nhere, okay, I am going to,
Dialogue: 0,0:04:27.96,0:04:29.31,Default,in addition to checking\Nthe title
Dialogue: 0,0:04:29.31,0:04:31.92,Default,and whether a photo was\Ntaken, here I'm going
Dialogue: 0,0:04:31.92,0:04:33.77,Default,to check the location.
Dialogue: 0,0:04:33.77,0:04:36.93,Default,And so if I didn't get a\Nlocation, if location is nil,
Dialogue: 0,0:04:36.93,0:04:39.82,Default,then I'm going to look at\Nthat error code that I got.
Dialogue: 0,0:04:39.92,0:04:43.19,Default,Now, it might be zero, which\Nis error location unknown,
Dialogue: 0,0:04:43.53,0:04:45.79,Default,in which case, what does\Nthat mean if the location--
Dialogue: 0,0:04:45.83,0:04:48.78,Default,if either I've never gotten\Nan error, or I got an error
Dialogue: 0,0:04:48.78,0:04:51.79,Default,and it said location\Nunknown, which is zero, well,
Dialogue: 0,0:04:51.95,0:04:53.58,Default,that means that it's\Nstill trying.
Dialogue: 0,0:04:53.74,0:04:55.36,Default,Okay? It hasn't gotten an error
Dialogue: 0,0:04:55.36,0:04:58.78,Default,that says I can't get the\Nlocation, but it's still trying,
Dialogue: 0,0:04:58.78,0:05:00.35,Default,so that's what we're\Ngoing to tell the user.
Dialogue: 0,0:05:00.35,0:05:03.55,Default,It's like I couldn't figure out\Nwhere this photo was taken, yet.
Dialogue: 0,0:05:04.11,0:05:07.91,Default,Okay? And if they say this is\Nan alert, so they'll click "ok"
Dialogue: 0,0:05:07.91,0:05:09.10,Default,and they'll be back\Nwhere they started,
Dialogue: 0,0:05:09.31,0:05:12.60,Default,they can try hitting done again,\Nand they just keep hitting done
Dialogue: 0,0:05:12.60,0:05:14.65,Default,and seeing if this keeps\Ncoming up until they get tired
Dialogue: 0,0:05:14.65,0:05:15.50,Default,of it and they hit cancel.
Dialogue: 0,0:05:16.08,0:05:17.79,Default,Okay? So that's one\Nerror situation.
Dialogue: 0,0:05:18.13,0:05:19.41,Default,Another one is "denied."
Dialogue: 0,0:05:19.41,0:05:22.22,Default,This shouldn't happen because\Nwe checked whether we were
Dialogue: 0,0:05:22.22,0:05:24.30,Default,authorized before, at the\Nvery beginning remember?
Dialogue: 0,0:05:24.30,0:05:27.23,Default,And we put a fatal alert up\Nif you weren't authorized.
Dialogue: 0,0:05:27.23,0:05:29.56,Default,But it's actually possible\Nthey could put this alert up,
Dialogue: 0,0:05:29.90,0:05:33.59,Default,go to settings, disable it,\Ncome back, and click "done,"
Dialogue: 0,0:05:34.05,0:05:35.03,Default,and then they'd be denied.
Dialogue: 0,0:05:35.49,0:05:38.83,Default,Okay? So that's pretty rare,\Nbut let's check for it anyway.
Dialogue: 0,0:05:39.14,0:05:40.94,Default,And if they do that, then\Nwe'll just tell them,
Dialogue: 0,0:05:40.97,0:05:43.94,Default,go back into privacy and turn\Nthat thing back on, okay?
Dialogue: 0,0:05:43.94,0:05:47.41,Default,So we could get a denied,\Nrare, the other one is network,
Dialogue: 0,0:05:47.72,0:05:50.09,Default,so this is-- we're trying\Nto find the location,
Dialogue: 0,0:05:50.43,0:05:52.96,Default,we can't get any GPS,\Nand they're not connected
Dialogue: 0,0:05:52.96,0:05:54.90,Default,to the network, so we\Ncan't use wi-fi either.
Dialogue: 0,0:05:55.24,0:05:57.94,Default,Okay? Or a cell site\Nfor that matter, okay,
Dialogue: 0,0:05:58.10,0:06:01.14,Default,so now we're really\Nstuck and the thing is
Dialogue: 0,0:06:01.14,0:06:04.20,Default,that the location services\Ncan detect that case,
Dialogue: 0,0:06:04.49,0:06:06.61,Default,and they'll actually\Nreport this error, network,
Dialogue: 0,0:06:06.84,0:06:10.35,Default,and we can tell the person still\Nwe can't-- same basic error,
Dialogue: 0,0:06:10.35,0:06:11.64,Default,we can't figure out where\Nthe photo was taken,
Dialogue: 0,0:06:11.64,0:06:12.71,Default,but at least we can suggest
Dialogue: 0,0:06:12.71,0:06:15.16,Default,that they verify your\Nconnection to the network, okay?
Dialogue: 0,0:06:15.16,0:06:17.90,Default,And oh, I forgot to turn wi-fi\Non, they turn wi-fi on, and oh,
Dialogue: 0,0:06:17.90,0:06:20.10,Default,now it's able to figure\Nout their location.
Dialogue: 0,0:06:20.64,0:06:24.29,Default,And otherwise, we're just going\Nto generically complain, okay?
Dialogue: 0,0:06:24.29,0:06:25.78,Default,That we couldn't figure it out.
Dialogue: 0,0:06:26.49,0:06:28.60,Default,Okay? So I just wanted to show\Nyou a little bit about getting
Dialogue: 0,0:06:28.60,0:06:32.12,Default,that error code using this\NdidFailWithError thing.
Dialogue: 0,0:06:32.68,0:06:34.92,Default,And in general, in demos\Nthat I do in this class,
Dialogue: 0,0:06:34.92,0:06:38.07,Default,obviously I hardly check any\Nerrors, it's just a time thing.
Dialogue: 0,0:06:38.34,0:06:40.47,Default,You should, any time you\Nget an NS error back,
Dialogue: 0,0:06:40.47,0:06:41.83,Default,you should go check\Nit and see what it is,
Dialogue: 0,0:06:41.83,0:06:43.52,Default,and go look in the\Ndocumentation and see what kind
Dialogue: 0,0:06:43.52,0:06:45.52,Default,of errors you could get back and\Nwhat you should do about them.
Dialogue: 0,0:06:45.75,0:06:46.43,Default,Should always do that.
Dialogue: 0,0:06:46.43,0:06:49.21,Default,I try to emphasize in the slides\Nwhen errors are really important
Dialogue: 0,0:06:49.21,0:06:52.68,Default,to check, but in general, we\Nshould always be checking those.
Dialogue: 0,0:06:53.47,0:06:55.40,Default,Okay? So that's it, that's all\NI wanted to show you there.
Dialogue: 0,0:06:55.98,0:06:57.59,Default,So back to our slides.
Dialogue: 0,0:06:57.78,0:06:58.64,Default,Any questions about that?
Dialogue: 0,0:06:59.32,0:06:59.46,Default,Yeah?
Dialogue: 0,0:06:59.85,0:07:02.45,Default,>> Does Apple provide a\Nservice where you could log,
Dialogue: 0,0:07:02.66,0:07:05.36,Default,sort of the statistics on the\Nerrors you get in your app
Dialogue: 0,0:07:05.70,0:07:07.01,Default,and you could [inaudible]\Nsome of it?
Dialogue: 0,0:07:07.34,0:07:09.97,Default,>> So the question is, does\NApple provide a service
Dialogue: 0,0:07:09.97,0:07:12.83,Default,where you can like log\Nthe errors you get,
Dialogue: 0,0:07:13.13,0:07:15.03,Default,for what purpose, to kind of so
Dialogue: 0,0:07:15.03,0:07:16.41,Default,that they know what\Nerrors people are-- ?
Dialogue: 0,0:07:16.41,0:07:18.04,Default,>> Well to know what kind\Nof errors [inaudible].
Dialogue: 0,0:07:18.42,0:07:20.72,Default,>> Oh, I see what you\Nmean, so you want to--
Dialogue: 0,0:07:21.00,0:07:23.88,Default,you have customers for your\Napp, and they're having errors,
Dialogue: 0,0:07:23.88,0:07:25.47,Default,and you want to find\Nout about them.
Dialogue: 0,0:07:25.47,0:07:27.16,Default,Apple doesn't provide\Nthat infrastructure,
Dialogue: 0,0:07:27.16,0:07:28.74,Default,but there are plenty of\Nthird parties who do.
Dialogue: 0,0:07:29.10,0:07:31.75,Default,That basically provide\Ncode you put into your app
Dialogue: 0,0:07:32.19,0:07:34.23,Default,that provide metrics,\Nnot just errors,
Dialogue: 0,0:07:34.23,0:07:36.03,Default,but how many times did\Npeople click on this button?
Dialogue: 0,0:07:36.03,0:07:38.38,Default,How many times did they go to\Nthis page, you know, et cetera,
Dialogue: 0,0:07:38.38,0:07:40.68,Default,so you can see how\Npeople are using your app.
Dialogue: 0,0:07:40.68,0:07:42.47,Default,That's actually quite important.
Dialogue: 0,0:07:42.47,0:07:45.91,Default,Obviously beyond the scope of\Nthis app, or of this lecture,
Dialogue: 0,0:07:45.97,0:07:49.07,Default,to talk about it, but I really\Nhighly recommend putting metrics
Dialogue: 0,0:07:49.07,0:07:51.46,Default,in your app so you really\Nunderstand how your real users
Dialogue: 0,0:07:51.46,0:07:52.51,Default,are actually using your app.
Dialogue: 0,0:07:52.87,0:07:55.13,Default,It's a little more work for\Nyou, but it's really worth it.
Dialogue: 0,0:07:56.22,0:08:00.10,Default,Um, okay, so...the camera.
Dialogue: 0,0:08:00.27,0:08:05.87,Default,So all this camera business\Nand basically getting images
Dialogue: 0,0:08:05.87,0:08:09.37,Default,into your app is done with this\Nclass UIImagePickerController,
Dialogue: 0,0:08:09.37,0:08:10.42,Default,which is a view controller.
Dialogue: 0,0:08:10.58,0:08:12.42,Default,Okay? It's a UI view controller\Nthat you're going to put
Dialogue: 0,0:08:12.42,0:08:15.28,Default,on screen, either\Nmodally or in a popover,
Dialogue: 0,0:08:15.79,0:08:20.15,Default,depending on whether you're in\NiPad or iPhone, and you're--
Dialogue: 0,0:08:20.15,0:08:22.18,Default,so this is the first time you're\Ngoing to have a view controller
Dialogue: 0,0:08:22.18,0:08:23.63,Default,that didn't come\Nout of a storyboard.
Dialogue: 0,0:08:24.12,0:08:25.60,Default,Okay? This view controller\Nyou're going
Dialogue: 0,0:08:25.60,0:08:26.29,Default,to alloc init, alright?
Dialogue: 0,0:08:26.29,0:08:28.47,Default,And then you're going to\Nwant to put it on screen,
Dialogue: 0,0:08:28.47,0:08:30.46,Default,so you're going to have to use\Nthis method that we did talk
Dialogue: 0,0:08:30.46,0:08:31.67,Default,about weeks ago when we talked
Dialogue: 0,0:08:31.67,0:08:33.53,Default,about presenting view\Ncontrollers called
Dialogue: 0,0:08:33.53,0:08:35.22,Default,"present view controller,\Nanimated."
Dialogue: 0,0:08:35.75,0:08:36.66,Default,Okay? Completion.
Dialogue: 0,0:08:36.66,0:08:37.82,Default,It's got a completion\Nblock as well.
Dialogue: 0,0:08:38.50,0:08:41.67,Default,And so that's how we're going\Nto put this thing on screen.
Dialogue: 0,0:08:41.75,0:08:44.71,Default,And the argument to present view\Ncontroller is a view controller,
Dialogue: 0,0:08:44.82,0:08:47.14,Default,not a storyboard identifier\Nfor a view controller,
Dialogue: 0,0:08:47.14,0:08:49.99,Default,but an actual instance of\Na view controller, okay?
Dialogue: 0,0:08:49.99,0:08:52.30,Default,And then the iPad\Nyou're probably going
Dialogue: 0,0:08:52.30,0:08:54.54,Default,to put the camera-- actually the\NiPad you probably put the camera
Dialogue: 0,0:08:54.54,0:08:56.96,Default,up full-screen modally,\Nif you're just looking
Dialogue: 0,0:08:56.96,0:08:58.06,Default,at the photo library,\Nyou're going
Dialogue: 0,0:08:58.06,0:08:59.58,Default,to probably put that\Nup in a popover.
Dialogue: 0,0:09:00.43,0:09:02.21,Default,Alright, so how does this work?
Dialogue: 0,0:09:02.64,0:09:05.41,Default,You alloc and init this\NUIImagePickerController,
Dialogue: 0,0:09:05.63,0:09:07.69,Default,you set it's delegate, you\Nhave to set it's delegate
Dialogue: 0,0:09:07.69,0:09:09.53,Default,or you're not going to get\Nany information out of it.
Dialogue: 0,0:09:09.86,0:09:12.75,Default,Then you configure it for\Nwhat you want, the camera,
Dialogue: 0,0:09:12.75,0:09:14.77,Default,or photo library, things like\Nthat, whether you're going
Dialogue: 0,0:09:14.77,0:09:17.09,Default,to let the user edit the\Nphoto after they take it.
Dialogue: 0,0:09:17.38,0:09:19.80,Default,Then you present it, and\Nlisten to the delegate,
Dialogue: 0,0:09:19.94,0:09:21.06,Default,and when the delegate tells you
Dialogue: 0,0:09:21.06,0:09:23.71,Default,that the user has either\Ncanceled or taken a photo,
Dialogue: 0,0:09:24.03,0:09:26.53,Default,then you, if they've taken a\Nphoto you get the image data,
Dialogue: 0,0:09:26.53,0:09:28.76,Default,and if they cancel you're\Nlike "Okay well they're done."
Dialogue: 0,0:09:29.53,0:09:32.65,Default,Alright? What the\Nuser can do, okay?
Dialogue: 0,0:09:32.65,0:09:34.12,Default,In this UIImagePickerController,
Dialogue: 0,0:09:34.12,0:09:36.40,Default,it depends on what\Ntheir hardware can do.
Dialogue: 0,0:09:36.63,0:09:40.09,Default,Almost everything has a camera\Nnow, so you're usually--
Dialogue: 0,0:09:40.15,0:09:42.60,Default,if this is going to be no\Nproblem, source type available,
Dialogue: 0,0:09:42.60,0:09:45.27,Default,camera, you're going to find it,
Dialogue: 0,0:09:45.47,0:09:46.98,Default,but you should always\Ncheck this anyway.
Dialogue: 0,0:09:47.18,0:09:49.98,Default,Just to kind of,\Nto be good code,
Dialogue: 0,0:09:49.98,0:09:52.61,Default,you want to call this\NUIImagePickerController,
Dialogue: 0,0:09:53.05,0:09:55.07,Default,class method is source type\Navailable, and we actually did
Dialogue: 0,0:09:55.07,0:09:56.12,Default,that in our demo last time.
Dialogue: 0,0:09:56.12,0:10:00.07,Default,Remember? We had that\Nclass method can add photo,
Dialogue: 0,0:10:00.07,0:10:01.55,Default,and in there we checked\Nto make sure
Dialogue: 0,0:10:01.55,0:10:03.12,Default,that the camera was\Nactually available,
Dialogue: 0,0:10:03.12,0:10:05.12,Default,so this is how you do it,\Njust this class method,
Dialogue: 0,0:10:05.30,0:10:06.42,Default,UIImagePickerController.
Dialogue: 0,0:10:07.64,0:10:10.12,Default,Once you know the camera is\Navailable, then if you want
Dialogue: 0,0:10:10.12,0:10:12.67,Default,to take video, you need\Nto be able to make sure
Dialogue: 0,0:10:12.67,0:10:15.17,Default,that camera can do video,\Nbecause there are cameras
Dialogue: 0,0:10:15.17,0:10:16.92,Default,in older devices that\Ncan't take video,
Dialogue: 0,0:10:16.92,0:10:18.12,Default,they can only take images.
Dialogue: 0,0:10:18.45,0:10:21.36,Default,And you do that with this class\Nmethod, "available media types
Dialogue: 0,0:10:21.36,0:10:23.64,Default,for source type," and the\Nsource type is the camera.
Dialogue: 0,0:10:23.84,0:10:25.91,Default,Okay? So it's going\Nto tell you, what are,
Dialogue: 0,0:10:25.91,0:10:27.17,Default,it's going to give\Nyou an array back
Dialogue: 0,0:10:27.46,0:10:29.29,Default,of what things this\Ncamera can do.
Dialogue: 0,0:10:29.29,0:10:32.02,Default,And you're only going to\Nhave one of two or both
Dialogue: 0,0:10:32.35,0:10:36.56,Default,of these two constants, UT\Ntype image, and UT type movie,
Dialogue: 0,0:10:36.84,0:10:38.77,Default,unfortunately, these\Ntwo constants come
Dialogue: 0,0:10:38.77,0:10:42.01,Default,from MobileCoreServices,\NMobileCoreServices.h,
Dialogue: 0,0:10:42.01,0:10:43.50,Default,they're not in foundation\Nor UI kits,
Dialogue: 0,0:10:43.50,0:10:46.15,Default,so you have to explicitly\Nimport this thing.
Dialogue: 0,0:10:46.15,0:10:49.78,Default,You've got to link in\Nthe MobileCoreServices,
Dialogue: 0,0:10:49.97,0:10:53.46,Default,but with the new mechanism in\NiOS7, that should get linked
Dialogue: 0,0:10:53.46,0:10:54.68,Default,in for you automatically.
Dialogue: 0,0:10:55.01,0:10:58.36,Default,And unfortunately, those\Ntwo things, kUTType image
Dialogue: 0,0:10:58.36,0:11:02.37,Default,and kUTType movie\Nare not NS strings,
Dialogue: 0,0:11:02.37,0:11:03.99,Default,they are core foundation\Nstrings, so we'll talk
Dialogue: 0,0:11:03.99,0:11:06.39,Default,about how we deal\Nwith that in our code
Dialogue: 0,0:11:06.39,0:11:07.29,Default,in a couple slides here.
Dialogue: 0,0:11:07.78,0:11:10.05,Default,You can also find out\Nabout front-facing
Dialogue: 0,0:11:10.05,0:11:12.73,Default,versus rear-facing cameras,\Nall kinds of details
Dialogue: 0,0:11:12.73,0:11:15.40,Default,about what your hardware\Nhas, just take a look
Dialogue: 0,0:11:15.40,0:11:17.33,Default,at the documentation for\NUIImagePickerController
Dialogue: 0,0:11:17.33,0:11:18.65,Default,and you can find that all out.
Dialogue: 0,0:11:18.89,0:11:19.45,Default,Is that a question?
Dialogue: 0,0:11:19.76,0:11:24.00,Default,>> Oh, does the view controller\Nprovide the ability for them
Dialogue: 0,0:11:24.00,0:11:25.91,Default,to select which camera they're\Ntaking the picture with?
Dialogue: 0,0:11:25.91,0:11:27.95,Default,Or do we have to set that\Nbefore we display it?
Dialogue: 0,0:11:28.48,0:11:32.12,Default,>> Uh, the view controller\Nwill provide UI for them
Dialogue: 0,0:11:32.12,0:11:33.65,Default,to pick front camera\Nor back camera,
Dialogue: 0,0:11:33.65,0:11:36.23,Default,but you can also say only let\Nthem take a selfie, right?
Dialogue: 0,0:11:36.23,0:11:37.98,Default,Only for, or whatever,\Nyou know what I'm saying?
Dialogue: 0,0:11:37.98,0:11:40.14,Default,You can just determine it,\Nbut they also have the--
Dialogue: 0,0:11:40.20,0:11:42.27,Default,if you don't determine\Nit, then they can choose.
Dialogue: 0,0:11:42.45,0:11:44.19,Default,So the answer is yes.
Dialogue: 0,0:11:44.19,0:11:46.30,Default,Alright, so this\Nis what it looks
Dialogue: 0,0:11:46.30,0:11:49.26,Default,like to configure the\NImagePickerController here,
Dialogue: 0,0:11:49.48,0:11:51.80,Default,so I'm creating one,\NI'm setting my delegate,
Dialogue: 0,0:11:51.98,0:11:53.79,Default,I'm checking the source\Ntype to see if the camera,
Dialogue: 0,0:11:54.21,0:11:57.43,Default,I want to do video here,\Nso I'm going to make sure
Dialogue: 0,0:11:57.43,0:12:00.04,Default,that it does video, and if\Nit does, I'm ready to go.
Dialogue: 0,0:12:00.35,0:12:01.91,Default,Okay? So that's a summary\Nof what I just said,
Dialogue: 0,0:12:02.23,0:12:04.94,Default,kind of in-code what I just\Nsaid on the last few slides.
Dialogue: 0,0:12:05.50,0:12:09.77,Default,Um, so let's talk about\Nthat kUTType movie
Dialogue: 0,0:12:10.00,0:12:13.30,Default,and kUTType image,\Nthey are CF strings.
Dialogue: 0,0:12:13.72,0:12:16.32,Default,You can just cast\Nthem to NS strings.
Dialogue: 0,0:12:16.32,0:12:19.64,Default,There is a bridging mechanism\Nbetween core foundation
Dialogue: 0,0:12:19.80,0:12:22.84,Default,and foundation, which\Nis what you're used to.
Dialogue: 0,0:12:23.19,0:12:26.87,Default,And so you can just put this\Ncast in here, and in iOS6 or 7,
Dialogue: 0,0:12:26.87,0:12:29.04,Default,they introduced a thing where\Nit will even do this bridging
Dialogue: 0,0:12:29.04,0:12:32.56,Default,for you automatically in\Nterms of arc and all that,
Dialogue: 0,0:12:32.56,0:12:34.65,Default,so you just need to cast that,\Nit's just something you need
Dialogue: 0,0:12:34.65,0:12:36.79,Default,to know, is to put\Nthe NS string star
Dialogue: 0,0:12:36.79,0:12:38.40,Default,in front of those two types.
Dialogue: 0,0:12:39.82,0:12:42.17,Default,Alright, editability-- so\Nwhen someone takes a picture
Dialogue: 0,0:12:42.17,0:12:44.22,Default,with the camera, they can\Nactually zoom in on it,
Dialogue: 0,0:12:44.22,0:12:47.02,Default,and move around and pick what\Npart of the image they want
Dialogue: 0,0:12:47.07,0:12:49.79,Default,to report back to your\Napp, if you allow that.
Dialogue: 0,0:12:49.79,0:12:52.06,Default,And you have to allow that\Nby saying allows editing
Dialogue: 0,0:12:52.06,0:12:54.66,Default,to your UIImagePickerController\Ninstance,
Dialogue: 0,0:12:54.66,0:12:57.88,Default,and you can also do things\Nlike limit the video capture
Dialogue: 0,0:12:57.88,0:13:00.47,Default,to be low resolution or\Nonly a certain number
Dialogue: 0,0:13:00.47,0:13:01.93,Default,of seconds, things like that.
Dialogue: 0,0:13:01.93,0:13:04.68,Default,So I'm not going to go through\Nevery single thing you can do
Dialogue: 0,0:13:04.68,0:13:06.55,Default,in UIImagePicker, but\Nthere's tons and tons
Dialogue: 0,0:13:06.55,0:13:08.10,Default,of stuff you can do with flash,
Dialogue: 0,0:13:08.27,0:13:10.15,Default,all these other things\Nyou can control.
Dialogue: 0,0:13:10.84,0:13:14.84,Default,So then, you have this\NUIImagePickerController
Dialogue: 0,0:13:14.84,0:13:17.56,Default,that you've instantiated\Nyourself as the delegate of,
Dialogue: 0,0:13:17.83,0:13:19.37,Default,now you present it, okay?
Dialogue: 0,0:13:19.62,0:13:24.18,Default,And so on the iPad, if you're\Nnot offering the camera,
Dialogue: 0,0:13:24.18,0:13:27.27,Default,so if you're-- sorry, we kind of\Nglossed over this a little bit--
Dialogue: 0,0:13:27.27,0:13:30.29,Default,you can offer to get a\Npicture from the camera,
Dialogue: 0,0:13:30.47,0:13:33.39,Default,or you can also offer the\Nuser to have a picture come
Dialogue: 0,0:13:33.39,0:13:35.19,Default,from their photo library, okay?
Dialogue: 0,0:13:35.19,0:13:39.23,Default,Which is this thing they\Nmanage in app on their device.
Dialogue: 0,0:13:39.39,0:13:41.25,Default,And so you can kind of\Npick either or both.
Dialogue: 0,0:13:41.25,0:13:43.41,Default,On the iPhone, you can ask\Nfor both at the same time,
Dialogue: 0,0:13:43.41,0:13:45.28,Default,so it will put up a UI\Nwhere you can kind of--
Dialogue: 0,0:13:45.59,0:13:47.17,Default,the user can pick\Nbetween the two.
Dialogue: 0,0:13:47.50,0:13:49.34,Default,On the iPad you don't\Ndo it that way.
Dialogue: 0,0:13:49.34,0:13:51.86,Default,On the iPad it's\Ncamera or photo library
Dialogue: 0,0:13:51.86,0:13:54.23,Default,because the photo library you're\Ngoing to bring up in a popover,
Dialogue: 0,0:13:54.44,0:13:56.43,Default,the camera you're probably\Ngoing to do full-screen modal.
Dialogue: 0,0:13:57.01,0:13:59.13,Default,Okay? So that's why you're\Nusually not mixing them
Dialogue: 0,0:13:59.54,0:14:00.22,Default,at the same time.
Dialogue: 0,0:14:00.88,0:14:04.89,Default,After the user has chosen a\Nphoto from by using the camera
Dialogue: 0,0:14:04.89,0:14:06.95,Default,or from their photo\Nlibrary, you're going
Dialogue: 0,0:14:06.95,0:14:09.33,Default,to get this delegate method,\NImagePickerController,
Dialogue: 0,0:14:09.33,0:14:11.23,Default,FinishPickingMediaWithInfo.
Dialogue: 0,0:14:11.68,0:14:15.44,Default,Okay? And you are then going to\Ndismiss that view controller.
Dialogue: 0,0:14:16.02,0:14:19.64,Default,Okay? So you have to manually\Ndismiss it right here,
Dialogue: 0,0:14:20.23,0:14:21.97,Default,but before you dismiss\Nit, you're going to look
Dialogue: 0,0:14:21.97,0:14:25.36,Default,into that dictionary that just\Npassed, this info dictionary,
Dialogue: 0,0:14:25.36,0:14:28.61,Default,and get the information\Nabout what camera,
Dialogue: 0,0:14:28.69,0:14:29.94,Default,what picture they\Ntook or whatever.
Dialogue: 0,0:14:30.33,0:14:32.78,Default,If they didn't, if they\Nhit cancel on the camera,
Dialogue: 0,0:14:33.19,0:14:33.84,Default,then you're just going
Dialogue: 0,0:14:33.84,0:14:35.61,Default,to get this\NimagePickerControllerDidCancel,
Dialogue: 0,0:14:35.71,0:14:38.03,Default,and there's no dictionary\Nthere, so you don't get
Dialogue: 0,0:14:38.03,0:14:39.55,Default,to find anything\Nabout the photo.
Dialogue: 0,0:14:39.55,0:14:42.29,Default,Again, if you're in a\Npopover, you're going
Dialogue: 0,0:14:42.29,0:14:45.43,Default,to use the popover did\Ndismiss popover business,
Dialogue: 0,0:14:45.59,0:14:47.69,Default,you'll do the same thing.
Dialogue: 0,0:14:48.46,0:14:50.76,Default,So what's in that\Ndictionary that you get back?
Dialogue: 0,0:14:50.96,0:14:54.35,Default,So if the user did finish\Npicking with info, what's in it,
Dialogue: 0,0:14:54.63,0:14:56.21,Default,there's the image\Nthat they took.
Dialogue: 0,0:14:56.42,0:14:59.46,Default,Both the edited image, if\Nthey zoomed in and cropped it,
Dialogue: 0,0:14:59.46,0:15:00.98,Default,and the original\Nimage, if they didn't--
Dialogue: 0,0:15:01.37,0:15:03.64,Default,whether they did or not, the\Noriginal image is in there.
Dialogue: 0,0:15:03.64,0:15:07.03,Default,If they cropped it, it will tell\Nyou the rectangle inside the
Dialogue: 0,0:15:07.03,0:15:08.29,Default,image that they cropped to.
Dialogue: 0,0:15:08.29,0:15:11.65,Default,If it's a video, you're\Ngoing to get a URL to a file,
Dialogue: 0,0:15:12.10,0:15:13.51,Default,with the video in there, okay?
Dialogue: 0,0:15:13.96,0:15:16.79,Default,So that's how video comes back\Nto you, as a URL to some file.
Dialogue: 0,0:15:17.40,0:15:21.26,Default,And you can, if you get\Nthese images, and you want
Dialogue: 0,0:15:21.26,0:15:24.32,Default,to save them, like in the\Nuser's photo library, that's--
Dialogue: 0,0:15:24.36,0:15:26.33,Default,API is in AL assets library.
Dialogue: 0,0:15:26.49,0:15:28.47,Default,Not going to cover that,\Nbut that's where the API is,
Dialogue: 0,0:15:28.47,0:15:30.91,Default,if you want to save it\Ninto their photo library.
Dialogue: 0,0:15:30.91,0:15:31.94,Default,Some picture they've taken.
Dialogue: 0,0:15:32.40,0:15:33.87,Default,Like in PhotoMania, we're\Nnot going to do that,
Dialogue: 0,0:15:33.87,0:15:37.21,Default,we're actually going to save\Nit into our own database, but--
Dialogue: 0,0:15:37.21,0:15:39.53,Default,and we're going to\Nsave our image
Dialogue: 0,0:15:39.53,0:15:42.07,Default,into our documents directory,\Nbut we could put things
Dialogue: 0,0:15:42.07,0:15:43.19,Default,in the photo library as well.
Dialogue: 0,0:15:43.79,0:15:48.29,Default,The camera can have an\Noverlay view on top of it.
Dialogue: 0,0:15:48.56,0:15:50.47,Default,Okay? This is a view\Nthat sits on top of it.
Dialogue: 0,0:15:50.47,0:15:52.47,Default,You can even provide\Nyour own buttons for like
Dialogue: 0,0:15:52.56,0:15:55.29,Default,"take picture" and\Nthings like that.
Dialogue: 0,0:15:55.29,0:15:59.55,Default,This is just a view,\Nand you also are going
Dialogue: 0,0:15:59.55,0:16:01.28,Default,to get this transform,\Nsee at the bottom there?
Dialogue: 0,0:16:01.28,0:16:07.20,Default,Camera view transform, in\Ncase you want the image
Dialogue: 0,0:16:07.20,0:16:09.26,Default,that the person's taking,\Nfor example, to be scaled
Dialogue: 0,0:16:09.26,0:16:12.18,Default,up to full screen,\Nbecause the aspect ratio
Dialogue: 0,0:16:12.18,0:16:15.73,Default,of the phone itself is not\Nthe same as the camera,
Dialogue: 0,0:16:15.73,0:16:16.95,Default,so it won't be full screen.
Dialogue: 0,0:16:16.95,0:16:18.66,Default,You'll see there will kind\Nof be some borders around it,
Dialogue: 0,0:16:18.66,0:16:20.23,Default,when people like to zoom\Nit up to full screen,
Dialogue: 0,0:16:20.23,0:16:22.40,Default,you could do the\Ntransform to do that.
Dialogue: 0,0:16:22.73,0:16:24.44,Default,If, in your overlay view,
Dialogue: 0,0:16:24.44,0:16:27.26,Default,you provide the "take picture"\Nbutton, then you want to say
Dialogue: 0,0:16:27.26,0:16:28.38,Default,"show camera controls,
Dialogue: 0,0:16:28.38,0:16:31.45,Default,no" otherwise you'll have the\Ntake picture button from iOS
Dialogue: 0,0:16:31.45,0:16:32.81,Default,and also your own\Ntake picture button.
Dialogue: 0,0:16:33.85,0:16:37.54,Default,Okay? So overlays, you can\Nlook those up offline as well.
Dialogue: 0,0:16:37.54,0:16:39.30,Default,We're not going to\Ndo those in the demo.
Dialogue: 0,0:16:39.59,0:16:43.19,Default,Let's go ahead and add this\Nphoto taking to PhotoMania.
Dialogue: 0,0:16:43.65,0:16:47.39,Default,And this action sheet thing,\Nwe'll see how the time goes,
Dialogue: 0,0:16:47.39,0:16:49.14,Default,whether we do the action sheet.
Dialogue: 0,0:16:49.94,0:16:51.83,Default,Alright, so here we\Nare in PhotoMania,
Dialogue: 0,0:16:51.94,0:16:56.10,Default,and if you remember here,\Nlet's go ahead and go
Dialogue: 0,0:16:56.10,0:17:00.39,Default,over here...and remind\Nourselves what it looked
Dialogue: 0,0:17:00.39,0:17:07.20,Default,like right now...just...take\Nthis around...Alright
Dialogue: 0,0:17:11.46,0:17:15.71,Default,so we have our photos here, we\Nhaven't taken any photos yet.
Dialogue: 0,0:17:16.51,0:17:18.82,Default,Hopefully, this is probably\Nloading in the background
Dialogue: 0,0:17:18.82,0:17:20.98,Default,as well, yeah, there\Nit is, from Flickr.
Dialogue: 0,0:17:21.39,0:17:24.57,Default,But if I look at my photos,\NI can see I don't have any,
Dialogue: 0,0:17:24.57,0:17:26.03,Default,but I have the camera in\Nthe corner, so I'm going
Dialogue: 0,0:17:26.03,0:17:28.52,Default,to press the camera,\Nwe put that photo in.
Dialogue: 0,0:17:28.52,0:17:30.29,Default,And see you notice it\Nsaying "PhotoMania would
Dialogue: 0,0:17:30.29,0:17:32.57,Default,like to use your\Ncurrent location" okay?
Dialogue: 0,0:17:32.57,0:17:34.87,Default,And I'm going to say\N"Ok," if I said "no,"
Dialogue: 0,0:17:34.87,0:17:38.47,Default,we probably would have to\Nput up this fatal error
Dialogue: 0,0:17:38.47,0:17:39.85,Default,that says you can't\Ntake a picture.
Dialogue: 0,0:17:39.85,0:17:42.85,Default,And what we want to do here is\Nyou see the "take photo" button?
Dialogue: 0,0:17:42.85,0:17:44.79,Default,I want to be able to press\Nthat "take photo" button
Dialogue: 0,0:17:44.98,0:17:47.21,Default,and have this\NUIImagePickerController come up.
Dialogue: 0,0:17:47.93,0:17:50.88,Default,Okay? So that's what\Nwe're going to do next.
Dialogue: 0,0:17:52.42,0:17:54.91,Default,Alright, so take photo,\Nwe actually wired that up
Dialogue: 0,0:17:55.47,0:17:58.56,Default,when we very first started\Nhere, where did we put it?
Dialogue: 0,0:17:59.26,0:18:01.63,Default,It is right...here.
Dialogue: 0,0:18:01.99,0:18:03.65,Default,Okay? And it doesn't\Ndo anything right now.
Dialogue: 0,0:18:04.06,0:18:05.26,Default,So what do we need to do here?
Dialogue: 0,0:18:05.52,0:18:07.51,Default,All those things I just\Ntold you in this slide.
Dialogue: 0,0:18:07.51,0:18:09.92,Default,So let's do a\NUIImagePickerController,
Dialogue: 0,0:18:10.66,0:18:12.63,Default,UIImagePickerController, UI,
Dialogue: 0,0:18:13.22,0:18:16.70,Default,image picker controller equals\NUIImagePickerController,
Dialogue: 0,0:18:17.15,0:18:18.45,Default,alloc init.
Dialogue: 0,0:18:18.45,0:18:22.61,Default,So we just alloc init, there\Nis no other thing we specify
Dialogue: 0,0:18:22.66,0:18:24.84,Default,when we initialize it,\Nthat's all we need to do.
Dialogue: 0,0:18:24.99,0:18:29.86,Default,And then we just need to set\Nup this UIImagePickerController
Dialogue: 0,0:18:29.86,0:18:32.21,Default,to specify any options we have.
Dialogue: 0,0:18:32.64,0:18:37.20,Default,And we also need to set\Nourselves as the delegate.
Dialogue: 0,0:18:37.20,0:18:38.50,Default,So I'm going to do that first.
Dialogue: 0,0:18:38.56,0:18:38.86,Default,And you're going
Dialogue: 0,0:18:38.86,0:18:40.52,Default,to see something\Ninteresting about this.
Dialogue: 0,0:18:40.95,0:18:43.39,Default,So we know that as soon as we\Nset ourselves as a delegate,
Dialogue: 0,0:18:43.39,0:18:44.52,Default,we're going to get this warning
Dialogue: 0,0:18:44.98,0:18:48.44,Default,that says we don't implement the\NUIImagePickerControllerDelegate
Dialogue: 0,0:18:48.44,0:18:48.78,Default,method.
Dialogue: 0,0:18:49.11,0:18:51.47,Default,Notice it also says\Nwe don't implement the
Dialogue: 0,0:18:51.47,0:18:53.52,Default,UINavigationControllerDelegate.
Dialogue: 0,0:18:54.26,0:18:56.28,Default,Okay? This is kind\Nof a weird thing
Dialogue: 0,0:18:56.28,0:18:57.66,Default,about the\NUIImagePickerController,
Dialogue: 0,0:18:57.66,0:19:00.46,Default,it inherits from\NUINavigationController,
Dialogue: 0,0:19:00.79,0:19:04.34,Default,so it inherits that delegate\Nmethod, and so it requires
Dialogue: 0,0:19:04.39,0:19:07.35,Default,that you be a delegate for both.
Dialogue: 0,0:19:07.68,0:19:10.26,Default,So I have to be\NNavigationControllerDelegate,
Dialogue: 0,0:19:10.61,0:19:13.40,Default,and I have to be the\NImagePickerControllerDelegate.
Dialogue: 0,0:19:13.84,0:19:17.16,Default,Now neither of those things\Nhave any mandatory methods,
Dialogue: 0,0:19:17.16,0:19:20.44,Default,so it's not that onerous but\Nthis is just an error that a lot
Dialogue: 0,0:19:20.44,0:19:21.09,Default,of people are like, "Huh?
Dialogue: 0,0:19:21.09,0:19:22.27,Default,Why is it saying that?"
Dialogue: 0,0:19:22.27,0:19:24.61,Default,It's just a weird thing about\NUIImagePickerController,
Dialogue: 0,0:19:24.99,0:19:27.11,Default,you have to be a\NNavigationControllerDelegate.
Dialogue: 0,0:19:27.11,0:19:28.76,Default,You're not going to implement\Nany of those methods,
Dialogue: 0,0:19:28.87,0:19:32.40,Default,just have to say you do\Nimplement that protocol.
Dialogue: 0,0:19:32.89,0:19:34.66,Default,So now we're the\Ndelegate, and we're going
Dialogue: 0,0:19:34.86,0:19:37.79,Default,to implement a couple of those\Nmethods in a minute, but first,
Dialogue: 0,0:19:37.79,0:19:40.49,Default,I'm going to finish\Nconfiguring this thing.
Dialogue: 0,0:19:40.76,0:19:41.73,Default,So what else am I going to do?
Dialogue: 0,0:19:41.73,0:19:43.94,Default,Well, I'm going to say\Nwhat media types I want,
Dialogue: 0,0:19:44.87,0:19:48.44,Default,and the only media type\NI want is an image.
Dialogue: 0,0:19:48.55,0:19:55.62,Default,I don't want video, so,\NkUTType what's it called, image?
Dialogue: 0,0:19:55.86,0:19:56.87,Default,Image. Yeah.
Dialogue: 0,0:19:57.79,0:20:00.95,Default,Okay? So this is an array,\Nbut the only one I'm putting
Dialogue: 0,0:20:00.95,0:20:03.48,Default,in there is this one thing,\Nand I'm doing this weird cast.
Dialogue: 0,0:20:04.01,0:20:07.63,Default,Okay? And then what else\Ndo I want to set up here?
Dialogue: 0,0:20:07.63,0:20:09.59,Default,I want to set up\Nthe source type,
Dialogue: 0,0:20:10.01,0:20:11.44,Default,which is I want the camera.
Dialogue: 0,0:20:11.91,0:20:15.65,Default,So this is\NImagePickerController,
Dialogue: 0,0:20:15.65,0:20:17.50,Default,SourceType, Camera.
Dialogue: 0,0:20:17.96,0:20:22.37,Default,Now, I could also say here\Nvertical bar UIImagePicker
Dialogue: 0,0:20:22.37,0:20:25.11,Default,SourceType PhotoLibrary, okay?
Dialogue: 0,0:20:25.39,0:20:26.94,Default,On the iPhone this\Nwould be fine,
Dialogue: 0,0:20:27.02,0:20:29.73,Default,where the UI would let me choose\Nfrom either of these two places.
Dialogue: 0,0:20:29.73,0:20:31.41,Default,I don't have anything\Nin my photo library
Dialogue: 0,0:20:31.41,0:20:33.46,Default,on my demo machine, so\Nit's kind of a waste.
Dialogue: 0,0:20:33.55,0:20:35.64,Default,And on the iPad I would\Nhave to do two separate UIs,
Dialogue: 0,0:20:35.64,0:20:37.68,Default,so I couldn't really\Ndo that there anyway.
Dialogue: 0,0:20:38.35,0:20:41.66,Default,I'm also going to\Nallow editing, why not?
Dialogue: 0,0:20:42.25,0:20:44.93,Default,Allows editing equals yes,\Nso that allows me to crop
Dialogue: 0,0:20:44.93,0:20:48.05,Default,and zoom in, allows the user to\Ncrop and zoom in on the image.
Dialogue: 0,0:20:48.38,0:20:49.10,Default,And that's it.
Dialogue: 0,0:20:49.10,0:20:53.46,Default,And now I just do this\NPresentViewController, okay?
Dialogue: 0,0:20:55.54,0:20:57.23,Default,Animated, yes.
Dialogue: 0,0:20:57.44,0:21:00.74,Default,Completion-- completion block,\Nagain, it would get called
Dialogue: 0,0:21:00.74,0:21:04.58,Default,as soon as the view did appear\Nhappened, so in other words,
Dialogue: 0,0:21:04.58,0:21:06.23,Default,once it was on screen,\Nthis would get called,
Dialogue: 0,0:21:06.23,0:21:07.58,Default,I don't need to do\Nanything then.
Dialogue: 0,0:21:08.22,0:21:09.16,Default,So we're done.
Dialogue: 0,0:21:09.90,0:21:13.42,Default,Okay? So this is going to\Ncause a modal view controller
Dialogue: 0,0:21:13.42,0:21:16.52,Default,to appear, and it takes over\Nthe screen, and it's going
Dialogue: 0,0:21:16.52,0:21:19.86,Default,to be the camera, and the user's\Neither going to have the option
Dialogue: 0,0:21:19.86,0:21:22.34,Default,of using the photo they\Ntake or hitting cancel.
Dialogue: 0,0:21:22.71,0:21:24.21,Default,So we have to handle\Nboth those cases.
Dialogue: 0,0:21:24.21,0:21:27.93,Default,So let's do the cancel case\Nfirst, because it's really easy.
Dialogue: 0,0:21:28.24,0:21:33.93,Default,And we do that with this one\Nright here...this is right here,
Dialogue: 0,0:21:33.93,0:21:35.37,Default,ImagePickerController DidCancel.
Dialogue: 0,0:21:35.37,0:21:36.87,Default,You can see there's\Nonly two methods here,
Dialogue: 0,0:21:36.87,0:21:38.63,Default,there's an old deprecated\None there,
Dialogue: 0,0:21:38.63,0:21:39.66,Default,but there's only these two.
Dialogue: 0,0:21:39.66,0:21:40.99,Default,Those are the two we're\Ngoing to implement.
Dialogue: 0,0:21:41.56,0:21:43.92,Default,So in cancel, our\Nonly responsibility is
Dialogue: 0,0:21:43.92,0:21:44.98,Default,to dismiss this thing.
Dialogue: 0,0:21:45.44,0:21:47.24,Default,Okay? Because we're not going\Nto use the photo or anything
Dialogue: 0,0:21:47.24,0:21:50.64,Default,like that, so I'm going to say\Ndismiss, yes, completion again,
Dialogue: 0,0:21:50.64,0:21:52.95,Default,I don't need the\Ncompletion handler there.
Dialogue: 0,0:21:52.95,0:21:54.06,Default,Okay? So that's an easy one.
Dialogue: 0,0:21:54.63,0:21:56.75,Default,And then the other one,
Dialogue: 0,0:21:57.12,0:22:01.28,Default,this guy...this is the\NDidFinishPickingMedia WithInfo,
Dialogue: 0,0:22:01.28,0:22:03.89,Default,so we've got this\Ndictionary right here,
Dialogue: 0,0:22:03.89,0:22:05.27,Default,that provides the information
Dialogue: 0,0:22:05.27,0:22:07.16,Default,about the photo that\Nthe user chose.
Dialogue: 0,0:22:07.16,0:22:09.20,Default,So the user did choose\Na photo in this case.
Dialogue: 0,0:22:09.20,0:22:10.16,Default,So this one's easy too.
Dialogue: 0,0:22:10.16,0:22:13.20,Default,We're just going to\Nsay image equals info
Dialogue: 0,0:22:13.20,0:22:18.72,Default,UIImagePickerController,\Nedited image.
Dialogue: 0,0:22:18.72,0:22:22.30,Default,Okay? So this is a key\Ninto this dictionary.
Dialogue: 0,0:22:22.90,0:22:25.15,Default,Right? And that's\Nthe edited image,
Dialogue: 0,0:22:25.45,0:22:27.35,Default,the UI image the user edited.
Dialogue: 0,0:22:27.77,0:22:30.61,Default,Now, I'm also going\Nto say if not image,
Dialogue: 0,0:22:30.93,0:22:35.30,Default,then the image equals the\Ninfo UIImagePickerController
Dialogue: 0,0:22:35.57,0:22:36.64,Default,original image.
Dialogue: 0,0:22:36.95,0:22:38.09,Default,Okay? Why am I doing this?
Dialogue: 0,0:22:38.42,0:22:40.76,Default,Because I allow editing\Nright here, okay?
Dialogue: 0,0:22:40.76,0:22:42.71,Default,So I know I'm going to\Nget this edited image.
Dialogue: 0,0:22:43.12,0:22:45.85,Default,Well, someday I might\Nturn this to no,
Dialogue: 0,0:22:46.27,0:22:47.70,Default,and then my code\Nhere would break.
Dialogue: 0,0:22:48.18,0:22:49.56,Default,So I'm just trying\Nto make code here
Dialogue: 0,0:22:49.83,0:22:50.98,Default,that would work in either case.
Dialogue: 0,0:22:50.98,0:22:53.80,Default,It costs no skin off my nose to\Nput this line of code in here,
Dialogue: 0,0:22:53.99,0:22:55.85,Default,and it will make it so\Nif it ever changes to no,
Dialogue: 0,0:22:56.01,0:22:57.27,Default,then this is going\Nto still work.
Dialogue: 0,0:22:57.66,0:22:59.62,Default,Okay? Doesn't hurt\Nme if I don't.
Dialogue: 0,0:23:00.01,0:23:01.89,Default,Alright, so I got the\Nimage, so I'm just going
Dialogue: 0,0:23:01.89,0:23:03.88,Default,to say help equals image, image,
Dialogue: 0,0:23:03.88,0:23:06.55,Default,remember that we have\Nthis property set
Dialogue: 0,0:23:06.65,0:23:10.34,Default,that we implement the setter and\Ngetter for, which is right here.
Dialogue: 0,0:23:10.86,0:23:13.37,Default,Okay? Which is just setting\Nthe image view's image.
Dialogue: 0,0:23:13.70,0:23:16.06,Default,Okay? If we're setting\Nit to something new,
Dialogue: 0,0:23:16.06,0:23:20.24,Default,then it's deleting the old URL,\Nwe showed that already today.
Dialogue: 0,0:23:20.76,0:23:24.53,Default,So...we set our image, and then\Nwe dismiss [tapping sounds].
Dialogue: 0,0:23:28.47,0:23:32.06,Default,Okay? And that's it.
Dialogue: 0,0:23:32.82,0:23:34.80,Default,So using the camera,\Nquite straightforward.
Dialogue: 0,0:23:34.80,0:23:36.71,Default,Once you understand that you\Nhave to do this delegate thing
Dialogue: 0,0:23:37.18,0:23:40.46,Default,to get the results out of there,\Nit's pretty straightforward.
Dialogue: 0,0:23:40.46,0:23:42.34,Default,So let's try and see if\Nwe can make this work
Dialogue: 0,0:23:42.34,0:23:42.95,Default,[background sounds].
Dialogue: 0,0:23:42.95,0:23:49.22,Default,Let's-- here something to\Ntake a picture of here.
Dialogue: 0,0:23:49.80,0:23:52.46,Default,Alright, so we'll go to My\NPhotos, I'm going to go here,
Dialogue: 0,0:23:52.46,0:23:53.68,Default,and I'm going to take a photo.
Dialogue: 0,0:23:53.68,0:23:56.04,Default,We're going to get this\NImagePickerController that's
Dialogue: 0,0:23:56.04,0:23:59.14,Default,going to come up Modally, so\Nhere's my picture controller,
Dialogue: 0,0:23:59.14,0:24:02.71,Default,so we'll-- 2002, that's\Nkind of old, but take it.
Dialogue: 0,0:24:02.83,0:24:04.26,Default,So I'm just going to\Ntake this picture.
Dialogue: 0,0:24:05.19,0:24:07.76,Default,Alright? That's a little blurry,\Nso I'll take another one.
Dialogue: 0,0:24:08.16,0:24:09.41,Default,That's a little better.
Dialogue: 0,0:24:09.66,0:24:11.77,Default,And I could zoom\Nin here, if I want.
Dialogue: 0,0:24:11.77,0:24:14.44,Default,Crop it, because I've\Nallowed user editing, right?
Dialogue: 0,0:24:14.44,0:24:15.05,Default,So we can do that.
Dialogue: 0,0:24:15.05,0:24:18.10,Default,And then once I got it the\Nway I want it, hit "use photo"
Dialogue: 0,0:24:18.31,0:24:20.21,Default,and it comes back and\Nsets in our image view.
Dialogue: 0,0:24:20.83,0:24:23.44,Default,One thing we also need to\Ndo is put in a title there,
Dialogue: 0,0:24:23.44,0:24:26.33,Default,but that's...let's\Ndo that real quick.
Dialogue: 0,0:24:26.88,0:24:28.69,Default,Giants. Alright.
Dialogue: 0,0:24:29.39,0:24:32.98,Default,Okay. There we go.
Dialogue: 0,0:24:33.76,0:24:37.22,Default,So now hopefully our photo,\Nthere's our thumbnail,
Dialogue: 0,0:24:37.60,0:24:39.43,Default,if we click, we can\Nsee the detail of it.
Dialogue: 0,0:24:40.48,0:24:43.09,Default,Okay? Any questions about that?
Dialogue: 0,0:24:43.60,0:24:44.96,Default,It's pretty straightforward,\Nthe camera thing.
Dialogue: 0,0:24:46.15,0:24:47.78,Default,Alright. Let's see\Nwhat time we've got.
Dialogue: 0,0:24:47.78,0:24:51.52,Default,Let's...I'm going to come\Nback to doing the action sheet
Dialogue: 0,0:24:51.57,0:24:53.51,Default,at the end, because\NI really want
Dialogue: 0,0:24:53.51,0:24:56.00,Default,to show you this other stuff\Nfirst, the core motion stuff,
Dialogue: 0,0:24:56.00,0:24:58.34,Default,and the action sheet, I think\Nyou mostly understand that,
Dialogue: 0,0:24:58.34,0:25:01.99,Default,so we'll come back\Nto this later.
Dialogue: 0,0:25:02.65,0:25:07.94,Default,So let's go keynote here, okay.
Dialogue: 0,0:25:08.48,0:25:11.13,Default,Alright. So core motion.
Dialogue: 0,0:25:12.42,0:25:16.29,Default,So, core motion is the API\Nfor accessing the hardware
Dialogue: 0,0:25:16.29,0:25:19.12,Default,on your device that\Ntells you about motion.
Dialogue: 0,0:25:19.28,0:25:21.74,Default,Okay? And there's a lot of\Ndifferent pieces of hardware,
Dialogue: 0,0:25:21.74,0:25:24.03,Default,actually, that senses\Nmotion on your device,
Dialogue: 0,0:25:24.08,0:25:26.71,Default,and some devices have\Nmore hardware than others.
Dialogue: 0,0:25:26.71,0:25:31.26,Default,Okay? So a lot of using\Ncore motion properly is kind
Dialogue: 0,0:25:31.26,0:25:33.62,Default,of understanding what your\Ndevice has, and how you're going
Dialogue: 0,0:25:33.62,0:25:35.36,Default,to use it, and if it\Ndoesn't have things,
Dialogue: 0,0:25:35.36,0:25:36.87,Default,can you still do\Nwhat you want to do?
Dialogue: 0,0:25:36.87,0:25:38.82,Default,Maybe not quite as\Nnicely, et cetera.
Dialogue: 0,0:25:39.26,0:25:43.54,Default,But, the primary\Ninputs to where--
Dialogue: 0,0:25:43.54,0:25:46.29,Default,to the motion of your\Ndevice, are the accelerometer,
Dialogue: 0,0:25:46.47,0:25:49.83,Default,which is just telling you the\Nacceleration of your device,
Dialogue: 0,0:25:49.83,0:25:54.35,Default,in X, Y, and Z. A gyro, which\Nis letting the device know
Dialogue: 0,0:25:54.35,0:25:57.27,Default,when it's being rotated, which\Nis an important thing for it
Dialogue: 0,0:25:57.30,0:26:00.05,Default,to know, and magnetometer,\Nwhich is telling it
Dialogue: 0,0:26:00.05,0:26:01.15,Default,"where is true north?"
Dialogue: 0,0:26:01.89,0:26:05.34,Default,Okay? So really it knows\Nwhere magnetic north is,
Dialogue: 0,0:26:05.34,0:26:08.60,Default,but if it knows your GPS\Nlocation, then it knows
Dialogue: 0,0:26:08.60,0:26:09.79,Default,where true north is as well.
Dialogue: 0,0:26:10.08,0:26:15.08,Default,So...the class that you\Nuse to get this information
Dialogue: 0,0:26:15.08,0:26:18.63,Default,about your device is called CM\NMotion Manager, kind of similar
Dialogue: 0,0:26:18.63,0:26:21.65,Default,to this CL Location\NManager, which is how we got
Dialogue: 0,0:26:21.65,0:26:23.84,Default,where the device\Nis in the world,
Dialogue: 0,0:26:24.34,0:26:26.51,Default,and you create it\Njust with alloc init.
Dialogue: 0,0:26:26.51,0:26:28.23,Default,You have to be a little\Ncareful with this thing,
Dialogue: 0,0:26:28.68,0:26:31.27,Default,because you can't really\Nhave two different places
Dialogue: 0,0:26:31.27,0:26:34.14,Default,in your app alloc initing one\Nof these things and asking
Dialogue: 0,0:26:34.14,0:26:37.53,Default,for different information\Nrates or something like that,
Dialogue: 0,0:26:37.57,0:26:38.88,Default,because the rate\Nat which it's going
Dialogue: 0,0:26:38.88,0:26:42.18,Default,to report its information\Nreally is something
Dialogue: 0,0:26:42.44,0:26:44.93,Default,that your whole application\Nneeds to be
Dialogue: 0,0:26:44.93,0:26:45.99,Default,on the same page about.
Dialogue: 0,0:26:46.40,0:26:48.73,Default,Okay? So you wouldn't\Nwant one place
Dialogue: 0,0:26:48.73,0:26:50.73,Default,in your application getting\Ndata really really fast,
Dialogue: 0,0:26:50.73,0:26:52.39,Default,because it's doing some\Nreally fine-tuned thing,
Dialogue: 0,0:26:52.39,0:26:53.75,Default,and the other wants\Nit really slow,
Dialogue: 0,0:26:53.75,0:26:54.76,Default,and then they're\Nkind of out of sync.
Dialogue: 0,0:26:54.76,0:26:57.14,Default,So some people would argue
Dialogue: 0,0:26:57.14,0:26:59.32,Default,that CM Motion Manager\Nshould just be global.
Dialogue: 0,0:26:59.32,0:27:01.75,Default,You should have some global\Nsomewhere, some class variable,
Dialogue: 0,0:27:01.75,0:27:03.35,Default,or your app delegate\Nor something.
Dialogue: 0,0:27:03.73,0:27:06.22,Default,I don't know that that's\Nstrictly necessary to go
Dialogue: 0,0:27:06.22,0:27:09.43,Default,that far, but it is something\Nwhere they can fight each other,
Dialogue: 0,0:27:09.43,0:27:12.34,Default,so you've got to be\Ncareful about doing that.
Dialogue: 0,0:27:12.34,0:27:14.66,Default,And that's just really because\Nthere's only one device,
Dialogue: 0,0:27:14.66,0:27:18.11,Default,and there's only one gyro\Nand one accelerometer,
Dialogue: 0,0:27:18.19,0:27:21.26,Default,and so it makes sense that\Nthis is a global resource,
Dialogue: 0,0:27:21.26,0:27:21.86,Default,in a sense.
Dialogue: 0,0:27:22.34,0:27:24.01,Default,So how to use the\NMotion Manager?
Dialogue: 0,0:27:24.25,0:27:26.16,Default,Just like Location Manager,
Dialogue: 0,0:27:26.23,0:27:29.10,Default,you check to see what hardware\Nis available, then you kind
Dialogue: 0,0:27:29.10,0:27:32.15,Default,of have two choices to\Nhow you want to do it.
Dialogue: 0,0:27:32.15,0:27:35.46,Default,You can set some sampling going,
Dialogue: 0,0:27:35.57,0:27:37.51,Default,and then poll the\NMotion Manager.
Dialogue: 0,0:27:37.79,0:27:40.83,Default,Okay? What's the current\Nacceleration due to gravity
Dialogue: 0,0:27:40.83,0:27:42.58,Default,in these three directions,\Nfor example.
Dialogue: 0,0:27:43.08,0:27:44.33,Default,Polling we don't like.
Dialogue: 0,0:27:44.33,0:27:47.19,Default,I have a slide on that, but you\Ncan see I'm going to blast right
Dialogue: 0,0:27:47.24,0:27:50.57,Default,by it, because polling-- not\Nso good-- as the second way,
Dialogue: 0,0:27:50.82,0:27:54.85,Default,which is that you basically\Nput a block on a queue
Dialogue: 0,0:27:54.85,0:27:58.36,Default,that will get called every\Ntime, at whatever rate you say,
Dialogue: 0,0:27:58.53,0:28:00.46,Default,to tell you here's the current\Nacceleration to gravity,
Dialogue: 0,0:28:00.46,0:28:02.58,Default,here's the current...just tell\Nyou over and over and over,
Dialogue: 0,0:28:02.58,0:28:04.40,Default,and you can set the rate\Nat which that's happening--
Dialogue: 0,0:28:04.61,0:28:05.81,Default,much better way to do that.
Dialogue: 0,0:28:06.06,0:28:07.30,Default,Especially since you can have
Dialogue: 0,0:28:07.30,0:28:09.26,Default,that block be executing\Non another queue.
Dialogue: 0,0:28:09.91,0:28:12.10,Default,Okay? Collecting the data,\Ncoalescing it, whatever,
Dialogue: 0,0:28:12.10,0:28:14.29,Default,and then communicating\Nback to the main queue,
Dialogue: 0,0:28:14.29,0:28:16.54,Default,maybe at a lower rate,\Nwhere it's updating the UI.
Dialogue: 0,0:28:17.23,0:28:20.15,Default,Okay? So mostly that's what\Nwe're going to focus on,
Dialogue: 0,0:28:20.15,0:28:22.84,Default,is the way of posting\Na block to a queue.
Dialogue: 0,0:28:23.08,0:28:26.23,Default,Okay? So how do you\Ncheck the availability?
Dialogue: 0,0:28:26.46,0:28:28.65,Default,There is this property
Dialogue: 0,0:28:28.65,0:28:32.94,Default,in CMMotionManager called\Naccelerometer available,
Dialogue: 0,0:28:32.94,0:28:35.26,Default,gyro available, magnetometer\Navailable,
Dialogue: 0,0:28:35.54,0:28:38.07,Default,and then the very important\Ndevice motion available,
Dialogue: 0,0:28:38.07,0:28:39.54,Default,and we will talk about\Nthat in a second.
Dialogue: 0,0:28:40.12,0:28:42.33,Default,How do you start\Nup these sensors?
Dialogue: 0,0:28:42.33,0:28:45.35,Default,If you don't call start\Naccelerometer updates,
Dialogue: 0,0:28:45.65,0:28:46.93,Default,it will not give\Nyou any updates.
Dialogue: 0,0:28:46.93,0:28:49.75,Default,And when you poll, you\Nwon't get any update--
Dialogue: 0,0:28:49.75,0:28:51.42,Default,any information that's\Nup to date.
Dialogue: 0,0:28:51.42,0:28:52.77,Default,So you have to start it.
Dialogue: 0,0:28:53.08,0:28:56.49,Default,Now, normally we're not going\Nto start it this way in poll,
Dialogue: 0,0:28:56.49,0:28:58.27,Default,we're going to start\Nit by giving it a block
Dialogue: 0,0:28:58.67,0:29:02.28,Default,to go call us every time,\Nyou know, at whatever rate.
Dialogue: 0,0:29:02.28,0:29:04.69,Default,So, but we do need to start it.
Dialogue: 0,0:29:04.69,0:29:06.45,Default,It's important to understand\Nyou have to start it.
Dialogue: 0,0:29:06.45,0:29:07.98,Default,If you don't start\Nit, you get no data.
Dialogue: 0,0:29:08.21,0:29:10.48,Default,You can also find out,
Dialogue: 0,0:29:10.71,0:29:12.62,Default,is the hardware currently\Ncollecting data?
Dialogue: 0,0:29:12.62,0:29:14.52,Default,In other words, is\Nthe accelerometer
Dialogue: 0,0:29:14.52,0:29:15.76,Default,on and collecting data?
Dialogue: 0,0:29:15.76,0:29:17.57,Default,Is the gyro on and\Ncollecting data?
Dialogue: 0,0:29:17.57,0:29:19.81,Default,So you can find out\Nthat as well.
Dialogue: 0,0:29:20.03,0:29:22.60,Default,And very importantly, you\Ncan stop it doing this.
Dialogue: 0,0:29:22.60,0:29:23.69,Default,Why is that important?
Dialogue: 0,0:29:24.02,0:29:26.72,Default,These things aren't free when\Nit comes to battery, okay?
Dialogue: 0,0:29:27.04,0:29:29.97,Default,Measuring the acceleration,\Nmeasuring the gyro, position,
Dialogue: 0,0:29:29.97,0:29:32.42,Default,all of that, it takes power.
Dialogue: 0,0:29:32.42,0:29:34.49,Default,And so you want to turn it\Noff when you're not using it.
Dialogue: 0,0:29:34.54,0:29:36.95,Default,Just exactly like the\NCLLocationManager, right?
Dialogue: 0,0:29:37.00,0:29:38.33,Default,Turn it off when\Nyou're not using it.
Dialogue: 0,0:29:39.06,0:29:41.08,Default,So here's the polling thing.
Dialogue: 0,0:29:41.08,0:29:43.26,Default,I have this slide, we're not\Nreally going to look at it,
Dialogue: 0,0:29:43.26,0:29:45.92,Default,but for each of the\Nthings, accelerometer, gyro,
Dialogue: 0,0:29:45.92,0:29:48.94,Default,magnetometer, and device motion,\Nwhich is the magic one I'm going
Dialogue: 0,0:29:48.94,0:29:51.79,Default,to talk about in a\Nmoment here, you can poll
Dialogue: 0,0:29:51.79,0:29:53.50,Default,and say "what's the\Ncurrent state of this?"
Dialogue: 0,0:29:53.50,0:29:54.55,Default,But you don't usually do that.
Dialogue: 0,0:29:54.55,0:29:58.89,Default,And now I'm going to talk about\Nthe magic thing before we talk
Dialogue: 0,0:29:58.89,0:30:03.00,Default,about posting the blocks on the\Nqueues, which is CMDeviceMotion.
Dialogue: 0,0:30:03.26,0:30:06.63,Default,Alright? If you had a\Ngyro and an accelerometer
Dialogue: 0,0:30:06.63,0:30:09.45,Default,and a magnetometer,\Nyou really know a lot
Dialogue: 0,0:30:09.54,0:30:11.30,Default,about this device's position.
Dialogue: 0,0:30:11.68,0:30:13.20,Default,Okay? Really a lot!
Dialogue: 0,0:30:13.20,0:30:15.13,Default,And in fact, you\Ncan use multiple
Dialogue: 0,0:30:15.13,0:30:18.70,Default,of those devices together\Nto get better information.
Dialogue: 0,0:30:18.81,0:30:20.73,Default,For example, let's talk\Nabout acceleration.
Dialogue: 0,0:30:21.67,0:30:23.35,Default,Really, there's an\Naccelerometer in there,
Dialogue: 0,0:30:23.35,0:30:26.10,Default,it's always measuring the\Nacceleration due to gravity,
Dialogue: 0,0:30:26.35,0:30:28.25,Default,which is 9.8 meters\Nper second squared.
Dialogue: 0,0:30:28.53,0:30:31.70,Default,So if you ask the raw\Naccelerometer what's the current
Dialogue: 0,0:30:31.70,0:30:33.30,Default,acceleration of this device?
Dialogue: 0,0:30:33.58,0:30:35.66,Default,It's always going\Nto give you 1 G
Dialogue: 0,0:30:35.83,0:30:37.43,Default,down toward the center\Nof the earth.
Dialogue: 0,0:30:37.91,0:30:40.00,Default,Okay? No matter what's\Nactually happening.
Dialogue: 0,0:30:40.00,0:30:43.01,Default,Now, if you are holding\Nyour device like this,
Dialogue: 0,0:30:43.01,0:30:44.77,Default,and you're going like\Nthis, you're also going
Dialogue: 0,0:30:44.77,0:30:46.76,Default,to have acceleration\Nin these other axes,
Dialogue: 0,0:30:46.76,0:30:49.31,Default,but you're always going to\Nhave that one pointing down.
Dialogue: 0,0:30:49.49,0:30:53.33,Default,So it's kind of like it's a\Nlittle bit difficult for you
Dialogue: 0,0:30:53.33,0:30:56.05,Default,to then figure out what's\Nthe user actually doing
Dialogue: 0,0:30:56.05,0:30:56.87,Default,with my device?
Dialogue: 0,0:30:56.87,0:30:59.00,Default,You see? Because you kind\Nof have to filter out with
Dialogue: 0,0:30:59.00,0:31:02.05,Default,like a low pass filter, the\Nacceleration due to gravity.
Dialogue: 0,0:31:02.34,0:31:05.71,Default,Well, you don't have to do\Nthat if you have a gyro.
Dialogue: 0,0:31:06.27,0:31:07.77,Default,Because if you have a gyro,
Dialogue: 0,0:31:08.02,0:31:11.76,Default,you know whether the\Ndevice is tilted now, okay?
Dialogue: 0,0:31:11.91,0:31:14.21,Default,And since you know whether\Nit's tilted, you can factor
Dialogue: 0,0:31:14.21,0:31:16.85,Default,out where the acceleration\Ndue to gravity is, you see?
Dialogue: 0,0:31:17.61,0:31:23.88,Default,Right? And so the CMDeviceMotion\Nis another thing you can ask
Dialogue: 0,0:31:23.88,0:31:26.17,Default,for, just like you can ask for\Nthe accelerometer or you can ask
Dialogue: 0,0:31:26.17,0:31:28.87,Default,for the gyro, you can ask for\Nthis magic CMDeviceMotion,
Dialogue: 0,0:31:29.15,0:31:31.98,Default,it's actually a conglomeration\Nof those other things.
Dialogue: 0,0:31:32.29,0:31:35.33,Default,Okay? And so for example\Nit can tell you what is the
Dialogue: 0,0:31:35.33,0:31:37.72,Default,acceleration of the device\Nwith gravity taken out.
Dialogue: 0,0:31:38.25,0:31:39.04,Default,So there's a property
Dialogue: 0,0:31:39.04,0:31:41.36,Default,in the CMDeviceMotion\Ncalled User Acceleration,
Dialogue: 0,0:31:41.46,0:31:44.81,Default,which is the acceleration of the\Ndevice, not including gravity.
Dialogue: 0,0:31:45.49,0:31:48.01,Default,You can also find out where\Ngravity is pointing based
Dialogue: 0,0:31:48.01,0:31:49.69,Default,on the device's current\Norientation.
Dialogue: 0,0:31:49.69,0:31:56.86,Default,Similarly, there's bias in there\Nfor rotation of the device.
Dialogue: 0,0:31:57.00,0:31:59.11,Default,Okay? Bias due to\Nelectronics of the device.
Dialogue: 0,0:31:59.33,0:32:01.54,Default,That can be taken out\Nusing the accelerometer.
Dialogue: 0,0:32:01.89,0:32:05.83,Default,So the gyros reported\Ninformation can also be helped
Dialogue: 0,0:32:06.10,0:32:08.33,Default,by the accelerometer, so\Nthey kind of help each other,
Dialogue: 0,0:32:08.68,0:32:11.43,Default,and you can also get more\Nsophisticated answers
Dialogue: 0,0:32:11.43,0:32:13.24,Default,about the position\Nof the device,
Dialogue: 0,0:32:13.24,0:32:15.03,Default,like roll, pitch and yaw.
Dialogue: 0,0:32:15.30,0:32:17.29,Default,Okay? You all know what\Nroll, pitch and yaw is?
Dialogue: 0,0:32:17.29,0:32:21.68,Default,Roll is this way, yaw is like\Nthis, pitch is like this, okay?
Dialogue: 0,0:32:21.94,0:32:23.49,Default,So now you really\Ncan find out where,
Dialogue: 0,0:32:23.49,0:32:25.12,Default,like almost this is\Nan airplane, right?
Dialogue: 0,0:32:25.12,0:32:27.99,Default,You can find it's roll,\Npitch and yaw in space.
Dialogue: 0,0:32:28.02,0:32:31.66,Default,Okay? And those are all possible\Nwhen you know where gravity is,
Dialogue: 0,0:32:31.80,0:32:33.07,Default,if you know where true north is,
Dialogue: 0,0:32:33.07,0:32:35.46,Default,you kind of have a reference\Npoint, all those things.
Dialogue: 0,0:32:35.46,0:32:37.68,Default,So CMDeviceMotion,\Nthat's where you're going
Dialogue: 0,0:32:37.68,0:32:42.62,Default,to do any sophisticated analysis\Nof things to position in space.
Dialogue: 0,0:32:43.33,0:32:45.98,Default,Okay? And you can go look\Nat the documentation,
Dialogue: 0,0:32:45.98,0:32:47.41,Default,you can see already\Nright there some
Dialogue: 0,0:32:47.41,0:32:49.71,Default,of the properties you can\Nget, roll, pitch and yaw,
Dialogue: 0,0:32:50.06,0:32:51.76,Default,rotation rate, user\Nacceleration.
Dialogue: 0,0:32:51.76,0:32:53.85,Default,All those things come\Nout of a CMDeviceMotion.
Dialogue: 0,0:32:54.25,0:32:56.89,Default,Now, if you're on a device\Nthat doesn't have a gyro,
Dialogue: 0,0:32:57.20,0:32:58.83,Default,the CMDeviceMotion\Nis going to be there,
Dialogue: 0,0:32:58.83,0:33:02.13,Default,but some things are going to\Ngive you unspecified results,
Dialogue: 0,0:33:02.19,0:33:05.33,Default,like user acceleration can't\Nbe determined on a device
Dialogue: 0,0:33:05.33,0:33:06.18,Default,where there's no gyro.
Dialogue: 0,0:33:06.72,0:33:08.77,Default,Okay? It will give you the\Nacceleration due to gravity,
Dialogue: 0,0:33:08.94,0:33:10.82,Default,but can't give you\Nthe user acceleration.
Dialogue: 0,0:33:11.36,0:33:12.20,Default,So you have to know.
Dialogue: 0,0:33:12.56,0:33:14.50,Default,That's why you have to\Ncheck what your device has.
Dialogue: 0,0:33:15.46,0:33:20.04,Default,So...how do we do\Nthis block thing?
Dialogue: 0,0:33:20.20,0:33:25.23,Default,Okay? So I want to start my\Ndevice, checking what is going
Dialogue: 0,0:33:25.23,0:33:28.19,Default,on with the accelerometer,\Nand I want it to report
Dialogue: 0,0:33:28.19,0:33:29.55,Default,to me what's going on.
Dialogue: 0,0:33:29.55,0:33:31.34,Default,And the way I do that\Nis I give it a block,
Dialogue: 0,0:33:31.55,0:33:35.02,Default,a CM Accelerometer\NHandler block right there.
Dialogue: 0,0:33:35.02,0:33:37.83,Default,You can see how it's\Ndefined, it takes an argument,
Dialogue: 0,0:33:37.83,0:33:42.47,Default,which is the CM Accelerator\Ndata, and in this error,
Dialogue: 0,0:33:42.47,0:33:44.92,Default,and it just keeps calling\Nthat block over and over
Dialogue: 0,0:33:45.09,0:33:46.63,Default,at whatever rate you tell it to.
Dialogue: 0,0:33:47.01,0:33:48.82,Default,And we'll talk about how you\Nset that on the next slide.
Dialogue: 0,0:33:49.23,0:33:50.90,Default,And you can do that for\Naccelerometer updates,
Dialogue: 0,0:33:50.90,0:33:52.66,Default,you can do it for gyro\Nupdates, you can do it
Dialogue: 0,0:33:52.66,0:33:54.70,Default,for device motion as well.
Dialogue: 0,0:33:55.26,0:33:58.09,Default,Okay? That roll, pitch and yaw,\Nall that, it will tell you that.
Dialogue: 0,0:33:58.90,0:34:02.87,Default,Okay? So couldn't be simpler,\Nyou just call this method start,
Dialogue: 0,0:34:03.20,0:34:07.33,Default,accelerometer or gyro, updates\Nto queue, you give it a queue.
Dialogue: 0,0:34:07.58,0:34:12.34,Default,Now, that queue, if your rate\Nat which you're asking it
Dialogue: 0,0:34:12.34,0:34:14.87,Default,to tell you is pretty low,\Nthat can be the main queue.
Dialogue: 0,0:34:15.42,0:34:16.86,Default,And what do I mean by low?
Dialogue: 0,0:34:16.92,0:34:20.04,Default,Well, use your best judgment,\NI mean 60 times a second?
Dialogue: 0,0:34:20.40,0:34:22.05,Default,That's going to be\Npushing the main queue.
Dialogue: 0,0:34:22.32,0:34:23.88,Default,Ten times a second, no problem.
Dialogue: 0,0:34:24.19,0:34:27.04,Default,Okay? It depends on what\Nyou're doing in that block.
Dialogue: 0,0:34:27.04,0:34:28.54,Default,Hopefully you're\Nnot doing some very,
Dialogue: 0,0:34:28.54,0:34:30.24,Default,very expensive graphics\Noperation.
Dialogue: 0,0:34:30.65,0:34:32.90,Default,But you could make\Nthat the main queue.
Dialogue: 0,0:34:32.90,0:34:34.72,Default,Or you could make that\Nbe some other queue.
Dialogue: 0,0:34:35.57,0:34:38.65,Default,Okay? And then coalesce events,\Nand then just dispatch back
Dialogue: 0,0:34:38.65,0:34:42.05,Default,to the main queue whenever you\Nwant to do the UI updating.
Dialogue: 0,0:34:42.31,0:34:44.97,Default,Okay? So how often does\Nthis block get called?
Dialogue: 0,0:34:45.66,0:34:47.96,Default,This is the device\Nmotion ones, by the way.
Dialogue: 0,0:34:48.25,0:34:51.29,Default,Device Motion knows so much\Ninformation it can actually have
Dialogue: 0,0:34:51.29,0:34:56.48,Default,a reference frame about\Nwhere's Z axis and X and Y axis,
Dialogue: 0,0:34:56.48,0:34:58.25,Default,and all that, so you can\Nlook that up as well.
Dialogue: 0,0:34:58.59,0:35:01.03,Default,But it's the same way, though,\Nin terms of you just put a block
Dialogue: 0,0:35:01.23,0:35:04.03,Default,on the queue and when\Ndevice motion has changes,
Dialogue: 0,0:35:04.03,0:35:04.92,Default,it's going to tell you.
Dialogue: 0,0:35:05.05,0:35:08.74,Default,So in all these cases, you set\Nthe interval at which it's going
Dialogue: 0,0:35:08.74,0:35:11.76,Default,to call your block using this\Nupdate interval property.
Dialogue: 0,0:35:11.85,0:35:14.12,Default,So whether you're doing\Naccelerometer, gyro,
Dialogue: 0,0:35:14.12,0:35:16.52,Default,magnetometer, device motion,\Nyou just set the interval.
Dialogue: 0,0:35:16.71,0:35:19.91,Default,This is in seconds, so if you\Nwant it 10 times a second,
Dialogue: 0,0:35:19.91,0:35:24.17,Default,you would say 0.1, if you want\N20 times a second, 0.05, okay?
Dialogue: 0,0:35:24.76,0:35:26.89,Default,How often can these things go?
Dialogue: 0,0:35:27.08,0:35:27.98,Default,There are limits.
Dialogue: 0,0:35:28.09,0:35:30.75,Default,These things can't report\Nthousand times a second,
Dialogue: 0,0:35:31.18,0:35:33.96,Default,probably you couldn't do much\Nwith 1,000 times a second,
Dialogue: 0,0:35:33.96,0:35:36.08,Default,you couldn't respond in\Nthe UI or anything to that.
Dialogue: 0,0:35:36.49,0:35:39.82,Default,I think most of these things\Nare around 60 Hz, okay?
Dialogue: 0,0:35:40.23,0:35:42.61,Default,60 times a second, probably
Dialogue: 0,0:35:42.61,0:35:44.49,Default,about the maximum you're\Ngoing to get out of them.
Dialogue: 0,0:35:44.49,0:35:48.29,Default,I don't think the\Ndocumentation specifically says.
Dialogue: 0,0:35:48.63,0:35:52.22,Default,It is okay to have\Nmultiple handler blocks.
Dialogue: 0,0:35:52.22,0:35:54.55,Default,In other words, to call\Nstart accelerometer updates
Dialogue: 0,0:35:54.55,0:35:57.23,Default,with block, give it a block,\Nand then later somewhere else,
Dialogue: 0,0:35:57.37,0:35:59.93,Default,start accelerator\Nupdates with block
Dialogue: 0,0:35:59.93,0:36:00.95,Default,and give it a different block,
Dialogue: 0,0:36:01.20,0:36:02.72,Default,and both of those\Nblocks will get called.
Dialogue: 0,0:36:03.20,0:36:04.77,Default,They're both going to get\Ncalled at the same rate,
Dialogue: 0,0:36:04.89,0:36:07.27,Default,this update interval,\Nbut two different--
Dialogue: 0,0:36:07.27,0:36:09.69,Default,you could be doing two\Ndifferent things every time this
Dialogue: 0,0:36:09.76,0:36:10.61,Default,interval happens.
Dialogue: 0,0:36:10.68,0:36:12.16,Default,That's perfectly\Nfine, say it's not
Dialogue: 0,0:36:12.16,0:36:13.34,Default,like there can only\Nbe one block.
Dialogue: 0,0:36:14.29,0:36:16.36,Default,Make sense?
Dialogue: 0,0:36:16.53,0:36:18.09,Default,Alright, so I have a demo.
Dialogue: 0,0:36:18.09,0:36:21.59,Default,This is all definitely best\Nunderstood with a demo,
Dialogue: 0,0:36:22.02,0:36:25.35,Default,and this demo lets me show you\Na couple other things as well,
Dialogue: 0,0:36:25.35,0:36:28.04,Default,as usual, I try to\Nmake these demos count
Dialogue: 0,0:36:28.04,0:36:31.46,Default,for multiple things\Nhere, so this is going
Dialogue: 0,0:36:31.46,0:36:33.44,Default,to be a new app we're going\Nto write, it's called Bouncer.
Dialogue: 0,0:36:33.98,0:36:38.19,Default,And Bouncer is going to be a\Nlittle square that I'm going
Dialogue: 0,0:36:38.19,0:36:42.60,Default,to have appear on my device,\Nand eventually we're going
Dialogue: 0,0:36:42.60,0:36:46.89,Default,to have gravity determine\Nwhere that square is animated
Dialogue: 0,0:36:46.89,0:36:49.68,Default,to on screen, then we'll\Nput another square on there,
Dialogue: 0,0:36:49.68,0:36:52.04,Default,and then we'll bang those\Nthings into each other,
Dialogue: 0,0:36:52.04,0:36:54.15,Default,and maybe we'll put a\Nlittle score in there,
Dialogue: 0,0:36:54.15,0:36:56.20,Default,and then we've made\Nourselves a little game.
Dialogue: 0,0:36:56.20,0:36:59.85,Default,Okay? So it's a little,\Nbasically game where the input
Dialogue: 0,0:36:59.85,0:37:01.81,Default,to the game is the\Naccelerometer.
Dialogue: 0,0:37:01.88,0:37:03.03,Default,So I'm going to use\Naccelerometer,
Dialogue: 0,0:37:03.03,0:37:06.15,Default,because it's the simplest\Nof the device motion things.
Dialogue: 0,0:37:06.15,0:37:08.50,Default,But they all basically\Ndo the same approach
Dialogue: 0,0:37:08.50,0:37:09.83,Default,of how you get the\Ninformation back.
Dialogue: 0,0:37:09.83,0:37:14.15,Default,So we use the accelerometer to\Ndrive our UI, just like touching
Dialogue: 0,0:37:14.52,0:37:15.95,Default,and swiping, or whatever,
Dialogue: 0,0:37:15.95,0:37:17.63,Default,we're going to use the\Naccelerometer as an input.
Dialogue: 0,0:37:18.39,0:37:21.10,Default,Alright, so let's make\Na new project here.
Dialogue: 0,0:37:21.10,0:37:22.02,Default,Whoops! Not a new file.
Dialogue: 0,0:37:22.65,0:37:25.32,Default,Cancel. A new project.
Dialogue: 0,0:37:26.02,0:37:29.66,Default,Okay. And we're going to\Ncall this project Bouncer.
Dialogue: 0,0:37:30.91,0:37:32.24,Default,And it's going to be universal.
Dialogue: 0,0:37:32.24,0:37:34.06,Default,I'm also going to do\Nsomething with this app
Dialogue: 0,0:37:34.06,0:37:36.05,Default,that I haven't done all\Nquarter, which is I'm not going
Dialogue: 0,0:37:36.05,0:37:38.01,Default,to do anything in\Nthe storyboard.
Dialogue: 0,0:37:38.67,0:37:40.85,Default,Okay? We're going to do all\Nof this 100 percent in code,
Dialogue: 0,0:37:40.98,0:37:42.40,Default,just to see what that\Nlooks like, okay?
Dialogue: 0,0:37:42.67,0:37:45.18,Default,So I'm not even going\Nto touch my storyboard.
Dialogue: 0,0:37:47.46,0:37:49.32,Default,Alright, in fact, I'm going\Nto move my storyboards
Dialogue: 0,0:37:49.72,0:37:51.27,Default,down to supporting files,
Dialogue: 0,0:37:51.27,0:37:52.33,Default,because I'm not going\Nto use them, okay?
Dialogue: 0,0:37:52.33,0:37:54.12,Default,It's all going to\Nbe in this one file,
Dialogue: 0,0:37:54.12,0:37:57.62,Default,the entire implementation\Nwe're going to do here.
Dialogue: 0,0:37:57.93,0:37:59.98,Default,Alright, so what are we\Ngoing to do to start?
Dialogue: 0,0:37:59.98,0:38:03.72,Default,Let's start by just putting a\Nlittle red square on the screen.
Dialogue: 0,0:38:03.72,0:38:04.84,Default,So we'll start simple.
Dialogue: 0,0:38:04.84,0:38:08.25,Default,I'm going to have a little\Nproperty here, non-atomic,
Dialogue: 0,0:38:08.25,0:38:11.75,Default,strong, just a little UI view,\NI'm going to call it red block.
Dialogue: 0,0:38:11.75,0:38:13.44,Default,It's going to be a\Nlittle red square
Dialogue: 0,0:38:13.44,0:38:15.87,Default,that I'm going to put on screen.
Dialogue: 0,0:38:16.54,0:38:19.35,Default,And I'm going to do it, I'm\Ngoing to put in on screen
Dialogue: 0,0:38:19.35,0:38:24.03,Default,in ViewDidAppear, so once\Nthis view appears on screen,
Dialogue: 0,0:38:24.28,0:38:26.33,Default,then I'm going to put this\Nlittle block out there,
Dialogue: 0,0:38:26.79,0:38:29.53,Default,and I'm going to do that in\Na method called Start Game,
Dialogue: 0,0:38:29.53,0:38:30.79,Default,so it's going to be\Nthe start of my game.
Dialogue: 0,0:38:30.79,0:38:31.96,Default,I mean, eventually\Nit's going to be more
Dialogue: 0,0:38:31.96,0:38:33.02,Default,than just a red block there,
Dialogue: 0,0:38:33.02,0:38:35.43,Default,so we'll say we're\Nstarting our game.
Dialogue: 0,0:38:35.43,0:38:36.88,Default,So what do we do in Start Game?
Dialogue: 0,0:38:37.14,0:38:40.91,Default,I'm just going to say self\Ndot red block equals--
Dialogue: 0,0:38:40.91,0:38:43.36,Default,now I would need to create\Na block, I want to put it
Dialogue: 0,0:38:43.36,0:38:44.53,Default,in the center of the screen,
Dialogue: 0,0:38:44.85,0:38:49.63,Default,so I create a nice little\Nmethod here, called add block,
Dialogue: 0,0:38:50.47,0:38:53.74,Default,this little guy right here, and\Nall it does, as you can see,
Dialogue: 0,0:38:53.90,0:38:56.31,Default,is it just does init with\Nframe and add subview.
Dialogue: 0,0:38:56.63,0:38:58.90,Default,And all it's doing is\Ncalculating where that frame is.
Dialogue: 0,0:38:58.90,0:39:01.24,Default,So it's putting in\Nthe center offset
Dialogue: 0,0:39:01.24,0:39:03.98,Default,by anything I want,\Nany UI offset.
Dialogue: 0,0:39:03.98,0:39:06.06,Default,So I'm going to put it\Ninitially right in the center.
Dialogue: 0,0:39:06.47,0:39:09.50,Default,By the way, we don't need this\Nor this for this entire demo.
Dialogue: 0,0:39:10.24,0:39:13.94,Default,Alright, so I'm going to do\Nself, add, block, offset,
Dialogue: 0,0:39:13.94,0:39:17.96,Default,and I'm going to do UI\Noffset make zero zero.
Dialogue: 0,0:39:17.96,0:39:19.61,Default,So it's going to put\Nit right in the center.
Dialogue: 0,0:39:19.90,0:39:23.66,Default,Okay? Everyone understand what\Nthis does, is just putting--
Dialogue: 0,0:39:23.91,0:39:26.01,Default,adding UI view to the\Ncenter of the screen.
Dialogue: 0,0:39:26.50,0:39:29.24,Default,And my block is red,\Nso let's make it red.
Dialogue: 0,0:39:30.00,0:39:33.63,Default,Dot background color\Nequals UI color, red color.
Dialogue: 0,0:39:34.38,0:39:41.55,Default,Okay? So let's go\Nahead and run that.
Dialogue: 0,0:39:45.15,0:39:47.42,Default,Okay. Okay, alright, good start.
Dialogue: 0,0:39:47.42,0:39:51.36,Default,So what we want now is\NI want some gravity.
Dialogue: 0,0:39:51.68,0:39:55.79,Default,I want this block to go\Nsomewhere else besides
Dialogue: 0,0:39:55.79,0:39:56.63,Default,in the middle of the screen.
Dialogue: 0,0:39:56.63,0:39:59.90,Default,So we do that with something\Nyou're all very familiar
Dialogue: 0,0:39:59.90,0:40:03.14,Default,from assignment 4, which is\Nanimators, dynamic animator.
Dialogue: 0,0:40:03.14,0:40:05.49,Default,So I'm just going to add\Na dynamic animator here
Dialogue: 0,0:40:05.84,0:40:09.95,Default,to add gravity and to make it so\Nwhen the block gets to the edge,
Dialogue: 0,0:40:09.95,0:40:11.99,Default,it's going to bounce off, okay?
Dialogue: 0,0:40:11.99,0:40:13.55,Default,Instead of just going\Noff the screen.
Dialogue: 0,0:40:13.55,0:40:14.18,Default,So let's do that.
Dialogue: 0,0:40:14.96,0:40:17.86,Default,Uh, that, I have since you\Nall know about animator,
Dialogue: 0,0:40:17.86,0:40:20.24,Default,I'm not going to type all\Nthat in, I'm just going
Dialogue: 0,0:40:20.34,0:40:23.01,Default,to show it here, this\Nis what I just added.
Dialogue: 0,0:40:24.20,0:40:25.39,Default,Right here.
Dialogue: 0,0:40:26.19,0:40:27.51,Default,Okay, I've got some properties.
Dialogue: 0,0:40:27.85,0:40:30.03,Default,The properties I\Nhave here are...
Dialogue: 0,0:40:31.48,0:40:35.23,Default,a dynamic animator, of course,\NI've got a gravity behavior,
Dialogue: 0,0:40:35.23,0:40:37.29,Default,that's going to be the gravity\Npulling on my red block.
Dialogue: 0,0:40:37.63,0:40:40.01,Default,Collider, that's just going\Nto be the outer edges,
Dialogue: 0,0:40:40.35,0:40:42.34,Default,that's the only collider\NI'm going to have for now.
Dialogue: 0,0:40:42.65,0:40:44.93,Default,And then elastic is\Nan item behavior.
Dialogue: 0,0:40:44.93,0:40:46.86,Default,I want it to really\Nbounce off the walls.
Dialogue: 0,0:40:46.86,0:40:48.97,Default,So I'm going to set\Nit's elasticity
Dialogue: 0,0:40:49.07,0:40:50.83,Default,so that it's completely elastic.
Dialogue: 0,0:40:50.83,0:40:54.95,Default,All of it's hitting the walls\Nare elastic collisions, okay?
Dialogue: 0,0:40:55.42,0:40:57.03,Default,And so here's the animator.
Dialogue: 0,0:40:57.61,0:41:00.79,Default,Lazy instantiation not doing\Nanything special there,
Dialogue: 0,0:41:01.16,0:41:02.94,Default,here's the collider, okay?
Dialogue: 0,0:41:02.94,0:41:05.55,Default,The only thing that does is\Ntranslates reference bounds
Dialogue: 0,0:41:05.55,0:41:06.32,Default,into boundary.
Dialogue: 0,0:41:06.63,0:41:08.84,Default,Okay, you know about that.
Dialogue: 0,0:41:09.52,0:41:12.18,Default,Here's gravity, just\Ndefault gravity.
Dialogue: 0,0:41:12.18,0:41:14.61,Default,It's going to start out\Nwith our gravity pointing
Dialogue: 0,0:41:14.93,0:41:16.69,Default,down in our view.
Dialogue: 0,0:41:17.19,0:41:19.41,Default,Okay? Whatever down is in\Nour view, in other words,
Dialogue: 0,0:41:20.09,0:41:23.22,Default,increasing Y, that's where\Ngravity's going to start out,
Dialogue: 0,0:41:23.22,0:41:26.05,Default,we want to replace that\Ngravity with the real gravity
Dialogue: 0,0:41:26.05,0:41:29.19,Default,of the world, that's what we're\Ngoing to be doing in a moment.
Dialogue: 0,0:41:29.50,0:41:30.64,Default,And then here's elastic.
Dialogue: 0,0:41:30.64,0:41:33.13,Default,Elastic is an item behavior\Nwhich just sets one thing,
Dialogue: 0,0:41:33.13,0:41:35.35,Default,which is the elasticity, okay?
Dialogue: 0,0:41:35.57,0:41:39.05,Default,This says how elastic the\Ncollisions are, and I'm going
Dialogue: 0,0:41:39.05,0:41:42.97,Default,to have it be 1.0, which\Nmeans fully elastic collision.
Dialogue: 0,0:41:42.97,0:41:46.00,Default,You can actually make this\Ngreater than 1, and it will pick
Dialogue: 0,0:41:46.00,0:41:47.73,Default,up speed when it\Nhits a collision,
Dialogue: 0,0:41:47.73,0:41:50.83,Default,and you can make it less than\N1, and it will dampen, right?
Dialogue: 0,0:41:51.01,0:41:53.48,Default,All the way down to zero,\Nwhich is the default, I think,
Dialogue: 0,0:41:53.54,0:41:55.67,Default,which is that's a\Nblock, hit the bottom
Dialogue: 0,0:41:55.67,0:41:57.12,Default,and then just kind\Nof settle real quick.
Dialogue: 0,0:41:57.15,0:42:00.07,Default,That's what we had, I think,\Nthe elasticity of our blocks
Dialogue: 0,0:42:00.07,0:42:02.10,Default,in Drop It, were that.
Dialogue: 0,0:42:02.41,0:42:04.94,Default,Alright, so I have this\Nanimator and all these things,
Dialogue: 0,0:42:04.94,0:42:08.49,Default,so now I just want to make\Nsure that I take my red block
Dialogue: 0,0:42:08.49,0:42:10.07,Default,and add it to all\Nthese, so I'm going
Dialogue: 0,0:42:10.07,0:42:14.47,Default,to say I want the red block\Nto be in the collider,
Dialogue: 0,0:42:15.84,0:42:19.03,Default,and I want the red\Nblock to be elastic.
Dialogue: 0,0:42:22.10,0:42:25.36,Default,And I want the red block\Nto be affected by gravity.
Dialogue: 0,0:42:25.98,0:42:31.87,Default,Okay, so I'm just adding the\Nred block to these behaviors.
Dialogue: 0,0:42:32.06,0:42:34.27,Default,Again, hopefully this\Nis all really familiar
Dialogue: 0,0:42:34.27,0:42:35.45,Default,to you from assignment 4.
Dialogue: 0,0:42:36.00,0:42:38.10,Default,So let's run to see\Nwhat we've got now.
Dialogue: 0,0:42:39.43,0:42:43.16,Default,So we've got gravity, collision\Nand elastic, so this red block,
Dialogue: 0,0:42:43.70,0:42:45.26,Default,boom, it goes down\Nand it bounces.
Dialogue: 0,0:42:45.59,0:42:47.97,Default,Okay? So this is excellent,\Nwe've got a good start here.
Dialogue: 0,0:42:48.23,0:42:50.70,Default,Unfortunately, this is\Nnot real-world gravity,
Dialogue: 0,0:42:50.70,0:42:51.90,Default,I'm moving this thing around,
Dialogue: 0,0:42:51.90,0:42:53.92,Default,it's still going straight\Ndown and bouncing.
Dialogue: 0,0:42:54.26,0:42:56.65,Default,That's because the\Ndefault gravity is down,
Dialogue: 0,0:42:56.89,0:42:58.72,Default,in other words increasing\NY in my view.
Dialogue: 0,0:42:59.16,0:43:02.06,Default,So what I'm going to do now\Nis use the motion manager
Dialogue: 0,0:43:02.24,0:43:05.48,Default,to set the gravity to\Ninstead of being down,
Dialogue: 0,0:43:05.79,0:43:09.75,Default,to be wherever the real gravity\Nis, by using the accelerometer.
Dialogue: 0,0:43:09.75,0:43:10.42,Default,Okay, remember,
Dialogue: 0,0:43:10.42,0:43:12.98,Default,the accelerometer is always\Nmeasuring acceleration due
Dialogue: 0,0:43:12.98,0:43:16.51,Default,to gravity so I will always\Nknow where real gravity is.
Dialogue: 0,0:43:17.12,0:43:17.80,Default,So let's do that.
Dialogue: 0,0:43:19.09,0:43:20.97,Default,That's pretty straightforward\Ntoo, we're going to d
Dialogue: 0,0:43:20.97,0:43:21.95,Default,that here in Start Game.
Dialogue: 0,0:43:22.30,0:43:26.74,Default,So to do anything with core\Nmotion, I need a motion manager.
Dialogue: 0,0:43:26.88,0:43:28.54,Default,So let's go get a\Nmotion manager here.
Dialogue: 0,0:43:28.54,0:43:31.98,Default,I'm going to make a\Nproperty, non-atomic strong,
Dialogue: 0,0:43:32.61,0:43:35.33,Default,CMMotionManager, okay\NI need to import.
Dialogue: 0,0:43:36.52,0:43:37.66,Default,Core motion.
Dialogue: 0,0:43:38.66,0:43:41.70,Default,Oops, not core media,\Ncore motion.
Dialogue: 0,0:43:42.23,0:43:49.59,Default,Alright. And now I have a\Nmotion manager, and I'm going
Dialogue: 0,0:43:49.59,0:43:51.29,Default,to lazily instantiate\Nthis thing.
Dialogue: 0,0:43:51.29,0:43:52.72,Default,So let's do that down here.
Dialogue: 0,0:43:53.83,0:44:00.19,Default,CMMotionManager, if\Nnot motion manager,
Dialogue: 0,0:44:00.19,0:44:06.80,Default,then motion manager equals\NCMMotionManager alloc init,
Dialogue: 0,0:44:07.48,0:44:10.75,Default,and then I'm going to\Nset the motion manager
Dialogue: 0,0:44:11.04,0:44:17.54,Default,to do accelerometer\Nupdates at 10 per second.
Dialogue: 0,0:44:17.68,0:44:18.34,Default,Should be enough.
Dialogue: 0,0:44:18.50,0:44:19.99,Default,I mean, I'm doing UI here.
Dialogue: 0,0:44:19.99,0:44:21.13,Default,I think 10 per second is going
Dialogue: 0,0:44:21.13,0:44:24.61,Default,to give me smooth enough\Nchanging of direction,
Dialogue: 0,0:44:24.93,0:44:27.95,Default,of my red square as I\Nmove around, but you know,
Dialogue: 0,0:44:27.95,0:44:29.17,Default,I could crank it up a little bit
Dialogue: 0,0:44:29.17,0:44:31.70,Default,if it doesn't seem\Nresponsive enough to my moving,
Dialogue: 0,0:44:31.70,0:44:34.14,Default,or I could crank it down if\Nit seems plenty responsive
Dialogue: 0,0:44:34.14,0:44:37.17,Default,and I just don't want to do any\Nmore drawing than I have to do.
Dialogue: 0,0:44:37.41,0:44:39.34,Default,Okay? So we're going\Nto set it to be that,
Dialogue: 0,0:44:39.94,0:44:41.97,Default,and then let's return\Nour motion manager.
Dialogue: 0,0:44:43.08,0:44:46.38,Default,Okay, so now we have this motion\Nmanager, so now what I'm going
Dialogue: 0,0:44:46.38,0:44:49.38,Default,to do is say first of all\NI'm going to check to see
Dialogue: 0,0:44:49.77,0:44:54.67,Default,if I'm already doing\Naccelerometer updates,
Dialogue: 0,0:44:54.73,0:44:57.00,Default,so I'm going to say\Naccelerometer active.
Dialogue: 0,0:44:58.05,0:45:04.00,Default,Whoops! And I'm only going to\Nstart monitoring this thing
Dialogue: 0,0:45:04.00,0:45:06.57,Default,if the accelerometer\Nis not already active.
Dialogue: 0,0:45:07.49,0:45:10.11,Default,Whoops, let me...erase...thank\Nyou...okay.
Dialogue: 0,0:45:10.17,0:45:13.22,Default,So if it's not active,\Nthen I'm going
Dialogue: 0,0:45:13.22,0:45:17.15,Default,to basically give it a block to\Ncall me, and all I'm going to do
Dialogue: 0,0:45:17.15,0:45:20.43,Default,in that block is update my\Ngravity behavior's gravity.
Dialogue: 0,0:45:21.53,0:45:24.03,Default,Okay? So let's do that.
Dialogue: 0,0:45:24.03,0:45:30.43,Default,Self dot motion manager, start\Naccelerometer updates to queue,
Dialogue: 0,0:45:30.75,0:45:33.36,Default,so we'll give it a queue,\NI'm only doing 10 per second,
Dialogue: 0,0:45:33.36,0:45:36.23,Default,I think I can easily go\Nmain queue on this one.
Dialogue: 0,0:45:36.68,0:45:42.49,Default,So I'll go main queue,\Nwhoops...and here's the handler.
Dialogue: 0,0:45:43.36,0:45:44.82,Default,Okay? Double clicking\Nto get the handler,
Dialogue: 0,0:45:44.82,0:45:48.97,Default,we'll put this right here, in\Nfact, we'll make it even easier
Dialogue: 0,0:45:48.97,0:45:51.91,Default,to see, we'll move this\Nback here like this.
Dialogue: 0,0:45:52.35,0:45:53.62,Default,Alright. So here's our handler.
Dialogue: 0,0:45:53.62,0:45:55.70,Default,And what do we want to\Ndo inside this handler?
Dialogue: 0,0:45:55.96,0:45:59.67,Default,Well let's get the X\Nand Y of acceleration,
Dialogue: 0,0:45:59.67,0:46:04.12,Default,so let's get the X, that's\Naccelerometer data, okay?
Dialogue: 0,0:46:04.12,0:46:08.10,Default,So that's this argument here\Nto our block, dot acceleration,
Dialogue: 0,0:46:08.10,0:46:10.99,Default,that's the acceleration\Nthat is happening,
Dialogue: 0,0:46:11.25,0:46:13.22,Default,and X is the direction I want.
Dialogue: 0,0:46:13.28,0:46:15.19,Default,So here's the X direction,\Nand then I'm going
Dialogue: 0,0:46:15.19,0:46:18.11,Default,to do the same thing Y\Nequals accelerometer data,
Dialogue: 0,0:46:18.11,0:46:21.20,Default,acceleration, dot Y.\NSo now I have the X
Dialogue: 0,0:46:21.20,0:46:23.30,Default,and Y acceleration\Ndue to gravity.
Dialogue: 0,0:46:23.95,0:46:25.92,Default,Okay? And do the device moving.
Dialogue: 0,0:46:26.71,0:46:27.35,Default,Okay? Both.
Dialogue: 0,0:46:27.35,0:46:28.63,Default,So it's a kind of combination.
Dialogue: 0,0:46:28.63,0:46:30.57,Default,So that way, if I\Ntilt my thing down,
Dialogue: 0,0:46:30.78,0:46:31.85,Default,my blocks are going to go down.
Dialogue: 0,0:46:31.85,0:46:32.88,Default,If I tilt it back the other way,
Dialogue: 0,0:46:32.88,0:46:34.43,Default,it's going to go the\Nother way, right?
Dialogue: 0,0:46:34.43,0:46:36.58,Default,If I shake it over, it's going\Nto accelerate a little bit
Dialogue: 0,0:46:36.58,0:46:37.71,Default,in that direction, okay?
Dialogue: 0,0:46:37.71,0:46:40.37,Default,So it's kind of like that\Nblock is going to be responding
Dialogue: 0,0:46:40.37,0:46:42.55,Default,to my acceleration\Nand my device,
Dialogue: 0,0:46:42.55,0:46:44.16,Default,but mostly acceleration\Ndue to gravity.
Dialogue: 0,0:46:44.21,0:46:49.46,Default,So how do I set the direction\Nof the gravity of that behavior?
Dialogue: 0,0:46:49.72,0:46:54.64,Default,Well, I have self dot gravity,\Nthat's my gravity behavior.
Dialogue: 0,0:46:54.90,0:46:57.25,Default,It has something called\Ngravity direction,
Dialogue: 0,0:46:57.63,0:46:59.00,Default,which is exactly what we want.
Dialogue: 0,0:46:59.16,0:47:03.23,Default,It's a vector, a CG vector,\Nand it just has a delta X
Dialogue: 0,0:47:03.23,0:47:04.99,Default,and delta Y vector, right?
Dialogue: 0,0:47:05.08,0:47:08.20,Default,So like in math, vector,\Nand so we're just going
Dialogue: 0,0:47:08.20,0:47:10.74,Default,to have the vector,\Nlet's try doing X and Y,
Dialogue: 0,0:47:11.06,0:47:11.88,Default,see what happens here.
Dialogue: 0,0:47:12.33,0:47:14.70,Default,Okay? It's not going to\Nwork, but we'll try it.
Dialogue: 0,0:47:15.39,0:47:16.95,Default,And we can do semicolon.
Dialogue: 0,0:47:18.25,0:47:21.98,Default,Okay. Now, hopefully in some\Nof your minds you're trying
Dialogue: 0,0:47:21.98,0:47:24.69,Default,to think why this is not going\Nto work, because it seems
Dialogue: 0,0:47:24.69,0:47:25.65,Default,like this should just work.
Dialogue: 0,0:47:26.09,0:47:27.89,Default,But let's see what happens.
Dialogue: 0,0:47:28.83,0:47:30.81,Default,Anyone want to hazard a guess\Nwhy it's not going to work?
Dialogue: 0,0:47:30.81,0:47:30.87,Default,Yeah?
Dialogue: 0,0:47:31.02,0:47:34.80,Default,>> Uh the vertical axis\Nis going to be flipped.
Dialogue: 0,0:47:35.78,0:47:39.26,Default,>> Yeah, so the answer\Nthat was posited is
Dialogue: 0,0:47:39.26,0:47:41.58,Default,that the vertical axis can\Nbe flipped, and that's true.
Dialogue: 0,0:47:41.83,0:47:44.53,Default,Maybe a better way of saying\Nit is that the acceleration
Dialogue: 0,0:47:44.53,0:47:47.87,Default,of this device is\Nalways the acceleration
Dialogue: 0,0:47:48.31,0:47:52.83,Default,where it's...down this\Nway in the device,
Dialogue: 0,0:47:53.05,0:47:55.45,Default,so if I have it turned\Nsideways, okay,
Dialogue: 0,0:47:55.63,0:47:57.44,Default,then look at my thing\Nit's bouncing.
Dialogue: 0,0:47:57.44,0:48:00.92,Default,I have this turned up, face-up,\Nand it's bouncing this way.
Dialogue: 0,0:48:01.42,0:48:02.91,Default,Okay? Why is it bouncing\Nthis way?
Dialogue: 0,0:48:03.23,0:48:06.99,Default,That's because it's measuring\Nthis stuff all on this axis.
Dialogue: 0,0:48:06.99,0:48:10.69,Default,I want it measuring it in this\Naxis, basically, where here's Z,
Dialogue: 0,0:48:10.85,0:48:15.23,Default,here's Y, and here's X. So\NI basically have to know
Dialogue: 0,0:48:15.47,0:48:17.74,Default,which way the user\Nhas my device turned.
Dialogue: 0,0:48:17.74,0:48:21.06,Default,Okay? So I have it turned\Nkind of landscape, okay?
Dialogue: 0,0:48:21.06,0:48:23.51,Default,Landscape left, the home\Nbutton is on the left.
Dialogue: 0,0:48:23.88,0:48:27.31,Default,So that's going to-- I'm going\Nto have to flip the X and Y
Dialogue: 0,0:48:27.41,0:48:31.10,Default,and go negative Y instead of Y,\Nand if I were doing it this way,
Dialogue: 0,0:48:31.88,0:48:33.91,Default,which I have my...locked\Nin here.
Dialogue: 0,0:48:34.13,0:48:36.74,Default,But if I do it the other way\Naround, then it's flipped.
Dialogue: 0,0:48:36.74,0:48:39.04,Default,It has to be the other way, and\Nif I'm doing it up this way,
Dialogue: 0,0:48:39.04,0:48:40.02,Default,then it's another way.
Dialogue: 0,0:48:40.46,0:48:44.21,Default,Okay? So basically, which\Nway the acceleration
Dialogue: 0,0:48:44.21,0:48:46.23,Default,to gravity is affecting\Nmy view depends
Dialogue: 0,0:48:46.23,0:48:48.47,Default,on what the orientation\Nof my view is.
Dialogue: 0,0:48:48.81,0:48:50.49,Default,So let's put some code\Nin to deal with that.
Dialogue: 0,0:48:51.10,0:48:52.82,Default,Turns out to be pretty\Nstraightforward.
Dialogue: 0,0:48:52.82,0:48:54.48,Default,So we can't just\Ndo this simple one.
Dialogue: 0,0:48:54.48,0:48:55.43,Default,So let's take that out.
Dialogue: 0,0:48:56.09,0:48:59.41,Default,And...to save some typing,\Nwe'll do it this way.
Dialogue: 0,0:49:00.04,0:49:04.80,Default,So all view controllers have\Nthis property called self
Dialogue: 0,0:49:04.80,0:49:07.36,Default,interface orientation that\Nwill tell you whether you're
Dialogue: 0,0:49:07.36,0:49:08.86,Default,portrait, portrait upside-down,
Dialogue: 0,0:49:08.86,0:49:10.35,Default,landscape left or\Nlandscape right.
Dialogue: 0,0:49:10.35,0:49:12.64,Default,Okay? That's telling\Nyou, the view controller,
Dialogue: 0,0:49:12.86,0:49:14.64,Default,you can also get\Nthis from the device.
Dialogue: 0,0:49:15.03,0:49:17.11,Default,And you can also get\Nan interesting one
Dialogue: 0,0:49:17.11,0:49:19.53,Default,from UI application, might\Neven be better to use here,
Dialogue: 0,0:49:19.53,0:49:21.88,Default,which is status bar orientation.
Dialogue: 0,0:49:22.08,0:49:23.80,Default,That tells you where\Nthe status bar is.
Dialogue: 0,0:49:24.07,0:49:25.97,Default,And that's really probably\Nthe most correct thing,
Dialogue: 0,0:49:25.97,0:49:27.57,Default,and probably what we\Nshould be using here.
Dialogue: 0,0:49:27.85,0:49:29.16,Default,Because from the\Nuser's standpoint,
Dialogue: 0,0:49:29.16,0:49:31.96,Default,wherever their status bar is,\Nthat's the top of the screen.
Dialogue: 0,0:49:32.38,0:49:35.04,Default,Okay? Even if it's been\Nslow to notice rotation,
Dialogue: 0,0:49:35.04,0:49:37.82,Default,and it's in the wrong place, to\Nthe user, it's still to them,
Dialogue: 0,0:49:37.82,0:49:39.50,Default,they think that's the\Ntop of their screen.
Dialogue: 0,0:49:39.95,0:49:43.25,Default,But this is mostly going\Nto track that anyway,
Dialogue: 0,0:49:43.25,0:49:45.03,Default,so we'll use this\None, it's convenient.
Dialogue: 0,0:49:45.49,0:49:47.30,Default,And so here, landscape right,
Dialogue: 0,0:49:47.48,0:49:51.56,Default,you can see we are swapping\Nthe X and Y. You see?
Dialogue: 0,0:49:51.94,0:49:54.68,Default,This is the X, and I'm\Nusing the Y. Alright?
Dialogue: 0,0:49:55.15,0:49:59.47,Default,And so both of the\Nlandscapes we're doing that in,
Dialogue: 0,0:49:59.47,0:50:03.13,Default,and whether Y is negative or\Npositive depends, you know,
Dialogue: 0,0:50:03.13,0:50:05.37,Default,Y increases as we go\Ndown, so it just depends
Dialogue: 0,0:50:05.37,0:50:09.24,Default,on whether we're portrait upside\Ndown or portrait right side up,
Dialogue: 0,0:50:09.24,0:50:10.45,Default,and same thing for landscape.
Dialogue: 0,0:50:10.45,0:50:13.50,Default,So you can look at these,\Nstare at these later,
Dialogue: 0,0:50:13.50,0:50:15.52,Default,as in convince yourself these\Nare the right Xs and Ys.
Dialogue: 0,0:50:15.72,0:50:19.21,Default,But you can just see, that we're\Nusing different ones depending.
Dialogue: 0,0:50:19.21,0:50:21.56,Default,So let's see how this works.
Dialogue: 0,0:50:22.40,0:50:25.22,Default,Let's get ourselves into\Na nice orientation here.
Dialogue: 0,0:50:25.76,0:50:27.22,Default,Just, here.
Dialogue: 0,0:50:28.00,0:50:31.25,Default,Alright, so now it's bouncing\Naround, and if I tilt it, see,
Dialogue: 0,0:50:31.25,0:50:33.26,Default,it's going off to the side, or\NI tilt it to the other side,
Dialogue: 0,0:50:33.70,0:50:36.02,Default,or tilt it this way or down.
Dialogue: 0,0:50:36.02,0:50:39.30,Default,So now it's following me,\Nhowever I tilt my device,
Dialogue: 0,0:50:39.89,0:50:43.41,Default,it is following that gravity,\Nand I can kind of use it
Dialogue: 0,0:50:43.41,0:50:46.07,Default,to accelerate faster and\Nfaster even, see that?
Dialogue: 0,0:50:47.57,0:50:50.04,Default,Okay? So this is\Nexactly what I want.
Dialogue: 0,0:50:50.24,0:50:52.65,Default,I've got this thing\Nso that I can control
Dialogue: 0,0:50:52.65,0:50:54.43,Default,where my red block goes,
Dialogue: 0,0:50:55.14,0:50:57.40,Default,depending on how\NI tilt my device.
Dialogue: 0,0:50:58.11,0:51:01.71,Default,Okay, now I've locked my user\Ninterface orientation here.
Dialogue: 0,0:51:01.71,0:51:05.15,Default,Watch, if I unlock it, then\Nit's a little disconcerting
Dialogue: 0,0:51:05.15,0:51:07.56,Default,because okay I'm clicking\Nhere, now I turn, and whoop!
Dialogue: 0,0:51:07.56,0:51:10.30,Default,My status bar moved, but\Nit's still working, okay?
Dialogue: 0,0:51:10.30,0:51:11.80,Default,Because every time\NI get an update,
Dialogue: 0,0:51:12.16,0:51:15.22,Default,it's still readjusting\Nto where down is.
Dialogue: 0,0:51:15.60,0:51:17.47,Default,Okay? It's a little\Ndisconcerting to the user.
Dialogue: 0,0:51:17.78,0:51:19.85,Default,If I were a user and\Nreally playing this game,
Dialogue: 0,0:51:20.14,0:51:25.88,Default,I would probably, you know, lock\Nmy thing into some orientation,
Dialogue: 0,0:51:25.88,0:51:28.44,Default,where's that switch,\Nhere it is, like this.
Dialogue: 0,0:51:28.44,0:51:30.11,Default,It would just be a little\Nmore fun to play this game
Dialogue: 0,0:51:30.11,0:51:32.30,Default,if it wasn't constantly\Nswitching my status bar,
Dialogue: 0,0:51:32.30,0:51:33.24,Default,but it's still working,
Dialogue: 0,0:51:33.24,0:51:35.47,Default,it's just a little...okay,\Nthis is better.
Dialogue: 0,0:51:35.62,0:51:37.37,Default,Make sense what we're\Ndoing so far?
Dialogue: 0,0:51:37.58,0:51:37.96,Default,Question?
Dialogue: 0,0:51:37.96,0:51:41.77,Default,>> Can you programmatically\Ndo rotation lock in your app?
Dialogue: 0,0:51:41.77,0:51:43.38,Default,>> The question is can\Nyou programmatically do
Dialogue: 0,0:51:43.38,0:51:43.94,Default,rotation lock?
Dialogue: 0,0:51:43.94,0:51:46.50,Default,Well, you kind of can,\Nbecause you can specify
Dialogue: 0,0:51:46.75,0:51:48.11,Default,that you're application\Nonly works
Dialogue: 0,0:51:48.14,0:51:49.76,Default,in certain orientations, right?
Dialogue: 0,0:51:49.76,0:51:53.43,Default,And so by doing so, then you can\Nbasically do orientation lock.
Dialogue: 0,0:51:54.18,0:51:57.65,Default,So. I don't know that there's\Na way to kind of say "lock it
Dialogue: 0,0:51:57.68,0:52:00.73,Default,in the current orientation,"\Nlike I'm not sure there's a way
Dialogue: 0,0:52:00.73,0:52:03.28,Default,to do that, there might be,\Nbut I don't know offhand.
Dialogue: 0,0:52:04.41,0:52:07.39,Default,Alright. So now we've got this\Nthing bouncing and responding
Dialogue: 0,0:52:07.45,0:52:08.76,Default,to our thing, that's\Na good idea.
Dialogue: 0,0:52:08.76,0:52:11.37,Default,One thing I'm going to\Ndo also here is I'm going
Dialogue: 0,0:52:11.37,0:52:14.42,Default,to set the gravity\Ndirection before we start,
Dialogue: 0,0:52:14.80,0:52:17.78,Default,equal to vector makes\Nzero, zero.
Dialogue: 0,0:52:18.23,0:52:20.51,Default,That's because I'm going to be\Nstarting this thing going off.
Dialogue: 0,0:52:20.51,0:52:24.08,Default,I don't want, before the first\None goes off, to have any kind
Dialogue: 0,0:52:24.08,0:52:26.82,Default,of downward acceleration, so\NI'm basically going to set it
Dialogue: 0,0:52:26.82,0:52:28.40,Default,so we have no gravity,\Nand then I'm going
Dialogue: 0,0:52:28.40,0:52:32.18,Default,to start this accelerometer\Nto get the, this going.
Dialogue: 0,0:52:32.18,0:52:32.93,Default,So that's good.
Dialogue: 0,0:52:34.02,0:52:38.77,Default,Alright. This would be kind of\Ncool if we added another block.
Dialogue: 0,0:52:38.77,0:52:40.26,Default,So let's put another\Nblock in here.
Dialogue: 0,0:52:40.26,0:52:41.72,Default,I'm going to create\Na black block.
Dialogue: 0,0:52:42.79,0:52:46.27,Default,So I'm going to go up here,\Nand set property, non-atomic,
Dialogue: 0,0:52:46.27,0:52:49.13,Default,actually might as\Nwell make these weak,
Dialogue: 0,0:52:49.97,0:52:53.62,Default,if they leave the\Nview hierarchy,
Dialogue: 0,0:52:53.62,0:52:54.86,Default,then we'll clean them up.
Dialogue: 0,0:52:55.92,0:52:56.75,Default,Black block.
Dialogue: 0,0:52:57.75,0:53:00.29,Default,Notice I made these\Nbehaviors all weak as well.
Dialogue: 0,0:53:00.59,0:53:01.72,Default,Why did I make these weak?
Dialogue: 0,0:53:02.00,0:53:04.75,Default,Well, because if this\Ndynamic animator isn't holding
Dialogue: 0,0:53:04.75,0:53:06.61,Default,on strongly to them,\Nthen I don't want them.
Dialogue: 0,0:53:07.01,0:53:10.17,Default,Okay? Same thing when we\Nmake an outlet weak, right?
Dialogue: 0,0:53:10.17,0:53:12.12,Default,If the view hierarchy\Nisn't holding on to them,
Dialogue: 0,0:53:12.49,0:53:14.66,Default,and since I'm not\Ndoing storyboards here,
Dialogue: 0,0:53:14.66,0:53:16.57,Default,I'm doing code, I'm still\Nkind of doing the same thing.
Dialogue: 0,0:53:16.73,0:53:18.35,Default,I don't want my red\Nand black block to be
Dialogue: 0,0:53:18.35,0:53:20.22,Default,around if I take them out\Nof the view hierarchy.
Dialogue: 0,0:53:21.62,0:53:23.71,Default,Alright, so let's\Nmake my black block.
Dialogue: 0,0:53:23.71,0:53:24.74,Default,Actually it's very similar.
Dialogue: 0,0:53:24.74,0:53:30.21,Default,Let's copy and paste my\Nred block, black block,
Dialogue: 0,0:53:31.29,0:53:37.68,Default,and we'll do this,\Nand...whoops...oh.
Dialogue: 0,0:53:38.96,0:53:39.91,Default,Well that's interesting.
Dialogue: 0,0:53:39.91,0:53:41.67,Default,Okay. That's very strange.
Dialogue: 0,0:53:41.67,0:53:45.13,Default,Okay, black block, and then\Nhere's another black block,
Dialogue: 0,0:53:45.68,0:53:50.14,Default,and the black block wants\Nto be black, and we're going
Dialogue: 0,0:53:50.14,0:53:53.91,Default,to have the black block do the\Ncollider, but I'm not going
Dialogue: 0,0:53:53.91,0:53:56.40,Default,to have it be as\Nelastic, nor am I going
Dialogue: 0,0:53:56.40,0:53:57.25,Default,to have it do the gravity.
Dialogue: 0,0:53:57.83,0:53:59.31,Default,So the black block, the\Nonly thing that's going
Dialogue: 0,0:53:59.31,0:54:02.52,Default,to make the black block move is\Nif we hit it with the red block.
Dialogue: 0,0:54:02.52,0:54:04.41,Default,Okay? That's the only\Nthing that can impart.
Dialogue: 0,0:54:04.65,0:54:07.13,Default,Or if it collides with the\Nedge, we'll get a little bit
Dialogue: 0,0:54:07.47,0:54:10.12,Default,of reactive thing, but\Nthat's basically it.
Dialogue: 0,0:54:10.62,0:54:11.15,Default,This is black.
Dialogue: 0,0:54:12.01,0:54:14.00,Default,Alright? So let's put\Nthat black block on there,
Dialogue: 0,0:54:14.00,0:54:16.30,Default,and let's not have them\Nboth start in the center,
Dialogue: 0,0:54:16.30,0:54:18.64,Default,so we'll have that\None start at minus 100
Dialogue: 0,0:54:18.64,0:54:19.86,Default,and this one start at plus 100.
Dialogue: 0,0:54:19.86,0:54:20.83,Default,So we'll see what\Nthis looks like.
Dialogue: 0,0:54:21.95,0:54:24.61,Default,You add a black block\Nto our red block.
Dialogue: 0,0:54:28.23,0:54:33.67,Default,Okay. So now if I can\Nhit it, see you can see
Dialogue: 0,0:54:34.00,0:54:35.28,Default,that they're both\Nbouncing around.
Dialogue: 0,0:54:35.63,0:54:38.82,Default,The red one has more elasticity,
Dialogue: 0,0:54:38.82,0:54:41.25,Default,so it bounces off quite\Na bit more powerfully
Dialogue: 0,0:54:41.25,0:54:43.08,Default,than the black block, okay?
Dialogue: 0,0:54:43.26,0:54:45.47,Default,But I can still try and get\Nthat black block moving.
Dialogue: 0,0:54:45.47,0:54:48.49,Default,So now you can imagine turning\Nthis into a game pretty quick,
Dialogue: 0,0:54:48.49,0:54:50.93,Default,which is the object\Nof the game is to keep
Dialogue: 0,0:54:50.93,0:54:53.13,Default,that black block moving, okay?
Dialogue: 0,0:54:53.13,0:54:55.42,Default,The more you can make\Nthat black block move,
Dialogue: 0,0:54:55.67,0:54:56.62,Default,the more points you get.
Dialogue: 0,0:54:56.62,0:54:57.70,Default,So let's go add some score.
Dialogue: 0,0:54:57.70,0:55:00.23,Default,Let's add a score\Nto this game, okay?
Dialogue: 0,0:55:00.62,0:55:04.05,Default,Now this part is not really that\Nmuch of a learning exercise,
Dialogue: 0,0:55:04.36,0:55:07.61,Default,so I'm going to just\Ntype that in, real fast,
Dialogue: 0,0:55:07.86,0:55:09.27,Default,you can go look at this later.
Dialogue: 0,0:55:09.83,0:55:12.23,Default,It's got a whole bunch\Nof properties involved
Dialogue: 0,0:55:12.45,0:55:16.21,Default,in keeping score, like\Nthat, and all we need to do
Dialogue: 0,0:55:16.21,0:55:18.24,Default,in our code is update the score.
Dialogue: 0,0:55:18.24,0:55:22.28,Default,And I'm going to update my score\Nwhen the accelerometer goes off.
Dialogue: 0,0:55:22.28,0:55:24.80,Default,That's 10 times a second, that\Nseems like a good rate to me,
Dialogue: 0,0:55:25.07,0:55:26.50,Default,so I'm just going to\Nupdate my score there.
Dialogue: 0,0:55:26.50,0:55:29.06,Default,So let's look at that.
Dialogue: 0,0:55:29.16,0:55:31.68,Default,All the scorekeeping\Ndoes is just keeps track
Dialogue: 0,0:55:31.68,0:55:35.58,Default,of where the black block is,\Nhow long it's been doing that,
Dialogue: 0,0:55:36.01,0:55:37.41,Default,and then it puts the\Nscore in the middle there.
Dialogue: 0,0:55:37.41,0:55:39.79,Default,You can see, and it keeps\Nboth the current score
Dialogue: 0,0:55:40.62,0:55:44.10,Default,and your highest score so\Nfar, with this block, so.
Dialogue: 0,0:55:44.63,0:55:48.53,Default,If you let the black block stay\Nthere, and you don't hit it,
Dialogue: 0,0:55:48.62,0:55:49.89,Default,you can see that\Nmy score is going
Dialogue: 0,0:55:49.89,0:55:52.28,Default,to start going down pretty soon.
Dialogue: 0,0:55:52.77,0:55:53.73,Default,See, it's going down.
Dialogue: 0,0:55:54.16,0:55:58.56,Default,But if I start hitting it\Nagain, make it move there we go,
Dialogue: 0,0:55:58.60,0:56:00.07,Default,it will start going\Nback up again.
Dialogue: 0,0:56:00.38,0:56:03.78,Default,Okay? And the longer I keep\Ndoing this, the harder it is
Dialogue: 0,0:56:03.78,0:56:06.82,Default,to get my score high,\Nbut it's doing okay.
Dialogue: 0,0:56:08.14,0:56:10.39,Default,Okay? So you can try and\Nsee what's the highest
Dialogue: 0,0:56:10.39,0:56:10.91,Default,possible score.
Dialogue: 0,0:56:10.91,0:56:12.59,Default,Now I haven't done a very\Ngood job here of keeping
Dialogue: 0,0:56:12.59,0:56:13.91,Default,that black block moving,
Dialogue: 0,0:56:13.91,0:56:15.89,Default,so you can imagine the scores\Ncould be much, much higher.
Dialogue: 0,0:56:16.28,0:56:20.81,Default,Notice also for fun, I made it\Nso that the score bounces off.
Dialogue: 0,0:56:21.31,0:56:23.15,Default,Okay? So it doesn't\Ngo over the scores.
Dialogue: 0,0:56:23.15,0:56:25.07,Default,This will just kind of make\Nit a little harder, actually,
Dialogue: 0,0:56:25.07,0:56:27.59,Default,so you can't go straight to\Nthat block, you have to think
Dialogue: 0,0:56:27.59,0:56:29.12,Default,about the score being\Nin the way.
Dialogue: 0,0:56:29.12,0:56:31.09,Default,So that's kind of cool.
Dialogue: 0,0:56:31.09,0:56:32.95,Default,We're almost ready to ship\Nthis on the app store.
Dialogue: 0,0:56:33.37,0:56:35.23,Default,What else are we going to do?
Dialogue: 0,0:56:35.23,0:56:39.96,Default,Let's go ahead and think about\Nan important part of a game
Dialogue: 0,0:56:39.96,0:56:41.80,Default,like this, which is pausing.
Dialogue: 0,0:56:42.60,0:56:44.93,Default,Okay? Why would you ever\Nwant to pause this game?
Dialogue: 0,0:56:45.05,0:56:45.97,Default,A lot of reasons.
Dialogue: 0,0:56:46.03,0:56:48.53,Default,What if this game were\Nin a suite of games,
Dialogue: 0,0:56:48.53,0:56:49.62,Default,where there was a tab bar,
Dialogue: 0,0:56:49.62,0:56:50.96,Default,and you were switching\Nbetween games.
Dialogue: 0,0:56:50.96,0:56:53.34,Default,When you switch to another\Ngame on a different tab,
Dialogue: 0,0:56:53.34,0:56:56.40,Default,like machismo or something, you\Nwould want this game to pause,
Dialogue: 0,0:56:56.81,0:56:59.06,Default,and then when you went back to\Nit, you would want to continue.
Dialogue: 0,0:56:59.45,0:57:01.32,Default,Or what if I switch\Nto another app?
Dialogue: 0,0:57:01.32,0:57:03.77,Default,I go like this, and go\Nswitch to another app
Dialogue: 0,0:57:03.77,0:57:06.24,Default,and doing some other things,\Nyou know, and then I come back
Dialogue: 0,0:57:06.24,0:57:07.24,Default,to my game, it's like, "Oh!
Dialogue: 0,0:57:07.24,0:57:08.38,Default,My score! Ruined."
Dialogue: 0,0:57:08.41,0:57:10.76,Default,Because it was sitting there\Ndoing nothing for all that time.
Dialogue: 0,0:57:10.76,0:57:13.31,Default,I want it to pause, and then\Ncontinue when I come back.
Dialogue: 0,0:57:13.52,0:57:16.20,Default,Or maybe I want to be able\Nto just tap on it and pause,
Dialogue: 0,0:57:16.59,0:57:18.11,Default,and tap again to\Ncontinue, right?
Dialogue: 0,0:57:18.34,0:57:20.31,Default,So pausing/resuming\Nwould be really cool.
Dialogue: 0,0:57:20.31,0:57:23.09,Default,So how can we make our\Ngame pause and resume?
Dialogue: 0,0:57:23.09,0:57:27.10,Default,Well, we can take this start\Ngame and turn it pretty easily
Dialogue: 0,0:57:27.10,0:57:31.78,Default,into resume game, and all we\Nneed to do to do that is check
Dialogue: 0,0:57:31.85,0:57:34.00,Default,to see if the game\Nis already started,
Dialogue: 0,0:57:34.94,0:57:37.58,Default,because if it's already started,\Nwell that's going to be not,
Dialogue: 0,0:57:37.93,0:57:42.15,Default,if not red block, if we have\Nthem start a game, then we need
Dialogue: 0,0:57:42.15,0:57:43.74,Default,to create the red\Nand black block.
Dialogue: 0,0:57:44.07,0:57:47.67,Default,But otherwise, we can just\Nfire up this accelerometer,
Dialogue: 0,0:57:47.81,0:57:50.61,Default,and what we'll do to pause\Nis we'll just stop the
Dialogue: 0,0:57:50.61,0:57:51.53,Default,accelerometer, okay?
Dialogue: 0,0:57:51.57,0:57:56.59,Default,So I'm just going to say\Nself dot motion manager stop
Dialogue: 0,0:57:56.59,0:57:57.88,Default,accelerometer updates.
Dialogue: 0,0:57:58.14,0:58:00.96,Default,Okay? So I've paused, I've\Njust stopped the accelerometer
Dialogue: 0,0:58:00.96,0:58:01.61,Default,from updating.
Dialogue: 0,0:58:02.46,0:58:03.62,Default,Okay? Which is a\Npretty good thing.
Dialogue: 0,0:58:03.62,0:58:07.96,Default,I also have pause scoring okay,\Nbecause I want to do that.
Dialogue: 0,0:58:08.45,0:58:13.52,Default,Don't look too closely behind\Nthe curtain for that one
Dialogue: 0,0:58:14.02,0:58:18.48,Default,and then also I want\Nmy gravity direction
Dialogue: 0,0:58:18.63,0:58:20.34,Default,to be back to being zero.
Dialogue: 0,0:58:21.16,0:58:25.46,Default,Okay? I don't want my red thing\Nto be trying to do gravity
Dialogue: 0,0:58:25.50,0:58:27.37,Default,when it's paused, right?
Dialogue: 0,0:58:27.76,0:58:29.68,Default,So that's all I really need\Nto do to pause this game.
Dialogue: 0,0:58:30.04,0:58:33.58,Default,So let's put a little tap\Ngesture in that pauses the game,
Dialogue: 0,0:58:33.73,0:58:35.46,Default,and then continues the game.
Dialogue: 0,0:58:35.89,0:58:39.38,Default,Okay? This will, now can\Nbe resume, and so I'm going
Dialogue: 0,0:58:39.38,0:58:41.47,Default,to do a tap gesture, I'm\Ngoing to do it in ViewDidLoad.
Dialogue: 0,0:58:43.50,0:58:46.60,Default,Told you I wasn't going to do\Nanything in the storyboard,
Dialogue: 0,0:58:47.10,0:58:48.10,Default,and so I'm just going
Dialogue: 0,0:58:48.10,0:58:53.57,Default,to say self dot view add gesture\Nrecognizer, UI tap gesture,
Dialogue: 0,0:58:53.94,0:59:00.08,Default,alloc init with target\Nself, action is going
Dialogue: 0,0:59:00.08,0:59:04.40,Default,to be tap, okay, that's it.
Dialogue: 0,0:59:05.01,0:59:07.64,Default,So now I've added this tap\Ngesture, so now let's make tap.
Dialogue: 0,0:59:08.02,0:59:12.20,Default,And all tap needs to do is\Nwhen you say if we're paused,
Dialogue: 0,0:59:13.59,0:59:20.78,Default,then resume, otherwise, pause.
Dialogue: 0,0:59:21.29,0:59:25.32,Default,Okay? So we need an "is paused,"\Nhow are we going to tell
Dialogue: 0,0:59:25.32,0:59:26.44,Default,if we're paused or not?
Dialogue: 0,0:59:27.44,0:59:31.99,Default,Real easy, is paused,\NI'm just going to return
Dialogue: 0,0:59:32.34,0:59:38.24,Default,if the motion manager's\Naccelerometer is not active.
Dialogue: 0,0:59:39.11,0:59:40.76,Default,Okay? So if the accelerometer
Dialogue: 0,0:59:40.76,0:59:44.81,Default,in the motion manager is not\Nactive, then we must be paused.
Dialogue: 0,0:59:45.51,0:59:45.62,Default,Okay?
Dialogue: 0,0:59:47.38,0:59:48.33,Default,See what I did there?
Dialogue: 0,0:59:48.47,0:59:50.01,Default,So let's go try this,\Nsee if this works.
Dialogue: 0,0:59:51.77,0:59:54.64,Default,And this is going to work,
Dialogue: 0,0:59:54.64,0:59:58.90,Default,but not quite exactly how we\Nmight want, as you'll see.
Dialogue: 0,0:59:59.24,1:00:01.99,Default,Alright, so let's go get some\Nmotion happening here first.
Dialogue: 0,1:00:02.55,1:00:04.90,Default,Alright, so we got this thing,\Nmotion, I'm going to hit pause.
Dialogue: 0,1:00:05.25,1:00:09.57,Default,Okay, so it paused,\Nokay, but it's still--
Dialogue: 0,1:00:09.99,1:00:12.50,Default,it paused in that my\Naccelerometer is not working,
Dialogue: 0,1:00:12.77,1:00:15.34,Default,but the red block still\Nkind of kept moving,
Dialogue: 0,1:00:15.34,1:00:18.64,Default,so here I turn it back on,\Ngravity's back, I pause,
Dialogue: 0,1:00:18.87,1:00:21.44,Default,it's like the red block\Nkeeps moving a long way.
Dialogue: 0,1:00:21.60,1:00:23.32,Default,Okay, why does that\Nred block keep moving?
Dialogue: 0,1:00:23.32,1:00:26.72,Default,Well, because it already\Nhas a force applied to it,
Dialogue: 0,1:00:26.91,1:00:29.73,Default,and it's just letting that\Nforce kind of play out.
Dialogue: 0,1:00:30.03,1:00:31.96,Default,So what would be really\Nnice when we pause is
Dialogue: 0,1:00:31.96,1:00:34.92,Default,if we put some quicksand in\Nhere, and everything kind
Dialogue: 0,1:00:34.92,1:00:36.33,Default,of slowed down, right?
Dialogue: 0,1:00:36.80,1:00:38.51,Default,I don't want everything\Nto stop immediately,
Dialogue: 0,1:00:38.51,1:00:41.44,Default,but I want things to, you\Nknow, nicely slow down.
Dialogue: 0,1:00:41.76,1:00:43.64,Default,Okay? So how do we\Nadd quicksand?
Dialogue: 0,1:00:43.93,1:00:47.28,Default,Well, I can do that with\Nanother dynamic animator thing.
Dialogue: 0,1:00:47.76,1:00:49.02,Default,Let's put this down here,
Dialogue: 0,1:00:49.02,1:00:52.53,Default,I'm going to call it\Nquicksand, in fact, alright?
Dialogue: 0,1:00:52.53,1:00:55.41,Default,And so quicksand is\Njust another behavior
Dialogue: 0,1:00:56.48,1:00:57.71,Default,that I'm adding right here.
Dialogue: 0,1:00:57.99,1:01:00.06,Default,And what does this\Nquicksand look like?
Dialogue: 0,1:01:00.06,1:01:01.51,Default,It's this, it's what I added.
Dialogue: 0,1:01:01.83,1:01:05.31,Default,And as a UI dynamic\Nanimator that has resistance,
Dialogue: 0,1:01:05.64,1:01:08.97,Default,so resistance is a\Nitem's resistance
Dialogue: 0,1:01:08.97,1:01:10.38,Default,to forces being applied to it.
Dialogue: 0,1:01:10.46,1:01:14.21,Default,So I'll start it out at zero,\Nwhich means no resistance to it.
Dialogue: 0,1:01:14.21,1:01:15.03,Default,That's the default.
Dialogue: 0,1:01:15.03,1:01:18.69,Default,So it doesn't resist any of the\Nforces, you know, the gravity,
Dialogue: 0,1:01:18.69,1:01:21.37,Default,it doesn't resist any of that,\Njust things are bouncing around.
Dialogue: 0,1:01:21.72,1:01:24.45,Default,And then when we pause, I'm\Ngoing to crank this resistance
Dialogue: 0,1:01:24.45,1:01:26.70,Default,up to like at least 1.
Dialogue: 0,1:01:26.81,1:01:29.47,Default,1 is it completely resists\Nforces so it will slow
Dialogue: 0,1:01:29.47,1:01:31.65,Default,down really quickly, but\NI can go even more than 1,
Dialogue: 0,1:01:31.65,1:01:36.03,Default,which is it actively, you\Nknow, reduces its forces on it,
Dialogue: 0,1:01:36.50,1:01:37.81,Default,its response to forces on it.
Dialogue: 0,1:01:37.81,1:01:39.41,Default,But we've got this quicksand,
Dialogue: 0,1:01:39.47,1:01:45.97,Default,all we need to do is add both\Nthe red item, the red block,
Dialogue: 0,1:01:47.01,1:01:49.01,Default,and the black block,\Nto the quicksand.
Dialogue: 0,1:01:50.83,1:01:52.96,Default,Oops, okay.
Dialogue: 0,1:01:54.16,1:01:56.10,Default,I missed a copy key quite a bit.
Dialogue: 0,1:01:56.53,1:01:58.14,Default,Okay black block.
Dialogue: 0,1:01:58.14,1:02:00.28,Default,So we'll put them both\Nin this quicksand,
Dialogue: 0,1:02:00.66,1:02:03.59,Default,and then we're just\Ngoing to, when we pause,
Dialogue: 0,1:02:04.03,1:02:07.64,Default,we're going to set the\Nquicksand's resistance
Dialogue: 0,1:02:07.91,1:02:10.90,Default,to let's say 10, which is pretty\Nhigh resistance, they're going
Dialogue: 0,1:02:10.90,1:02:12.20,Default,to slow down pretty\Nfast with that.
Dialogue: 0,1:02:12.20,1:02:13.92,Default,We could tweak that, whether\Nwe want it to be that much.
Dialogue: 0,1:02:14.34,1:02:16.09,Default,And then when we\Nresume the game,
Dialogue: 0,1:02:16.28,1:02:18.61,Default,we're going to set the\Nquicksand's resistance back
Dialogue: 0,1:02:18.61,1:02:19.05,Default,to zero.
Dialogue: 0,1:02:20.35,1:02:22.79,Default,Okay? So let's do that.
Dialogue: 0,1:02:23.35,1:02:27.62,Default,And I'm mostly doing this so you\Ncan see the effect of pausing,
Dialogue: 0,1:02:27.62,1:02:29.86,Default,because next we're going\Nto show how to do pausing
Dialogue: 0,1:02:30.16,1:02:31.77,Default,in a different circumstance.
Dialogue: 0,1:02:31.77,1:02:34.52,Default,Okay so here, let's go,\Nget this guy going again,
Dialogue: 0,1:02:34.99,1:02:35.80,Default,right, he's moving around.
Dialogue: 0,1:02:35.80,1:02:37.90,Default,Now, if I pause, let's see\Nhow quickly he stopped.
Dialogue: 0,1:02:38.30,1:02:41.06,Default,He's still spinning, but\Nhe has stopped his motion.
Dialogue: 0,1:02:41.06,1:02:44.43,Default,And if I continue, now gravity\Nis going to work on him again.
Dialogue: 0,1:02:45.09,1:02:47.95,Default,One thing about stopping him\Nso quickly, it allows you
Dialogue: 0,1:02:47.95,1:02:51.04,Default,to cheat a little bit, because\Nif this guy's out of control
Dialogue: 0,1:02:51.04,1:02:53.06,Default,and you're trying to get him\Nback in control so you can get
Dialogue: 0,1:02:53.06,1:02:56.23,Default,after the black block,\Nthis stops him, right?
Dialogue: 0,1:02:56.37,1:02:56.94,Default,Too quick.
Dialogue: 0,1:02:56.94,1:03:01.72,Default,So it might be that having 10\Nbe our quicksand is a little
Dialogue: 0,1:03:01.72,1:03:01.95,Default,too high.
Dialogue: 0,1:03:01.95,1:03:03.58,Default,Maybe we only want 1.
Dialogue: 0,1:03:03.58,1:03:05.78,Default,Which would mean it would\Nslow down kind of at a normal
Dialogue: 0,1:03:06.42,1:03:08.38,Default,or a much slower rate.
Dialogue: 0,1:03:08.38,1:03:10.33,Default,So you could play with that.
Dialogue: 0,1:03:10.68,1:03:14.23,Default,Alright, so when would\Nwe want to do pausing.
Dialogue: 0,1:03:14.23,1:03:17.69,Default,Well, one of the real\Nimportant places to pause is
Dialogue: 0,1:03:17.69,1:03:20.02,Default,when someone clicks\Nto go to another app.
Dialogue: 0,1:03:20.75,1:03:25.43,Default,Okay? So I'm going to go back\Nto the slides, really briefly,
Dialogue: 0,1:03:25.43,1:03:32.78,Default,and show you this, and\Nthen we'll go back.
Dialogue: 0,1:03:32.99,1:03:37.55,Default,So your applications state the\Nlife cycle of your application,
Dialogue: 0,1:03:37.85,1:03:39.29,Default,it goes through certain states,
Dialogue: 0,1:03:39.39,1:03:42.47,Default,and one of them is it's\Nthe active application.
Dialogue: 0,1:03:42.57,1:03:45.49,Default,And being the active application\Nmeans you're getting events,
Dialogue: 0,1:03:45.49,1:03:47.60,Default,your views are getting\Nevents, right?
Dialogue: 0,1:03:47.72,1:03:49.09,Default,Touch events are\Nhappening to you.
Dialogue: 0,1:03:49.09,1:03:51.85,Default,You're basically\Nresponding to the world.
Dialogue: 0,1:03:52.08,1:03:54.64,Default,That's only happens when\Nyou're the active application.
Dialogue: 0,1:03:54.92,1:03:58.34,Default,Now, if you're the active\Napplication, you're bouncing,
Dialogue: 0,1:03:58.34,1:03:59.92,Default,you're playing your game,\Nwhat could cause you
Dialogue: 0,1:03:59.92,1:04:01.58,Default,to stop being active\Napplication?
Dialogue: 0,1:04:01.58,1:04:04.39,Default,Well, obviously someone could\Nclick on the home button and go
Dialogue: 0,1:04:04.39,1:04:06.45,Default,to another app, but\Nthere's other things too
Dialogue: 0,1:04:06.45,1:04:06.98,Default,that could happen.
Dialogue: 0,1:04:07.03,1:04:08.84,Default,A phone call could\Ncome in on your iPhone,
Dialogue: 0,1:04:08.84,1:04:12.99,Default,now you've stopped being the\Nactive app, whatever the UI is
Dialogue: 0,1:04:12.99,1:04:14.38,Default,for handling a phone call.
Dialogue: 0,1:04:14.58,1:04:16.49,Default,Even notifications,\Nvery important,
Dialogue: 0,1:04:16.49,1:04:19.71,Default,system notifications can\Ncome up and, you know,
Dialogue: 0,1:04:19.71,1:04:22.23,Default,they gray out your app, they\Nput an alert view in the middle,
Dialogue: 0,1:04:22.23,1:04:23.58,Default,and some notification happened,
Dialogue: 0,1:04:24.19,1:04:26.57,Default,that could make your\Napp stop being active.
Dialogue: 0,1:04:26.79,1:04:29.07,Default,So it's important to know when\Nyour app stops being active,
Dialogue: 0,1:04:29.15,1:04:31.63,Default,like Bouncer, so Bouncer\Ncan pause the game.
Dialogue: 0,1:04:31.85,1:04:35.31,Default,So I like to think of\Nactive, the activeness
Dialogue: 0,1:04:35.31,1:04:37.85,Default,of your application\Nbeing the pause/resume
Dialogue: 0,1:04:38.10,1:04:39.47,Default,of your application, okay?
Dialogue: 0,1:04:40.02,1:04:41.90,Default,So you find out about these,
Dialogue: 0,1:04:42.15,1:04:43.90,Default,your application delegates\Nhave these methods.
Dialogue: 0,1:04:43.90,1:04:45.23,Default,Application did become active,
Dialogue: 0,1:04:45.23,1:04:47.05,Default,application will\Nresign active, right?
Dialogue: 0,1:04:47.05,1:04:49.48,Default,That's going in between\Nthe two states,
Dialogue: 0,1:04:49.52,1:04:51.51,Default,but there's also a\Nradio station for it.
Dialogue: 0,1:04:52.02,1:04:53.33,Default,Okay? And that's\Nimportant to understand,
Dialogue: 0,1:04:53.33,1:04:54.44,Default,there's this radio station too,
Dialogue: 0,1:04:54.44,1:04:55.57,Default,and so you can have\Nview controllers
Dialogue: 0,1:04:55.57,1:04:58.77,Default,like this Bouncer guy, listen to\Nthe radio station and find this
Dialogue: 0,1:04:58.77,1:05:00.00,Default,out and do the pausing.
Dialogue: 0,1:05:00.00,1:05:01.69,Default,So we're going to do that\Nin the demo in a second.
Dialogue: 0,1:05:02.11,1:05:02.77,Default,While I'm here, though,
Dialogue: 0,1:05:02.77,1:05:04.81,Default,let me talk about some other\Napplication state things.
Dialogue: 0,1:05:05.06,1:05:07.31,Default,One of them is\Nbackground/foreground,
Dialogue: 0,1:05:07.31,1:05:09.87,Default,which is a different thing\Nthan active/not active.
Dialogue: 0,1:05:10.32,1:05:12.65,Default,Okay? Active means\Nyou're in the foreground,
Dialogue: 0,1:05:12.71,1:05:14.05,Default,and you're receiving events.
Dialogue: 0,1:05:14.57,1:05:18.27,Default,Okay? When someone clicks\Nto go on some other app,
Dialogue: 0,1:05:18.27,1:05:19.89,Default,you stop being active,\Nbut you're not
Dialogue: 0,1:05:19.89,1:05:20.88,Default,in the background yet.
Dialogue: 0,1:05:21.22,1:05:23.88,Default,You can think of background\Nas kind of being shelved.
Dialogue: 0,1:05:24.24,1:05:26.11,Default,Okay? You're being\Nput on the shelf.
Dialogue: 0,1:05:26.11,1:05:28.43,Default,And when you're put on\Nthe shelf, you don't run.
Dialogue: 0,1:05:28.43,1:05:29.85,Default,The only time you're ever\Ngoing to run when you're
Dialogue: 0,1:05:29.85,1:05:31.46,Default,on the shelf is a\Nbackground fetch,
Dialogue: 0,1:05:31.53,1:05:34.84,Default,which we saw a couple weeks ago,\Nor your a special kind of app,
Dialogue: 0,1:05:35.05,1:05:37.88,Default,like a VOIP app or a\Nlocation services app,
Dialogue: 0,1:05:38.09,1:05:40.34,Default,where you're getting locations,\Nthen you can come off the shelf
Dialogue: 0,1:05:40.34,1:05:41.65,Default,and run for a little\Nbit occasionally,
Dialogue: 0,1:05:41.88,1:05:42.79,Default,but you're being shelved.
Dialogue: 0,1:05:43.13,1:05:44.87,Default,So background is shelving.
Dialogue: 0,1:05:44.87,1:05:47.25,Default,Active is just, you\Nmight still be the app
Dialogue: 0,1:05:47.49,1:05:50.05,Default,that the user is using,\Nbut something has happened
Dialogue: 0,1:05:50.05,1:05:51.99,Default,to interrupt that,\Nmaybe temporarily.
Dialogue: 0,1:05:51.99,1:05:54.09,Default,So active is whether\Nyou're receiving events.
Dialogue: 0,1:05:54.09,1:05:55.33,Default,It's kind of a pause/resume.
Dialogue: 0,1:05:55.46,1:05:56.56,Default,Background is shelved.
Dialogue: 0,1:05:56.79,1:05:57.92,Default,So before you get shelved,
Dialogue: 0,1:05:57.92,1:06:00.29,Default,you want to definitely make\Nsure your world's cleaned up
Dialogue: 0,1:06:00.29,1:06:02.85,Default,and everything is a nice\Nstate, because one thing,
Dialogue: 0,1:06:02.92,1:06:04.81,Default,the shelf can sometimes\Nbe cleaned off
Dialogue: 0,1:06:04.87,1:06:05.90,Default,and you're thrown out.
Dialogue: 0,1:06:06.04,1:06:08.53,Default,Okay? If memory became\Na problem or something
Dialogue: 0,1:06:08.53,1:06:11.14,Default,like that you could just\Ncompletely never run again.
Dialogue: 0,1:06:11.14,1:06:12.38,Default,So when you get put\Nin the background,
Dialogue: 0,1:06:12.86,1:06:14.69,Default,you want to know\Nabout that maybe.
Dialogue: 0,1:06:15.04,1:06:17.48,Default,But you find out when you come\Nback in the foreground, too.
Dialogue: 0,1:06:18.26,1:06:20.11,Default,So, you know, then you can undo.
Dialogue: 0,1:06:20.11,1:06:22.60,Default,Usually in the foreground\None, you undo what you did
Dialogue: 0,1:06:22.60,1:06:23.41,Default,in the background one.
Dialogue: 0,1:06:24.16,1:06:27.53,Default,There are some other application\Ndelegate items of interest
Dialogue: 0,1:06:27.53,1:06:29.69,Default,that you can look up\Nin the documentation.
Dialogue: 0,1:06:29.92,1:06:31.80,Default,One is local notifications.
Dialogue: 0,1:06:31.90,1:06:35.65,Default,Local notifications are a way\Nfor you to schedule something
Dialogue: 0,1:06:35.65,1:06:38.02,Default,to happen in your app at\Na certain date and time,
Dialogue: 0,1:06:38.35,1:06:40.68,Default,and when that happens, if your\Napplication is not running,
Dialogue: 0,1:06:40.98,1:06:42.83,Default,you can be launched\Nto handle it.
Dialogue: 0,1:06:43.47,1:06:45.16,Default,Okay? So it's a way to kind
Dialogue: 0,1:06:45.16,1:06:47.46,Default,of make sure your app\Nruns at a certain time.
Dialogue: 0,1:06:47.46,1:06:50.53,Default,So like the calendar app,\Nthis is how it would make sure
Dialogue: 0,1:06:50.53,1:06:53.17,Default,that you got reminded that\Nyou're supposed to go to class
Dialogue: 0,1:06:53.17,1:06:54.12,Default,or whatever, even
Dialogue: 0,1:06:54.12,1:06:57.10,Default,if the calendar app\Nis not even running.
Dialogue: 0,1:06:57.10,1:06:59.33,Default,So local notification\Nis something to look at.
Dialogue: 0,1:06:59.33,1:07:02.13,Default,State restoration, if\Nyou got put on the shelf,
Dialogue: 0,1:07:02.32,1:07:05.70,Default,and then you got killed,\Nand the user ran you again,
Dialogue: 0,1:07:06.05,1:07:10.02,Default,you don't want your UI to come\Nup like in some base start UI,
Dialogue: 0,1:07:10.24,1:07:11.95,Default,you still want to come\Nback to where it was
Dialogue: 0,1:07:11.95,1:07:13.40,Default,when you got put on the shelf.
Dialogue: 0,1:07:13.43,1:07:16.85,Default,So state restoration is a\Nformalism where you keep track
Dialogue: 0,1:07:16.85,1:07:19.10,Default,of where your UI is, so when\Nyou get put on the shelf,
Dialogue: 0,1:07:19.58,1:07:21.59,Default,if you get killed and\Nhave to come back,
Dialogue: 0,1:07:21.77,1:07:23.29,Default,you can restore your\Nstate to where it was.
Dialogue: 0,1:07:23.93,1:07:25.96,Default,Data protection is\Nan interesting one.
Dialogue: 0,1:07:26.31,1:07:28.31,Default,There are ways to\Nprotect files that say
Dialogue: 0,1:07:28.40,1:07:31.47,Default,if this device is locked, in\Nother words, at the lock screen,
Dialogue: 0,1:07:31.65,1:07:32.99,Default,then you can't access this file.
Dialogue: 0,1:07:33.22,1:07:34.56,Default,But if it's unlocked,\Nthen you can.
Dialogue: 0,1:07:35.13,1:07:36.65,Default,So it's kind of a special\Nkind of protection.
Dialogue: 0,1:07:37.02,1:07:39.92,Default,You can find out about\Nchanges in that, i.e.,
Dialogue: 0,1:07:39.92,1:07:41.58,Default,when the thing is\Nlocked and unlocked,
Dialogue: 0,1:07:41.58,1:07:44.02,Default,and also there's method\Nin there for finding
Dialogue: 0,1:07:44.02,1:07:46.65,Default,out currently is\Nit locked or not.
Dialogue: 0,1:07:46.65,1:07:47.81,Default,Then there's open URL.
Dialogue: 0,1:07:47.81,1:07:50.57,Default,Open URL is kind of a cool\Nthing, you can go into X code
Dialogue: 0,1:07:50.57,1:07:54.39,Default,if you go to the info tab\Nthere in project settings.
Dialogue: 0,1:07:54.58,1:07:59.11,Default,You can define a URL, like\Nnot http colon something
Dialogue: 0,1:07:59.11,1:08:01.66,Default,but like PhotoMania colon\Nsomething, for example,
Dialogue: 0,1:08:01.66,1:08:03.00,Default,if PhotoMania wanted to do it.
Dialogue: 0,1:08:03.28,1:08:04.40,Default,And then if other people
Dialogue: 0,1:08:04.40,1:08:08.82,Default,in other apps say open URL\NPhotoMania colon slash slash,
Dialogue: 0,1:08:08.82,1:08:11.06,Default,something something something,\Nquestion mark, this, that,
Dialogue: 0,1:08:11.06,1:08:14.97,Default,all the full URL things you\Ncan do in the world of URLs,
Dialogue: 0,1:08:15.20,1:08:18.89,Default,then PhotoMania would get\Nlaunched to go handle that URL.
Dialogue: 0,1:08:18.89,1:08:21.35,Default,Okay? And there will be\Napplication delegate method
Dialogue: 0,1:08:21.35,1:08:23.09,Default,called, handle this URL.
Dialogue: 0,1:08:23.68,1:08:26.05,Default,So that's another thing to look\Nat in application delegate.
Dialogue: 0,1:08:26.50,1:08:31.13,Default,Okay. So. That's the end, that's\Nall I wanted to cover on that.
Dialogue: 0,1:08:31.39,1:08:34.85,Default,But now, let's go back to\NBouncer, and show using this.
Dialogue: 0,1:08:35.09,1:08:40.05,Default,I'm going to pause when I get,\Nstop being active, and I'm going
Dialogue: 0,1:08:40.05,1:08:43.37,Default,to un-pause when I go\Nback to being active.
Dialogue: 0,1:08:43.44,1:08:45.18,Default,And the way I'm going\Nto do that, very simple,
Dialogue: 0,1:08:45.54,1:08:51.05,Default,NS notification center, default\Ncenter, add observer for name,
Dialogue: 0,1:08:51.05,1:08:56.74,Default,and the one I want is\NUIApplicationWillResignActive,
Dialogue: 0,1:08:57.16,1:08:58.16,Default,okay?
Dialogue: 0,1:08:58.16,1:09:01.80,Default,So that happens when I'm going
Dialogue: 0,1:09:01.80,1:09:04.91,Default,to resign being the\Nactive application.
Dialogue: 0,1:09:05.45,1:09:08.98,Default,And object nil, I don't\Nreally care who-- whoops!
Dialogue: 0,1:09:09.61,1:09:10.99,Default,Who this comes from.
Dialogue: 0,1:09:10.99,1:09:12.76,Default,It's going to come\Nfrom the application,
Dialogue: 0,1:09:13.13,1:09:14.24,Default,whatever, application object.
Dialogue: 0,1:09:14.72,1:09:17.04,Default,Queue, fine to do\Nit on this queue
Dialogue: 0,1:09:17.04,1:09:18.12,Default,that I'm calling this from.
Dialogue: 0,1:09:18.47,1:09:21.11,Default,And then, here's the block\NI want to do, in my app,
Dialogue: 0,1:09:21.11,1:09:23.69,Default,really simple, self,\Npause, game.
Dialogue: 0,1:09:24.57,1:09:26.68,Default,Okay? I'm going to resign\Nbeing the active application,
Dialogue: 0,1:09:26.68,1:09:27.63,Default,so I'm going to pause.
Dialogue: 0,1:09:28.23,1:09:32.74,Default,And similarly, can do the\Nsame thing when I come back,
Dialogue: 0,1:09:33.68,1:09:37.56,Default,but here it's\NUIApplicationDidBecomeActive,
Dialogue: 0,1:09:38.09,1:09:39.75,Default,and here I want to resume.
Dialogue: 0,1:09:41.87,1:09:43.61,Default,Okay? So let's see if this\Nworks [background sounds].
Dialogue: 0,1:09:49.14,1:09:53.92,Default,Alright, so let's get\Nthis doing something
Dialogue: 0,1:09:54.48,1:09:58.38,Default,so we can see some points\Nbeing scored, there we go.
Dialogue: 0,1:09:58.82,1:10:03.12,Default,Okay so we've got some points,\Nwe're about 80, 90, 100, 110,
Dialogue: 0,1:10:03.12,1:10:07.83,Default,okay so if I pause, I'll still\Nbe at 110-ish, see, pause again.
Dialogue: 0,1:10:08.85,1:10:11.68,Default,Okay, my score is saying the\Nsame score, down now pretty fast
Dialogue: 0,1:10:11.68,1:10:14.09,Default,because I'm not hitting\Nthat black block,
Dialogue: 0,1:10:14.09,1:10:15.84,Default,let's get him going again.
Dialogue: 0,1:10:15.84,1:10:18.50,Default,Get the score back up, okay now\NI'm going to go to another app.
Dialogue: 0,1:10:18.50,1:10:20.94,Default,105, 113, so let's\Ngo to another app.
Dialogue: 0,1:10:21.57,1:10:23.58,Default,Okay, maybe settings\Nor something like that,
Dialogue: 0,1:10:23.89,1:10:26.10,Default,and my app right now\Nis paused, I hope.
Dialogue: 0,1:10:26.44,1:10:29.24,Default,So let's go back and\Nhopefully Bouncer will be
Dialogue: 0,1:10:29.48,1:10:32.41,Default,about where it was, and it\Nis, it was at about 100.
Dialogue: 0,1:10:32.85,1:10:37.57,Default,Now, in fact, if we go away and\Ncome back, if you first look,
Dialogue: 0,1:10:37.57,1:10:41.48,Default,you'll see it shows paused for\Na second because it was paused.
Dialogue: 0,1:10:41.94,1:10:47.07,Default,Also, though, you'll notice that\Nsee this is 71, 70, 69, 68, 67.
Dialogue: 0,1:10:47.66,1:10:50.39,Default,Okay? But now when I come back\Nit's not going to be at 66,
Dialogue: 0,1:10:50.75,1:10:52.39,Default,it's farther along, see 65.
Dialogue: 0,1:10:52.67,1:10:53.24,Default,Why is that?
Dialogue: 0,1:10:53.24,1:10:55.73,Default,Well that is because it does\Nget to run for a few seconds.
Dialogue: 0,1:10:56.26,1:10:58.33,Default,Okay? When I click\Nto go to another app,
Dialogue: 0,1:10:58.73,1:11:00.91,Default,I stay the active app\Nfor a few seconds,
Dialogue: 0,1:11:00.91,1:11:04.03,Default,and it gets to run a little bit,\Nand now I'm not the active app,
Dialogue: 0,1:11:04.03,1:11:06.74,Default,so I pause, and then\Nwe come back.
Dialogue: 0,1:11:06.74,1:11:08.15,Default,So there is a short\Namount of time there,
Dialogue: 0,1:11:08.15,1:11:09.61,Default,just so you know\Nthere's that window.
Dialogue: 0,1:11:10.52,1:11:12.52,Default,Okay? The last place\Nthat we want
Dialogue: 0,1:11:12.52,1:11:14.43,Default,to pause and resume is here.
Dialogue: 0,1:11:14.72,1:11:17.76,Default,Okay? Here's ViewDataPeer,\Nwe're already resuming here
Dialogue: 0,1:11:17.76,1:11:18.80,Default,because we used to be starting
Dialogue: 0,1:11:18.80,1:11:19.95,Default,and then we changed\Nit to resume.
Dialogue: 0,1:11:20.26,1:11:26.40,Default,Obviously in view\N[tapping sounds], whoops!
Dialogue: 0,1:11:26.53,1:11:28.56,Default,View, will disappear\N[tapping sounds],
Dialogue: 0,1:11:33.12,1:11:37.36,Default,we want to self pause game.
Dialogue: 0,1:11:37.56,1:11:39.82,Default,Okay? That's again if\Nwe're in the tab bar,
Dialogue: 0,1:11:40.38,1:11:42.98,Default,click on another tab, we\Nwant to pause and come back.
Dialogue: 0,1:11:44.01,1:11:47.63,Default,Alright? Okay, so I didn't\Nget to do action sheet.
Dialogue: 0,1:11:48.12,1:11:52.31,Default,I will post the code for\Nthe action sheet thing.
Dialogue: 0,1:11:52.31,1:11:53.01,Default,All I was going to do
Dialogue: 0,1:11:53.01,1:11:56.22,Default,in the action sheet is just add\Nanother button in PhotoMania
Dialogue: 0,1:11:56.56,1:11:58.93,Default,to do the little photo\Nchoosing, called filter photo,
Dialogue: 0,1:11:58.93,1:12:00.38,Default,and it was going to\Nput up an action sheet,
Dialogue: 0,1:12:00.38,1:12:04.86,Default,and you could pick a photo like,\Nor a filter, like I had noir,
Dialogue: 0,1:12:04.86,1:12:07.65,Default,and chrome, and blur,\Nyou pick one of those,
Dialogue: 0,1:12:07.65,1:12:09.08,Default,and it would apply\Nthe filter to it,
Dialogue: 0,1:12:09.08,1:12:10.59,Default,and that's all we were\Ndoing on the action sheet.
Dialogue: 0,1:12:10.59,1:12:12.08,Default,But it shows you how to\Nput up an action sheet,
Dialogue: 0,1:12:12.08,1:12:14.56,Default,load it up with some\Nthings, and respond to it.
Dialogue: 0,1:12:14.86,1:12:17.12,Default,Okay? So I'll just\Npost that code today
Dialogue: 0,1:12:17.19,1:12:18.00,Default,and you'll get to see that.
Dialogue: 0,1:12:19.45,1:12:20.56,Default,Okay, that is it.
Dialogue: 0,1:12:20.78,1:12:23.71,Default,Uh, Thanksgiving next\Nweek so I will not see you
Dialogue: 0,1:12:23.71,1:12:24.86,Default,for a week and a half.
Dialogue: 0,1:12:25.28,1:12:27.89,Default,Don't procrastinate on your\Nfinal projects everybody.
Dialogue: 0,1:12:27.89,1:12:30.38,Default,Get them going and if you have\Nany questions I'll be here.
Dialogue: 0,1:12:31.32,1:12:31.70,Default,Thank you.
Dialogue: 0,1:12:33.84,1:12:37.16,Default,>> Announcer: For more, please\Nvisit us at stanford.edu.
